{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.221.0"},"children":{"PieceApp-DynamoDB-Dev":{"id":"PieceApp-DynamoDB-Dev","path":"PieceApp-DynamoDB-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"AccountTable":{"id":"AccountTable","path":"PieceApp-DynamoDB-Dev/AccountTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/AccountTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"PK","attributeType":"S"},{"attributeName":"SK","attributeType":"S"},{"attributeName":"GSI1PK","attributeType":"S"},{"attributeName":"GSI1SK","attributeType":"S"},{"attributeName":"GSI2PK","attributeType":"S"},{"attributeName":"GSI2SK","attributeType":"S"},{"attributeName":"GSI3PK","attributeType":"S"},{"attributeName":"GSI3SK","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1_EmailLogin","keySchema":[{"attributeName":"GSI1PK","keyType":"HASH"},{"attributeName":"GSI1SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2_HandleSearch","keySchema":[{"attributeName":"GSI2PK","keyType":"HASH"},{"attributeName":"GSI2SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI3_PhoneManagement","keySchema":[{"attributeName":"GSI3PK","keyType":"HASH"},{"attributeName":"GSI3SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"PK","keyType":"HASH"},{"attributeName":"SK","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1_EmailLogin"},{"indexName":"GSI2_HandleSearch"},{"indexName":"GSI3_PhoneManagement"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ACCOUNT-dev"}}}}},"SessionTable":{"id":"SessionTable","path":"PieceApp-DynamoDB-Dev/SessionTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/SessionTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"PK","attributeType":"S"},{"attributeName":"SK","attributeType":"S"},{"attributeName":"GSI1PK","attributeType":"S"},{"attributeName":"GSI1SK","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1_AccountSessions","keySchema":[{"attributeName":"GSI1PK","keyType":"HASH"},{"attributeName":"GSI1SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"PK","keyType":"HASH"},{"attributeName":"SK","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1_AccountSessions"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"SESSION-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"PostTable":{"id":"PostTable","path":"PieceApp-DynamoDB-Dev/PostTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/PostTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"postId","attributeType":"S"},{"attributeName":"accountId","attributeType":"S"},{"attributeName":"createdAt","attributeType":"N"},{"attributeName":"visibility","attributeType":"S"},{"attributeName":"room_id","attributeType":"S"},{"attributeName":"post_type","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"accountId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"visibility","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI3","keySchema":[{"attributeName":"room_id","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_PostType_CreatedAt","keySchema":[{"attributeName":"post_type","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"postId","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"},{"indexName":"GSI3"},{"indexName":"GSI_PostType_CreatedAt"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"POST-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"HashtagIndexTable":{"id":"HashtagIndexTable","path":"PieceApp-DynamoDB-Dev/HashtagIndexTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/HashtagIndexTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashtag","attributeType":"S"},{"attributeName":"postId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"hashtag","keyType":"HASH"},{"attributeName":"postId","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"HASHTAG_INDEX-dev"}}}}},"HashtagCountTable":{"id":"HashtagCountTable","path":"PieceApp-DynamoDB-Dev/HashtagCountTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/HashtagCountTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashtag","attributeType":"S"},{"attributeName":"period","attributeType":"S"},{"attributeName":"count","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"period","keyType":"HASH"},{"attributeName":"count","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"hashtag","keyType":"HASH"},{"attributeName":"period","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"HASHTAG_COUNT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"FollowTable":{"id":"FollowTable","path":"PieceApp-DynamoDB-Dev/FollowTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/FollowTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"follower_id","attributeType":"S"},{"attributeName":"following_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"follower_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"following_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"follower_id","keyType":"HASH"},{"attributeName":"following_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"FOLLOW-dev"}}}}},"LikeTable":{"id":"LikeTable","path":"PieceApp-DynamoDB-Dev/LikeTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LikeTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"post_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"post_id","keyType":"HASH"},{"attributeName":"account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIKE-dev"}}}}},"CommentTable":{"id":"CommentTable","path":"PieceApp-DynamoDB-Dev/CommentTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/CommentTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"comment_id","attributeType":"S"},{"attributeName":"post_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"post_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"comment_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"COMMENT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"RoomTable":{"id":"RoomTable","path":"PieceApp-DynamoDB-Dev/RoomTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/RoomTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"room_id","attributeType":"S"},{"attributeName":"category","attributeType":"S"},{"attributeName":"member_count","attributeType":"N"},{"attributeName":"room_handle","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"category","keyType":"HASH"},{"attributeName":"member_count","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"room_handle","keyType":"HASH"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"room_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ROOM-dev"}}}}},"RoomMemberTable":{"id":"RoomMemberTable","path":"PieceApp-DynamoDB-Dev/RoomMemberTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/RoomMemberTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"room_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"joined_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"joined_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"room_id","keyType":"HASH"},{"attributeName":"account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ROOM_MEMBER-dev"}}}}},"NotificationTable":{"id":"NotificationTable","path":"PieceApp-DynamoDB-Dev/NotificationTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/NotificationTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"notification_id","attributeType":"S"},{"attributeName":"recipient_account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"is_read","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"recipient_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"recipient_account_id","keyType":"HASH"},{"attributeName":"is_read","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"notification_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"NOTIFICATION-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"NotificationSettingsTable":{"id":"NotificationSettingsTable","path":"PieceApp-DynamoDB-Dev/NotificationSettingsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/NotificationSettingsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"account_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"NOTIFICATION_SETTINGS-dev"}}}}},"MutedAccountsTable":{"id":"MutedAccountsTable","path":"PieceApp-DynamoDB-Dev/MutedAccountsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/MutedAccountsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"account_id","attributeType":"S"},{"attributeName":"muted_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"muted_account_id","keyType":"HASH"},{"attributeName":"account_id","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"muted_account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"MUTED_ACCOUNTS-dev"}}}}},"RepostTable":{"id":"RepostTable","path":"PieceApp-DynamoDB-Dev/RepostTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/RepostTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"repost_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"original_post_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"original_post_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"repost_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"REPOST-dev"}}}}},"BlockTable":{"id":"BlockTable","path":"PieceApp-DynamoDB-Dev/BlockTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/BlockTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"blocker_account_id","attributeType":"S"},{"attributeName":"blocked_account_id","attributeType":"S"},{"attributeName":"blocked_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_blocked_by","keySchema":[{"attributeName":"blocked_account_id","keyType":"HASH"},{"attributeName":"blocked_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"blocker_account_id","keyType":"HASH"},{"attributeName":"blocked_account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_blocked_by"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"BLOCK-dev"}}}}},"ReportTable":{"id":"ReportTable","path":"PieceApp-DynamoDB-Dev/ReportTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ReportTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"report_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"status","attributeType":"S"},{"attributeName":"target_type","attributeType":"S"},{"attributeName":"reporter_account_id","attributeType":"S"},{"attributeName":"target_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_status_reports","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_target_reports","keySchema":[{"attributeName":"target_type","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_reporter_history","keySchema":[{"attributeName":"reporter_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_reported_user","keySchema":[{"attributeName":"target_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"report_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_status_reports"},{"indexName":"GSI_target_reports"},{"indexName":"GSI_reporter_history"},{"indexName":"GSI_reported_user"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"REPORT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveStreamTable":{"id":"LiveStreamTable","path":"PieceApp-DynamoDB-Dev/LiveStreamTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveStreamTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"room_id","attributeType":"S"},{"attributeName":"started_at","attributeType":"N"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"status","attributeType":"S"},{"attributeName":"mux_live_stream_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_room_lives","keySchema":[{"attributeName":"room_id","keyType":"HASH"},{"attributeName":"started_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_account_lives","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"started_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_active_lives","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"started_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_mux_stream_lookup","keySchema":[{"attributeName":"mux_live_stream_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_room_lives"},{"indexName":"GSI_account_lives"},{"indexName":"GSI_active_lives"},{"indexName":"GSI_mux_stream_lookup"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_STREAM-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveViewerTable":{"id":"LiveViewerTable","path":"PieceApp-DynamoDB-Dev/LiveViewerTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveViewerTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"viewer_key","attributeType":"S"},{"attributeName":"joined_at","attributeType":"N"},{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"last_ping_at","attributeType":"N"},{"attributeName":"account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_stream_viewers","keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"last_ping_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_user_watch_history","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"joined_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"viewer_key","keyType":"HASH"},{"attributeName":"joined_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_stream_viewers"},{"indexName":"GSI_user_watch_history"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_VIEWER-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveModeratorTable":{"id":"LiveModeratorTable","path":"PieceApp-DynamoDB-Dev/LiveModeratorTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveModeratorTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"moderator_account_id","attributeType":"S"},{"attributeName":"assigned_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_moderator_streams","keySchema":[{"attributeName":"moderator_account_id","keyType":"HASH"},{"attributeName":"assigned_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"moderator_account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_moderator_streams"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_MODERATOR-dev"}}}}},"ModeratorActionLogTable":{"id":"ModeratorActionLogTable","path":"PieceApp-DynamoDB-Dev/ModeratorActionLogTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ModeratorActionLogTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"log_id","attributeType":"S"},{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"moderator_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_stream_actions","keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_moderator_actions","keySchema":[{"attributeName":"moderator_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"log_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_stream_actions"},{"indexName":"GSI_moderator_actions"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"MODERATOR_ACTION_LOG-dev"}}}}},"LiveChatTable":{"id":"LiveChatTable","path":"PieceApp-DynamoDB-Dev/LiveChatTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveChatTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"chat_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_user_chat_history","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"chat_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_user_chat_history"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_CHAT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveGiftTable":{"id":"LiveGiftTable","path":"PieceApp-DynamoDB-Dev/LiveGiftTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveGiftTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"gift_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"from_account_id","attributeType":"S"},{"attributeName":"to_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_stream_gifts","keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_sender_gifts","keySchema":[{"attributeName":"from_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_receiver_gifts","keySchema":[{"attributeName":"to_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"gift_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_stream_gifts"},{"indexName":"GSI_sender_gifts"},{"indexName":"GSI_receiver_gifts"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_GIFT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"ProductTable":{"id":"ProductTable","path":"PieceApp-DynamoDB-Dev/ProductTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ProductTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"product_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"seller_account_id","attributeType":"S"},{"attributeName":"category","attributeType":"S"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_seller_products","keySchema":[{"attributeName":"seller_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_category_products","keySchema":[{"attributeName":"category","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_status_products","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"product_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_seller_products"},{"indexName":"GSI_category_products"},{"indexName":"GSI_status_products"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"PRODUCT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"ProductTagTable":{"id":"ProductTagTable","path":"PieceApp-DynamoDB-Dev/ProductTagTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ProductTagTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"post_id","attributeType":"S"},{"attributeName":"product_id","attributeType":"S"},{"attributeName":"tagged_at","attributeType":"N"},{"attributeName":"tagged_by_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_product_posts","keySchema":[{"attributeName":"product_id","keyType":"HASH"},{"attributeName":"tagged_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_user_tags","keySchema":[{"attributeName":"tagged_by_account_id","keyType":"HASH"},{"attributeName":"tagged_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"post_id","keyType":"HASH"},{"attributeName":"product_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_product_posts"},{"indexName":"GSI_user_tags"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"PRODUCT_TAG-dev"}}}}},"ConversationTable":{"id":"ConversationTable","path":"PieceApp-DynamoDB-Dev/ConversationTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ConversationTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"participant_1_id","attributeType":"S"},{"attributeName":"last_message_at","attributeType":"N"},{"attributeName":"participant_2_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_participant1_conversations","keySchema":[{"attributeName":"participant_1_id","keyType":"HASH"},{"attributeName":"last_message_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_participant2_conversations","keySchema":[{"attributeName":"participant_2_id","keyType":"HASH"},{"attributeName":"last_message_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"conversation_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_participant1_conversations"},{"indexName":"GSI_participant2_conversations"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"CONVERSATION-dev"}}}}},"MessageTable":{"id":"MessageTable","path":"PieceApp-DynamoDB-Dev/MessageTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/MessageTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"message_id","attributeType":"S"},{"attributeName":"sender_account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_sender_messages","keySchema":[{"attributeName":"sender_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"conversation_id","keyType":"HASH"},{"attributeName":"message_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_sender_messages"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"MESSAGE-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"AnalyticsTable":{"id":"AnalyticsTable","path":"PieceApp-DynamoDB-Dev/AnalyticsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/AnalyticsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"date","attributeType":"S"},{"attributeName":"event_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"timestamp","attributeType":"N"},{"attributeName":"event_type","attributeType":"S"},{"attributeName":"target_type","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_user_events","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_event_type","keySchema":[{"attributeName":"event_type","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_target_events","keySchema":[{"attributeName":"target_type","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"date","keyType":"HASH"},{"attributeName":"event_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_user_events"},{"indexName":"GSI_event_type"},{"indexName":"GSI_target_events"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ANALYTICS-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"ConnectionsTable":{"id":"ConnectionsTable","path":"PieceApp-DynamoDB-Dev/ConnectionsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ConnectionsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"connection_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"connected_at","attributeType":"N"},{"attributeName":"stream_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_account_connections","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"connected_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_live_connections","keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"connected_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"connection_id","keyType":"HASH"},{"attributeName":"account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_account_connections"},{"indexName":"GSI_live_connections"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"CONNECTIONS-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"accountTableName":{"id":"accountTableName","path":"PieceApp-DynamoDB-Dev/accountTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"sessionTableName":{"id":"sessionTableName","path":"PieceApp-DynamoDB-Dev/sessionTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"postTableName":{"id":"postTableName","path":"PieceApp-DynamoDB-Dev/postTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"hashtagIndexTableName":{"id":"hashtagIndexTableName","path":"PieceApp-DynamoDB-Dev/hashtagIndexTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"hashtagCountTableName":{"id":"hashtagCountTableName","path":"PieceApp-DynamoDB-Dev/hashtagCountTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"followTableName":{"id":"followTableName","path":"PieceApp-DynamoDB-Dev/followTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"likeTableName":{"id":"likeTableName","path":"PieceApp-DynamoDB-Dev/likeTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"commentTableName":{"id":"commentTableName","path":"PieceApp-DynamoDB-Dev/commentTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"roomTableName":{"id":"roomTableName","path":"PieceApp-DynamoDB-Dev/roomTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"roomMemberTableName":{"id":"roomMemberTableName","path":"PieceApp-DynamoDB-Dev/roomMemberTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"notificationTableName":{"id":"notificationTableName","path":"PieceApp-DynamoDB-Dev/notificationTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"notificationSettingsTableName":{"id":"notificationSettingsTableName","path":"PieceApp-DynamoDB-Dev/notificationSettingsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"mutedAccountsTableName":{"id":"mutedAccountsTableName","path":"PieceApp-DynamoDB-Dev/mutedAccountsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"repostTableName":{"id":"repostTableName","path":"PieceApp-DynamoDB-Dev/repostTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"blockTableName":{"id":"blockTableName","path":"PieceApp-DynamoDB-Dev/blockTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"reportTableName":{"id":"reportTableName","path":"PieceApp-DynamoDB-Dev/reportTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveStreamTableName":{"id":"liveStreamTableName","path":"PieceApp-DynamoDB-Dev/liveStreamTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveViewerTableName":{"id":"liveViewerTableName","path":"PieceApp-DynamoDB-Dev/liveViewerTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveModeratorTableName":{"id":"liveModeratorTableName","path":"PieceApp-DynamoDB-Dev/liveModeratorTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"moderatorActionLogTableName":{"id":"moderatorActionLogTableName","path":"PieceApp-DynamoDB-Dev/moderatorActionLogTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveChatTableName":{"id":"liveChatTableName","path":"PieceApp-DynamoDB-Dev/liveChatTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveGiftTableName":{"id":"liveGiftTableName","path":"PieceApp-DynamoDB-Dev/liveGiftTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"productTableName":{"id":"productTableName","path":"PieceApp-DynamoDB-Dev/productTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"productTagTableName":{"id":"productTagTableName","path":"PieceApp-DynamoDB-Dev/productTagTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"conversationTableName":{"id":"conversationTableName","path":"PieceApp-DynamoDB-Dev/conversationTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"messageTableName":{"id":"messageTableName","path":"PieceApp-DynamoDB-Dev/messageTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"analyticsTableName":{"id":"analyticsTableName","path":"PieceApp-DynamoDB-Dev/analyticsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"connectionsTableName":{"id":"connectionsTableName","path":"PieceApp-DynamoDB-Dev/connectionsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-DynamoDB-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-DynamoDB-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"Exports":{"id":"Exports","path":"PieceApp-DynamoDB-Dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"ConnectionsTable8000B8A1\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ConnectionsTable8000B8A1\",\"Arn\"]}","path":"PieceApp-DynamoDB-Dev/Exports/Output{\"Fn::GetAtt\":[\"ConnectionsTable8000B8A1\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Ref\":\"ConnectionsTable8000B8A1\"}":{"id":"Output{\"Ref\":\"ConnectionsTable8000B8A1\"}","path":"PieceApp-DynamoDB-Dev/Exports/Output{\"Ref\":\"ConnectionsTable8000B8A1\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-DynamoDB-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-DynamoDB-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-S3-Dev":{"id":"PieceApp-S3-Dev","path":"PieceApp-S3-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"PieceAppMediaBucket":{"id":"PieceAppMediaBucket","path":"PieceApp-S3-Dev/PieceAppMediaBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-S3-Dev/PieceAppMediaBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"piece-app-1983-dev","corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["GET","POST","PUT","DELETE"],"allowedOrigins":["*"],"exposedHeaders":["ETag","x-amz-server-side-encryption","x-amz-request-id","x-amz-id-2"]}]},"lifecycleConfiguration":{"rules":[{"abortIncompleteMultipartUpload":{"daysAfterInitiation":7},"expirationInDays":30,"id":"DeleteOldObjects","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"Policy":{"id":"Policy","path":"PieceApp-S3-Dev/PieceAppMediaBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-S3-Dev/PieceAppMediaBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"PieceAppMediaBucket57D35C9E"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["PieceAppMediaBucket57D35C9E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PieceAppMediaBucket57D35C9E","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"PieceApp-S3-Dev/PieceAppMediaBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.221.0","metadata":[]},"children":{"Default":{"id":"Default","path":"PieceApp-S3-Dev/PieceAppMediaBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.221.0"},"children":{"Staging":{"id":"Staging","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"Role":{"id":"Role","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}},"Handler":{"id":"Handler","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"MediaBucketName":{"id":"MediaBucketName","path":"PieceApp-S3-Dev/MediaBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"MediaBucketArn":{"id":"MediaBucketArn","path":"PieceApp-S3-Dev/MediaBucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-S3-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-S3-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-S3-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-S3-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-SecretsManager-Dev":{"id":"PieceApp-SecretsManager-Dev","path":"PieceApp-SecretsManager-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"MuxSecret":{"id":"MuxSecret","path":"PieceApp-SecretsManager-Dev/MuxSecret","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"MuxSecretArn":{"id":"MuxSecretArn","path":"PieceApp-SecretsManager-Dev/MuxSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"MuxSecretName":{"id":"MuxSecretName","path":"PieceApp-SecretsManager-Dev/MuxSecretName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-SecretsManager-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-SecretsManager-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-SecretsManager-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-SecretsManager-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-Lambda-Dev":{"id":"PieceApp-Lambda-Dev","path":"PieceApp-Lambda-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"CreateAccountFunctionLogGroup":{"id":"CreateAccountFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateAccountFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-account-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateAccountFunction":{"id":"CreateAccountFunction","path":"PieceApp-Lambda-Dev/CreateAccountFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateAccountFunctionServiceRoleDefaultPolicy54EA7564","roles":[{"Ref":"CreateAccountFunctionServiceRole7A83FD08"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create new account","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-account-dev","handler":"dist/handlers/account/createAccount.handler","loggingConfig":{"logGroup":{"Ref":"CreateAccountFunctionLogGroup1A713697"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateAccountFunctionServiceRole7A83FD08","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetProfileFunctionLogGroup":{"id":"GetProfileFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetProfileFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-profile-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetProfileFunction":{"id":"GetProfileFunction","path":"PieceApp-Lambda-Dev/GetProfileFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetProfileFunctionServiceRoleDefaultPolicyE093D831","roles":[{"Ref":"GetProfileFunctionServiceRole6BDF10E2"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetProfileFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetProfileFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetProfileFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get user profile","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-profile-dev","handler":"dist/handlers/account/getProfile.handler","loggingConfig":{"logGroup":{"Ref":"GetProfileFunctionLogGroupC8C0D4EE"}},"memorySize":512,"role":{"Fn::GetAtt":["GetProfileFunctionServiceRole6BDF10E2","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UpdateProfileFunctionLogGroup":{"id":"UpdateProfileFunctionLogGroup","path":"PieceApp-Lambda-Dev/UpdateProfileFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-update-profile-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UpdateProfileFunction":{"id":"UpdateProfileFunction","path":"PieceApp-Lambda-Dev/UpdateProfileFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UpdateProfileFunctionServiceRoleDefaultPolicy7EA15D9A","roles":[{"Ref":"UpdateProfileFunctionServiceRole8B8F925E"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Update user profile","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-update-profile-dev","handler":"dist/handlers/account/updateProfile.handler","loggingConfig":{"logGroup":{"Ref":"UpdateProfileFunctionLogGroup05D59A0D"}},"memorySize":512,"role":{"Fn::GetAtt":["UpdateProfileFunctionServiceRole8B8F925E","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreatePostFunctionLogGroup":{"id":"CreatePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreatePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreatePostFunction":{"id":"CreatePostFunction","path":"PieceApp-Lambda-Dev/CreatePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreatePostFunctionServiceRoleDefaultPolicyD597A210","roles":[{"Ref":"CreatePostFunctionServiceRoleCAC21E42"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreatePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreatePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreatePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create new post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-post-dev","handler":"dist/handlers/post/createPost.handler","loggingConfig":{"logGroup":{"Ref":"CreatePostFunctionLogGroup4818EB19"}},"memorySize":512,"role":{"Fn::GetAtt":["CreatePostFunctionServiceRoleCAC21E42","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetPostFunctionLogGroup":{"id":"GetPostFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetPostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetPostFunction":{"id":"GetPostFunction","path":"PieceApp-Lambda-Dev/GetPostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetPostFunctionServiceRoleDefaultPolicyFA724DF7","roles":[{"Ref":"GetPostFunctionServiceRole8B816CAB"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetPostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetPostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetPostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get post details","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-post-dev","handler":"dist/handlers/post/getPost.handler","loggingConfig":{"logGroup":{"Ref":"GetPostFunctionLogGroup7518B25C"}},"memorySize":512,"role":{"Fn::GetAtt":["GetPostFunctionServiceRole8B816CAB","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"DeletePostFunctionLogGroup":{"id":"DeletePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/DeletePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-delete-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"DeletePostFunction":{"id":"DeletePostFunction","path":"PieceApp-Lambda-Dev/DeletePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DeletePostFunctionServiceRoleDefaultPolicy10BC29FC","roles":[{"Ref":"DeletePostFunctionServiceRole270036C0"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/DeletePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/DeletePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/DeletePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Delete post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-delete-post-dev","handler":"dist/handlers/post/deletePost.handler","loggingConfig":{"logGroup":{"Ref":"DeletePostFunctionLogGroupF51EA510"}},"memorySize":512,"role":{"Fn::GetAtt":["DeletePostFunctionServiceRole270036C0","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetTimelineFunctionLogGroup":{"id":"GetTimelineFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetTimelineFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-timeline-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetTimelineFunction":{"id":"GetTimelineFunction","path":"PieceApp-Lambda-Dev/GetTimelineFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetTimelineFunctionServiceRoleDefaultPolicy49A6E7E5","roles":[{"Ref":"GetTimelineFunctionServiceRole24E2B995"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get user timeline","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-timeline-dev","handler":"dist/handlers/post/getTimeline.handler","loggingConfig":{"logGroup":{"Ref":"GetTimelineFunctionLogGroup027BD8B2"}},"memorySize":512,"role":{"Fn::GetAtt":["GetTimelineFunctionServiceRole24E2B995","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"LikePostFunctionLogGroup":{"id":"LikePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/LikePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-like-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"LikePostFunction":{"id":"LikePostFunction","path":"PieceApp-Lambda-Dev/LikePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LikePostFunctionServiceRoleDefaultPolicyA045F05E","roles":[{"Ref":"LikePostFunctionServiceRole7F80FB55"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/LikePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/LikePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/LikePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Like a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-like-post-dev","handler":"dist/handlers/like/likePost.handler","loggingConfig":{"logGroup":{"Ref":"LikePostFunctionLogGroupAAB6AFEE"}},"memorySize":512,"role":{"Fn::GetAtt":["LikePostFunctionServiceRole7F80FB55","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UnlikePostFunctionLogGroup":{"id":"UnlikePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/UnlikePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-unlike-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UnlikePostFunction":{"id":"UnlikePostFunction","path":"PieceApp-Lambda-Dev/UnlikePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UnlikePostFunctionServiceRoleDefaultPolicyC93B172F","roles":[{"Ref":"UnlikePostFunctionServiceRoleFADA4A7A"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Unlike a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-unlike-post-dev","handler":"dist/handlers/like/unlikePost.handler","loggingConfig":{"logGroup":{"Ref":"UnlikePostFunctionLogGroup752A066D"}},"memorySize":512,"role":{"Fn::GetAtt":["UnlikePostFunctionServiceRoleFADA4A7A","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateCommentFunctionLogGroup":{"id":"CreateCommentFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateCommentFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-comment-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateCommentFunction":{"id":"CreateCommentFunction","path":"PieceApp-Lambda-Dev/CreateCommentFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateCommentFunctionServiceRoleDefaultPolicyABFC176C","roles":[{"Ref":"CreateCommentFunctionServiceRoleFF3E614F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create comment on post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-comment-dev","handler":"dist/handlers/comment/createComment.handler","loggingConfig":{"logGroup":{"Ref":"CreateCommentFunctionLogGroup878D3346"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateCommentFunctionServiceRoleFF3E614F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"DeleteCommentFunctionLogGroup":{"id":"DeleteCommentFunctionLogGroup","path":"PieceApp-Lambda-Dev/DeleteCommentFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-delete-comment-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"DeleteCommentFunction":{"id":"DeleteCommentFunction","path":"PieceApp-Lambda-Dev/DeleteCommentFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DeleteCommentFunctionServiceRoleDefaultPolicy7CEF2603","roles":[{"Ref":"DeleteCommentFunctionServiceRole00ED93D1"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Delete comment","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-delete-comment-dev","handler":"dist/handlers/comment/deleteComment.handler","loggingConfig":{"logGroup":{"Ref":"DeleteCommentFunctionLogGroup13353F57"}},"memorySize":512,"role":{"Fn::GetAtt":["DeleteCommentFunctionServiceRole00ED93D1","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetCommentsFunctionLogGroup":{"id":"GetCommentsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetCommentsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-comments-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetCommentsFunction":{"id":"GetCommentsFunction","path":"PieceApp-Lambda-Dev/GetCommentsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetCommentsFunctionServiceRoleDefaultPolicy86823EBD","roles":[{"Ref":"GetCommentsFunctionServiceRole3B8AD617"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get comments for post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-comments-dev","handler":"dist/handlers/comment/getComments.handler","loggingConfig":{"logGroup":{"Ref":"GetCommentsFunctionLogGroup4DE5B8E6"}},"memorySize":512,"role":{"Fn::GetAtt":["GetCommentsFunctionServiceRole3B8AD617","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"FollowUserFunctionLogGroup":{"id":"FollowUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/FollowUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-follow-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"FollowUserFunction":{"id":"FollowUserFunction","path":"PieceApp-Lambda-Dev/FollowUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"FollowUserFunctionServiceRoleDefaultPolicy4860485C","roles":[{"Ref":"FollowUserFunctionServiceRole01DFDF62"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/FollowUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/FollowUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/FollowUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Follow a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-follow-user-dev","handler":"dist/handlers/follow/followUser.handler","loggingConfig":{"logGroup":{"Ref":"FollowUserFunctionLogGroup612FE9A3"}},"memorySize":512,"role":{"Fn::GetAtt":["FollowUserFunctionServiceRole01DFDF62","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UnfollowUserFunctionLogGroup":{"id":"UnfollowUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/UnfollowUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-unfollow-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UnfollowUserFunction":{"id":"UnfollowUserFunction","path":"PieceApp-Lambda-Dev/UnfollowUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UnfollowUserFunctionServiceRoleDefaultPolicy15962B9C","roles":[{"Ref":"UnfollowUserFunctionServiceRole11B22463"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Unfollow a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-unfollow-user-dev","handler":"dist/handlers/follow/unfollowUser.handler","loggingConfig":{"logGroup":{"Ref":"UnfollowUserFunctionLogGroup97908F95"}},"memorySize":512,"role":{"Fn::GetAtt":["UnfollowUserFunctionServiceRole11B22463","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateRoomFunctionLogGroup":{"id":"CreateRoomFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateRoomFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-room-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateRoomFunction":{"id":"CreateRoomFunction","path":"PieceApp-Lambda-Dev/CreateRoomFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateRoomFunctionServiceRoleDefaultPolicyFD4FFC2F","roles":[{"Ref":"CreateRoomFunctionServiceRoleB72470D3"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create new room","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-room-dev","handler":"dist/handlers/room/createRoom.handler","loggingConfig":{"logGroup":{"Ref":"CreateRoomFunctionLogGroupD5B4A4C9"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateRoomFunctionServiceRoleB72470D3","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"JoinRoomFunctionLogGroup":{"id":"JoinRoomFunctionLogGroup","path":"PieceApp-Lambda-Dev/JoinRoomFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-join-room-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"JoinRoomFunction":{"id":"JoinRoomFunction","path":"PieceApp-Lambda-Dev/JoinRoomFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"JoinRoomFunctionServiceRoleDefaultPolicyF589DD31","roles":[{"Ref":"JoinRoomFunctionServiceRole7C6EF31F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Join a room","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-join-room-dev","handler":"dist/handlers/room/joinRoom.handler","loggingConfig":{"logGroup":{"Ref":"JoinRoomFunctionLogGroupAC7F8B16"}},"memorySize":512,"role":{"Fn::GetAtt":["JoinRoomFunctionServiceRole7C6EF31F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateConversationFunctionLogGroup":{"id":"CreateConversationFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateConversationFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateConversationFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-conversation-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateConversationFunction":{"id":"CreateConversationFunction","path":"PieceApp-Lambda-Dev/CreateConversationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateConversationFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateConversationFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateConversationFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateConversationFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateConversationFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateConversationFunctionServiceRoleDefaultPolicyB32FE5A1","roles":[{"Ref":"CreateConversationFunctionServiceRole752DE56B"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateConversationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateConversationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateConversationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateConversationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create or get existing conversation","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-conversation-dev","handler":"dist/handlers/conversation/createConversation.handler","loggingConfig":{"logGroup":{"Ref":"CreateConversationFunctionLogGroupA47D723B"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateConversationFunctionServiceRole752DE56B","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetConversationsFunctionLogGroup":{"id":"GetConversationsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetConversationsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetConversationsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-conversations-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetConversationsFunction":{"id":"GetConversationsFunction","path":"PieceApp-Lambda-Dev/GetConversationsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetConversationsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetConversationsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetConversationsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetConversationsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetConversationsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetConversationsFunctionServiceRoleDefaultPolicyA4DB5BF2","roles":[{"Ref":"GetConversationsFunctionServiceRole281CD647"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetConversationsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetConversationsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetConversationsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetConversationsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get user conversations list","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-conversations-dev","handler":"dist/handlers/conversation/getConversations.handler","loggingConfig":{"logGroup":{"Ref":"GetConversationsFunctionLogGroupB5146604"}},"memorySize":512,"role":{"Fn::GetAtt":["GetConversationsFunctionServiceRole281CD647","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"SendMessageFunctionLogGroup":{"id":"SendMessageFunctionLogGroup","path":"PieceApp-Lambda-Dev/SendMessageFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendMessageFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-send-message-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"SendMessageFunction":{"id":"SendMessageFunction","path":"PieceApp-Lambda-Dev/SendMessageFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/SendMessageFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/SendMessageFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendMessageFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/SendMessageFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendMessageFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SendMessageFunctionServiceRoleDefaultPolicy93F13ECD","roles":[{"Ref":"SendMessageFunctionServiceRoleBA456E9F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/SendMessageFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/SendMessageFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/SendMessageFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendMessageFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Send message in conversation","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-send-message-dev","handler":"dist/handlers/message/sendMessage.handler","loggingConfig":{"logGroup":{"Ref":"SendMessageFunctionLogGroupA3466F8D"}},"memorySize":512,"role":{"Fn::GetAtt":["SendMessageFunctionServiceRoleBA456E9F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetMessagesFunctionLogGroup":{"id":"GetMessagesFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetMessagesFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMessagesFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-messages-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetMessagesFunction":{"id":"GetMessagesFunction","path":"PieceApp-Lambda-Dev/GetMessagesFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetMessagesFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetMessagesFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMessagesFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetMessagesFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMessagesFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetMessagesFunctionServiceRoleDefaultPolicy14208670","roles":[{"Ref":"GetMessagesFunctionServiceRoleA1070383"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetMessagesFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetMessagesFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetMessagesFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMessagesFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get messages for conversation","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-messages-dev","handler":"dist/handlers/message/getMessages.handler","loggingConfig":{"logGroup":{"Ref":"GetMessagesFunctionLogGroup5374DB85"}},"memorySize":512,"role":{"Fn::GetAtt":["GetMessagesFunctionServiceRoleA1070383","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"BlockUserFunctionLogGroup":{"id":"BlockUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/BlockUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BlockUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-block-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"BlockUserFunction":{"id":"BlockUserFunction","path":"PieceApp-Lambda-Dev/BlockUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/BlockUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/BlockUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BlockUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/BlockUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BlockUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"BlockUserFunctionServiceRoleDefaultPolicyFA9F887A","roles":[{"Ref":"BlockUserFunctionServiceRole866D6131"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/BlockUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/BlockUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/BlockUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BlockUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Block a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-block-user-dev","handler":"dist/handlers/block/blockUser.handler","loggingConfig":{"logGroup":{"Ref":"BlockUserFunctionLogGroup6F600C4C"}},"memorySize":512,"role":{"Fn::GetAtt":["BlockUserFunctionServiceRole866D6131","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UnblockUserFunctionLogGroup":{"id":"UnblockUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/UnblockUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnblockUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-unblock-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UnblockUserFunction":{"id":"UnblockUserFunction","path":"PieceApp-Lambda-Dev/UnblockUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UnblockUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UnblockUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnblockUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UnblockUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnblockUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UnblockUserFunctionServiceRoleDefaultPolicy0B7F4860","roles":[{"Ref":"UnblockUserFunctionServiceRole746CE3D8"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UnblockUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UnblockUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UnblockUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnblockUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Unblock a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-unblock-user-dev","handler":"dist/handlers/block/unblockUser.handler","loggingConfig":{"logGroup":{"Ref":"UnblockUserFunctionLogGroup05B66C02"}},"memorySize":512,"role":{"Fn::GetAtt":["UnblockUserFunctionServiceRole746CE3D8","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetBlockListFunctionLogGroup":{"id":"GetBlockListFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetBlockListFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetBlockListFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-block-list-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetBlockListFunction":{"id":"GetBlockListFunction","path":"PieceApp-Lambda-Dev/GetBlockListFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetBlockListFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetBlockListFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetBlockListFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetBlockListFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetBlockListFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetBlockListFunctionServiceRoleDefaultPolicyFB21E438","roles":[{"Ref":"GetBlockListFunctionServiceRoleB5E9BA4F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetBlockListFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetBlockListFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetBlockListFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetBlockListFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get blocked users list","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-block-list-dev","handler":"dist/handlers/block/getBlockList.handler","loggingConfig":{"logGroup":{"Ref":"GetBlockListFunctionLogGroup4CB9490C"}},"memorySize":512,"role":{"Fn::GetAtt":["GetBlockListFunctionServiceRoleB5E9BA4F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateRepostFunctionLogGroup":{"id":"CreateRepostFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateRepostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRepostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-repost-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateRepostFunction":{"id":"CreateRepostFunction","path":"PieceApp-Lambda-Dev/CreateRepostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateRepostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateRepostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRepostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateRepostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRepostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateRepostFunctionServiceRoleDefaultPolicy72514626","roles":[{"Ref":"CreateRepostFunctionServiceRole666A09D3"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateRepostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateRepostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateRepostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRepostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create a repost (share post)","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-repost-dev","handler":"dist/handlers/repost/createRepost.handler","loggingConfig":{"logGroup":{"Ref":"CreateRepostFunctionLogGroup4C7FD0EA"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateRepostFunctionServiceRole666A09D3","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"DeleteRepostFunctionLogGroup":{"id":"DeleteRepostFunctionLogGroup","path":"PieceApp-Lambda-Dev/DeleteRepostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteRepostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-delete-repost-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"DeleteRepostFunction":{"id":"DeleteRepostFunction","path":"PieceApp-Lambda-Dev/DeleteRepostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DeleteRepostFunctionServiceRoleDefaultPolicy7B7E801A","roles":[{"Ref":"DeleteRepostFunctionServiceRole36E45948"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteRepostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Delete a repost","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-delete-repost-dev","handler":"dist/handlers/repost/deleteRepost.handler","loggingConfig":{"logGroup":{"Ref":"DeleteRepostFunctionLogGroupFD7B75FD"}},"memorySize":512,"role":{"Fn::GetAtt":["DeleteRepostFunctionServiceRole36E45948","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateReportFunctionLogGroup":{"id":"CreateReportFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateReportFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateReportFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-report-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateReportFunction":{"id":"CreateReportFunction","path":"PieceApp-Lambda-Dev/CreateReportFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateReportFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateReportFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateReportFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateReportFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateReportFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateReportFunctionServiceRoleDefaultPolicyF565AB47","roles":[{"Ref":"CreateReportFunctionServiceRole22D4A857"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateReportFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateReportFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateReportFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateReportFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create a report","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-report-dev","handler":"dist/handlers/report/createReport.handler","loggingConfig":{"logGroup":{"Ref":"CreateReportFunctionLogGroup62B1129E"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateReportFunctionServiceRole22D4A857","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetReportsFunctionLogGroup":{"id":"GetReportsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetReportsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetReportsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-reports-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetReportsFunction":{"id":"GetReportsFunction","path":"PieceApp-Lambda-Dev/GetReportsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetReportsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetReportsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetReportsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetReportsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetReportsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetReportsFunctionServiceRoleDefaultPolicyD29C3A9C","roles":[{"Ref":"GetReportsFunctionServiceRole35432670"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetReportsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetReportsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetReportsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetReportsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get reports","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-reports-dev","handler":"dist/handlers/report/getReports.handler","loggingConfig":{"logGroup":{"Ref":"GetReportsFunctionLogGroup93B94656"}},"memorySize":512,"role":{"Fn::GetAtt":["GetReportsFunctionServiceRole35432670","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetNotificationsFunctionLogGroup":{"id":"GetNotificationsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetNotificationsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-notifications-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetNotificationsFunction":{"id":"GetNotificationsFunction","path":"PieceApp-Lambda-Dev/GetNotificationsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetNotificationsFunctionServiceRoleDefaultPolicy593AD3C0","roles":[{"Ref":"GetNotificationsFunctionServiceRole60DF0826"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get user notifications","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-notifications-dev","handler":"dist/handlers/notification/getNotifications.handler","loggingConfig":{"logGroup":{"Ref":"GetNotificationsFunctionLogGroup649852AE"}},"memorySize":512,"role":{"Fn::GetAtt":["GetNotificationsFunctionServiceRole60DF0826","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"MarkAsReadFunctionLogGroup":{"id":"MarkAsReadFunctionLogGroup","path":"PieceApp-Lambda-Dev/MarkAsReadFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAsReadFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-mark-as-read-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"MarkAsReadFunction":{"id":"MarkAsReadFunction","path":"PieceApp-Lambda-Dev/MarkAsReadFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"MarkAsReadFunctionServiceRoleDefaultPolicy0A467CC2","roles":[{"Ref":"MarkAsReadFunctionServiceRoleAA645F03"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAsReadFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Mark notification as read","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-mark-as-read-dev","handler":"dist/handlers/notification/markAsRead.handler","loggingConfig":{"logGroup":{"Ref":"MarkAsReadFunctionLogGroupDA41249E"}},"memorySize":512,"role":{"Fn::GetAtt":["MarkAsReadFunctionServiceRoleAA645F03","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"MarkAllAsReadFunctionLogGroup":{"id":"MarkAllAsReadFunctionLogGroup","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-mark-all-as-read-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"MarkAllAsReadFunction":{"id":"MarkAllAsReadFunction","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"MarkAllAsReadFunctionServiceRoleDefaultPolicy4A140C5C","roles":[{"Ref":"MarkAllAsReadFunctionServiceRoleEAC179E9"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MarkAllAsReadFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Mark all notifications as read","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-mark-all-as-read-dev","handler":"dist/handlers/notification/markAllAsRead.handler","loggingConfig":{"logGroup":{"Ref":"MarkAllAsReadFunctionLogGroupB5DCABDF"}},"memorySize":512,"role":{"Fn::GetAtt":["MarkAllAsReadFunctionServiceRoleEAC179E9","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetNotificationSettingsFunctionLogGroup":{"id":"GetNotificationSettingsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-notification-settings-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetNotificationSettingsFunction":{"id":"GetNotificationSettingsFunction","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetNotificationSettingsFunctionServiceRoleDefaultPolicyD11A1467","roles":[{"Ref":"GetNotificationSettingsFunctionServiceRole83BB3AE6"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetNotificationSettingsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get notification settings","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-notification-settings-dev","handler":"dist/handlers/notification/getNotificationSettings.handler","loggingConfig":{"logGroup":{"Ref":"GetNotificationSettingsFunctionLogGroupC19EFCFC"}},"memorySize":512,"role":{"Fn::GetAtt":["GetNotificationSettingsFunctionServiceRole83BB3AE6","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UpdateNotificationSettingsFunctionLogGroup":{"id":"UpdateNotificationSettingsFunctionLogGroup","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-update-notification-settings-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UpdateNotificationSettingsFunction":{"id":"UpdateNotificationSettingsFunction","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UpdateNotificationSettingsFunctionServiceRoleDefaultPolicyCAF2BEAE","roles":[{"Ref":"UpdateNotificationSettingsFunctionServiceRole1FFBFB70"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateNotificationSettingsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Update notification settings","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-update-notification-settings-dev","handler":"dist/handlers/notification/updateNotificationSettings.handler","loggingConfig":{"logGroup":{"Ref":"UpdateNotificationSettingsFunctionLogGroupE035B78B"}},"memorySize":512,"role":{"Fn::GetAtt":["UpdateNotificationSettingsFunctionServiceRole1FFBFB70","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateSessionFunctionLogGroup":{"id":"CreateSessionFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateSessionFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateSessionFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-session-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateSessionFunction":{"id":"CreateSessionFunction","path":"PieceApp-Lambda-Dev/CreateSessionFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateSessionFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateSessionFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateSessionFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateSessionFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateSessionFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateSessionFunctionServiceRoleDefaultPolicyC8DC3F3B","roles":[{"Ref":"CreateSessionFunctionServiceRoleC3832D74"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateSessionFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateSessionFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateSessionFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateSessionFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create a session","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-session-dev","handler":"dist/handlers/session/createSession.handler","loggingConfig":{"logGroup":{"Ref":"CreateSessionFunctionLogGroupE7F44B5B"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateSessionFunctionServiceRoleC3832D74","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetAllAccountSessionsFunctionLogGroup":{"id":"GetAllAccountSessionsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-all-account-sessions-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetAllAccountSessionsFunction":{"id":"GetAllAccountSessionsFunction","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetAllAccountSessionsFunctionServiceRoleDefaultPolicy524CEABA","roles":[{"Ref":"GetAllAccountSessionsFunctionServiceRole9ABE6973"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAllAccountSessionsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get all account sessions","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-all-account-sessions-dev","handler":"dist/handlers/session/getAllAccountSessions.handler","loggingConfig":{"logGroup":{"Ref":"GetAllAccountSessionsFunctionLogGroupC087CB85"}},"memorySize":512,"role":{"Fn::GetAtt":["GetAllAccountSessionsFunctionServiceRole9ABE6973","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"LogoutSessionFunctionLogGroup":{"id":"LogoutSessionFunctionLogGroup","path":"PieceApp-Lambda-Dev/LogoutSessionFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LogoutSessionFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-logout-session-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"LogoutSessionFunction":{"id":"LogoutSessionFunction","path":"PieceApp-Lambda-Dev/LogoutSessionFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogoutSessionFunctionServiceRoleDefaultPolicyC1F9BBC4","roles":[{"Ref":"LogoutSessionFunctionServiceRole71C1FDC4"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LogoutSessionFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Logout a session","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-logout-session-dev","handler":"dist/handlers/session/logoutSession.handler","loggingConfig":{"logGroup":{"Ref":"LogoutSessionFunctionLogGroupDE5F909B"}},"memorySize":512,"role":{"Fn::GetAtt":["LogoutSessionFunctionServiceRole71C1FDC4","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"SearchByHashtagFunctionLogGroup":{"id":"SearchByHashtagFunctionLogGroup","path":"PieceApp-Lambda-Dev/SearchByHashtagFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SearchByHashtagFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-search-by-hashtag-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"SearchByHashtagFunction":{"id":"SearchByHashtagFunction","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SearchByHashtagFunctionServiceRoleDefaultPolicy0B68D3EE","roles":[{"Ref":"SearchByHashtagFunctionServiceRole29301255"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SearchByHashtagFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Search posts by hashtag","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-search-by-hashtag-dev","handler":"dist/handlers/hashtag/searchByHashtag.handler","loggingConfig":{"logGroup":{"Ref":"SearchByHashtagFunctionLogGroupA4F382AC"}},"memorySize":512,"role":{"Fn::GetAtt":["SearchByHashtagFunctionServiceRole29301255","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetTrendingHashtagsFunctionLogGroup":{"id":"GetTrendingHashtagsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-trending-hashtags-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetTrendingHashtagsFunction":{"id":"GetTrendingHashtagsFunction","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetTrendingHashtagsFunctionServiceRoleDefaultPolicy3356F20A","roles":[{"Ref":"GetTrendingHashtagsFunctionServiceRoleD22BDD01"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTrendingHashtagsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get trending hashtags","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-trending-hashtags-dev","handler":"dist/handlers/hashtag/getTrendingHashtags.handler","loggingConfig":{"logGroup":{"Ref":"GetTrendingHashtagsFunctionLogGroup917B2D19"}},"memorySize":512,"role":{"Fn::GetAtt":["GetTrendingHashtagsFunctionServiceRoleD22BDD01","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"MuteUserFunctionLogGroup":{"id":"MuteUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/MuteUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuteUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-mute-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"MuteUserFunction":{"id":"MuteUserFunction","path":"PieceApp-Lambda-Dev/MuteUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/MuteUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/MuteUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuteUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/MuteUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuteUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"MuteUserFunctionServiceRoleDefaultPolicyDCEE5242","roles":[{"Ref":"MuteUserFunctionServiceRole61E2E8E5"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/MuteUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/MuteUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/MuteUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuteUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Mute a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-mute-user-dev","handler":"dist/handlers/mute/muteUser.handler","loggingConfig":{"logGroup":{"Ref":"MuteUserFunctionLogGroup7D5C7DC1"}},"memorySize":512,"role":{"Fn::GetAtt":["MuteUserFunctionServiceRole61E2E8E5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UnmuteUserFunctionLogGroup":{"id":"UnmuteUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/UnmuteUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnmuteUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-unmute-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UnmuteUserFunction":{"id":"UnmuteUserFunction","path":"PieceApp-Lambda-Dev/UnmuteUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UnmuteUserFunctionServiceRoleDefaultPolicyC4283C5D","roles":[{"Ref":"UnmuteUserFunctionServiceRole7B8511F4"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnmuteUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Unmute a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-unmute-user-dev","handler":"dist/handlers/mute/unmuteUser.handler","loggingConfig":{"logGroup":{"Ref":"UnmuteUserFunctionLogGroup982F9152"}},"memorySize":512,"role":{"Fn::GetAtt":["UnmuteUserFunctionServiceRole7B8511F4","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetMutedUsersFunctionLogGroup":{"id":"GetMutedUsersFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetMutedUsersFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMutedUsersFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-muted-users-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetMutedUsersFunction":{"id":"GetMutedUsersFunction","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetMutedUsersFunctionServiceRoleDefaultPolicy28BB64DC","roles":[{"Ref":"GetMutedUsersFunctionServiceRole1B8B0EE0"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetMutedUsersFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get muted users list","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-muted-users-dev","handler":"dist/handlers/mute/getMutedUsers.handler","loggingConfig":{"logGroup":{"Ref":"GetMutedUsersFunctionLogGroup3E02A692"}},"memorySize":512,"role":{"Fn::GetAtt":["GetMutedUsersFunctionServiceRole1B8B0EE0","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UpdatePostFunctionLogGroup":{"id":"UpdatePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/UpdatePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdatePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-update-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UpdatePostFunction":{"id":"UpdatePostFunction","path":"PieceApp-Lambda-Dev/UpdatePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UpdatePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UpdatePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdatePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UpdatePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdatePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UpdatePostFunctionServiceRoleDefaultPolicy12690385","roles":[{"Ref":"UpdatePostFunctionServiceRoleEE6EA468"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UpdatePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UpdatePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UpdatePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdatePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Update an existing post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-update-post-dev","handler":"dist/handlers/post/updatePost.handler","loggingConfig":{"logGroup":{"Ref":"UpdatePostFunctionLogGroup40E2CF95"}},"memorySize":512,"role":{"Fn::GetAtt":["UpdatePostFunctionServiceRoleEE6EA468","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetUserPostsFunctionLogGroup":{"id":"GetUserPostsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetUserPostsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserPostsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-user-posts-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetUserPostsFunction":{"id":"GetUserPostsFunction","path":"PieceApp-Lambda-Dev/GetUserPostsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetUserPostsFunctionServiceRoleDefaultPolicy6411814D","roles":[{"Ref":"GetUserPostsFunctionServiceRole4D07896F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserPostsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get posts by a specific user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-user-posts-dev","handler":"dist/handlers/post/getUserPosts.handler","loggingConfig":{"logGroup":{"Ref":"GetUserPostsFunctionLogGroupC4F37754"}},"memorySize":512,"role":{"Fn::GetAtt":["GetUserPostsFunctionServiceRole4D07896F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetDiscoveryFeedFunctionLogGroup":{"id":"GetDiscoveryFeedFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-discovery-feed-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetDiscoveryFeedFunction":{"id":"GetDiscoveryFeedFunction","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetDiscoveryFeedFunctionServiceRoleDefaultPolicyD47F6702","roles":[{"Ref":"GetDiscoveryFeedFunctionServiceRole653465B6"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDiscoveryFeedFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get discovery feed with public posts","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-discovery-feed-dev","handler":"dist/handlers/post/getDiscoveryFeed.handler","loggingConfig":{"logGroup":{"Ref":"GetDiscoveryFeedFunctionLogGroup0D5C0A47"}},"memorySize":512,"role":{"Fn::GetAtt":["GetDiscoveryFeedFunctionServiceRole653465B6","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetRoomPostsFunctionLogGroup":{"id":"GetRoomPostsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetRoomPostsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomPostsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-room-posts-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetRoomPostsFunction":{"id":"GetRoomPostsFunction","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetRoomPostsFunctionServiceRoleDefaultPolicy99735251","roles":[{"Ref":"GetRoomPostsFunctionServiceRole7173376E"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomPostsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get posts in a specific room","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-room-posts-dev","handler":"dist/handlers/post/getRoomPosts.handler","loggingConfig":{"logGroup":{"Ref":"GetRoomPostsFunctionLogGroup091A330D"}},"memorySize":512,"role":{"Fn::GetAtt":["GetRoomPostsFunctionServiceRole7173376E","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetFollowingFunctionLogGroup":{"id":"GetFollowingFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetFollowingFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowingFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-following-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetFollowingFunction":{"id":"GetFollowingFunction","path":"PieceApp-Lambda-Dev/GetFollowingFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetFollowingFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetFollowingFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowingFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetFollowingFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowingFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetFollowingFunctionServiceRoleDefaultPolicy2D1539CD","roles":[{"Ref":"GetFollowingFunctionServiceRole4D989906"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetFollowingFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetFollowingFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetFollowingFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowingFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of accounts a user is following","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-following-dev","handler":"dist/handlers/follow/getFollowing.handler","loggingConfig":{"logGroup":{"Ref":"GetFollowingFunctionLogGroup6FA73BE8"}},"memorySize":512,"role":{"Fn::GetAtt":["GetFollowingFunctionServiceRole4D989906","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetFollowersFunctionLogGroup":{"id":"GetFollowersFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetFollowersFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowersFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-followers-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetFollowersFunction":{"id":"GetFollowersFunction","path":"PieceApp-Lambda-Dev/GetFollowersFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetFollowersFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetFollowersFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowersFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetFollowersFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowersFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetFollowersFunctionServiceRoleDefaultPolicy68EB181F","roles":[{"Ref":"GetFollowersFunctionServiceRole279DF09B"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetFollowersFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetFollowersFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetFollowersFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetFollowersFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of accounts following a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-followers-dev","handler":"dist/handlers/follow/getFollowers.handler","loggingConfig":{"logGroup":{"Ref":"GetFollowersFunctionLogGroupB09E0080"}},"memorySize":512,"role":{"Fn::GetAtt":["GetFollowersFunctionServiceRole279DF09B","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetPostLikesFunctionLogGroup":{"id":"GetPostLikesFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetPostLikesFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostLikesFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-post-likes-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetPostLikesFunction":{"id":"GetPostLikesFunction","path":"PieceApp-Lambda-Dev/GetPostLikesFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetPostLikesFunctionServiceRoleDefaultPolicy089529FD","roles":[{"Ref":"GetPostLikesFunctionServiceRole628AF356"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostLikesFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of accounts that liked a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-post-likes-dev","handler":"dist/handlers/like/getPostLikes.handler","loggingConfig":{"logGroup":{"Ref":"GetPostLikesFunctionLogGroup6FCB4423"}},"memorySize":512,"role":{"Fn::GetAtt":["GetPostLikesFunctionServiceRole628AF356","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetUserLikesFunctionLogGroup":{"id":"GetUserLikesFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetUserLikesFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserLikesFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-user-likes-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetUserLikesFunction":{"id":"GetUserLikesFunction","path":"PieceApp-Lambda-Dev/GetUserLikesFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetUserLikesFunctionServiceRoleDefaultPolicy285C2C26","roles":[{"Ref":"GetUserLikesFunctionServiceRoleCA4BE98F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserLikesFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of posts a user has liked","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-user-likes-dev","handler":"dist/handlers/like/getUserLikes.handler","loggingConfig":{"logGroup":{"Ref":"GetUserLikesFunctionLogGroupC0894EB7"}},"memorySize":512,"role":{"Fn::GetAtt":["GetUserLikesFunctionServiceRoleCA4BE98F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetUserRepostsFunctionLogGroup":{"id":"GetUserRepostsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetUserRepostsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserRepostsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-user-reposts-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetUserRepostsFunction":{"id":"GetUserRepostsFunction","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetUserRepostsFunctionServiceRoleDefaultPolicyB1ED809F","roles":[{"Ref":"GetUserRepostsFunctionServiceRoleBE4EF4FB"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetUserRepostsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of posts a user has reposted","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-user-reposts-dev","handler":"dist/handlers/repost/getUserReposts.handler","loggingConfig":{"logGroup":{"Ref":"GetUserRepostsFunctionLogGroupCC7EB262"}},"memorySize":512,"role":{"Fn::GetAtt":["GetUserRepostsFunctionServiceRoleBE4EF4FB","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetPostRepostsFunctionLogGroup":{"id":"GetPostRepostsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetPostRepostsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostRepostsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-post-reposts-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetPostRepostsFunction":{"id":"GetPostRepostsFunction","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetPostRepostsFunctionServiceRoleDefaultPolicy450775DE","roles":[{"Ref":"GetPostRepostsFunctionServiceRole47F68DF2"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostRepostsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of accounts that reposted a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-post-reposts-dev","handler":"dist/handlers/repost/getPostReposts.handler","loggingConfig":{"logGroup":{"Ref":"GetPostRepostsFunctionLogGroupE7A2CB85"}},"memorySize":512,"role":{"Fn::GetAtt":["GetPostRepostsFunctionServiceRole47F68DF2","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetRoomFunctionLogGroup":{"id":"GetRoomFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetRoomFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-room-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetRoomFunction":{"id":"GetRoomFunction","path":"PieceApp-Lambda-Dev/GetRoomFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetRoomFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetRoomFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetRoomFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetRoomFunctionServiceRoleDefaultPolicyDB246B98","roles":[{"Ref":"GetRoomFunctionServiceRole19C2BC9A"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetRoomFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetRoomFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetRoomFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get room details","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-room-dev","handler":"dist/handlers/room/getRoom.handler","loggingConfig":{"logGroup":{"Ref":"GetRoomFunctionLogGroup78BFF217"}},"memorySize":512,"role":{"Fn::GetAtt":["GetRoomFunctionServiceRole19C2BC9A","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UpdateRoomFunctionLogGroup":{"id":"UpdateRoomFunctionLogGroup","path":"PieceApp-Lambda-Dev/UpdateRoomFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateRoomFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-update-room-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UpdateRoomFunction":{"id":"UpdateRoomFunction","path":"PieceApp-Lambda-Dev/UpdateRoomFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UpdateRoomFunctionServiceRoleDefaultPolicyF62A3F80","roles":[{"Ref":"UpdateRoomFunctionServiceRole89230058"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateRoomFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Update room details","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-update-room-dev","handler":"dist/handlers/room/updateRoom.handler","loggingConfig":{"logGroup":{"Ref":"UpdateRoomFunctionLogGroup70DF0423"}},"memorySize":512,"role":{"Fn::GetAtt":["UpdateRoomFunctionServiceRole89230058","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetRoomMembersFunctionLogGroup":{"id":"GetRoomMembersFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetRoomMembersFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomMembersFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-room-members-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetRoomMembersFunction":{"id":"GetRoomMembersFunction","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetRoomMembersFunctionServiceRoleDefaultPolicy77B1B239","roles":[{"Ref":"GetRoomMembersFunctionServiceRole7DA35E93"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetRoomMembersFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of room members","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-room-members-dev","handler":"dist/handlers/room/getRoomMembers.handler","loggingConfig":{"logGroup":{"Ref":"GetRoomMembersFunctionLogGroupECF3F466"}},"memorySize":512,"role":{"Fn::GetAtt":["GetRoomMembersFunctionServiceRole7DA35E93","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"LeaveRoomFunctionLogGroup":{"id":"LeaveRoomFunctionLogGroup","path":"PieceApp-Lambda-Dev/LeaveRoomFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveRoomFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-leave-room-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"LeaveRoomFunction":{"id":"LeaveRoomFunction","path":"PieceApp-Lambda-Dev/LeaveRoomFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LeaveRoomFunctionServiceRoleDefaultPolicy5EDE934E","roles":[{"Ref":"LeaveRoomFunctionServiceRole829047D6"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveRoomFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Leave a room","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-leave-room-dev","handler":"dist/handlers/room/leaveRoom.handler","loggingConfig":{"logGroup":{"Ref":"LeaveRoomFunctionLogGroup791655F4"}},"memorySize":512,"role":{"Fn::GetAtt":["LeaveRoomFunctionServiceRole829047D6","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"TrackEventFunctionLogGroup":{"id":"TrackEventFunctionLogGroup","path":"PieceApp-Lambda-Dev/TrackEventFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TrackEventFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-track-event-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"TrackEventFunction":{"id":"TrackEventFunction","path":"PieceApp-Lambda-Dev/TrackEventFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/TrackEventFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/TrackEventFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TrackEventFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/TrackEventFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TrackEventFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"TrackEventFunctionServiceRoleDefaultPolicy09C9C620","roles":[{"Ref":"TrackEventFunctionServiceRole5282223A"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/TrackEventFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/TrackEventFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/TrackEventFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TrackEventFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Track user events and analytics","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-track-event-dev","handler":"dist/handlers/analytics/trackEvent.handler","loggingConfig":{"logGroup":{"Ref":"TrackEventFunctionLogGroup10B008A4"}},"memorySize":512,"role":{"Fn::GetAtt":["TrackEventFunctionServiceRole5282223A","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetPostAnalyticsFunctionLogGroup":{"id":"GetPostAnalyticsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-post-analytics-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetPostAnalyticsFunction":{"id":"GetPostAnalyticsFunction","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetPostAnalyticsFunctionServiceRoleDefaultPolicy597B91CB","roles":[{"Ref":"GetPostAnalyticsFunctionServiceRole6E0EEF9D"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostAnalyticsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get analytics for a specific post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-post-analytics-dev","handler":"dist/handlers/analytics/getPostAnalytics.handler","loggingConfig":{"logGroup":{"Ref":"GetPostAnalyticsFunctionLogGroupF2C5B4AD"}},"memorySize":512,"role":{"Fn::GetAtt":["GetPostAnalyticsFunctionServiceRole6E0EEF9D","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetAccountAnalyticsFunctionLogGroup":{"id":"GetAccountAnalyticsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-account-analytics-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetAccountAnalyticsFunction":{"id":"GetAccountAnalyticsFunction","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetAccountAnalyticsFunctionServiceRoleDefaultPolicy9179DD16","roles":[{"Ref":"GetAccountAnalyticsFunctionServiceRole29B8CEA0"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetAccountAnalyticsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get analytics for an account","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-account-analytics-dev","handler":"dist/handlers/analytics/getAccountAnalytics.handler","loggingConfig":{"logGroup":{"Ref":"GetAccountAnalyticsFunctionLogGroupB689F571"}},"memorySize":512,"role":{"Fn::GetAtt":["GetAccountAnalyticsFunctionServiceRole29B8CEA0","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetDashboardFunctionLogGroup":{"id":"GetDashboardFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetDashboardFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDashboardFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-dashboard-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetDashboardFunction":{"id":"GetDashboardFunction","path":"PieceApp-Lambda-Dev/GetDashboardFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetDashboardFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetDashboardFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDashboardFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetDashboardFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDashboardFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetDashboardFunctionServiceRoleDefaultPolicyB0567B99","roles":[{"Ref":"GetDashboardFunctionServiceRole6EB16BC5"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetDashboardFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetDashboardFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetDashboardFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetDashboardFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get dashboard summary data","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-dashboard-dev","handler":"dist/handlers/analytics/getDashboard.handler","loggingConfig":{"logGroup":{"Ref":"GetDashboardFunctionLogGroupDBA6448A"}},"memorySize":512,"role":{"Fn::GetAtt":["GetDashboardFunctionServiceRole6EB16BC5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateProductFunctionLogGroup":{"id":"CreateProductFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateProductFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateProductFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-product-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateProductFunction":{"id":"CreateProductFunction","path":"PieceApp-Lambda-Dev/CreateProductFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateProductFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateProductFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateProductFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateProductFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateProductFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateProductFunctionServiceRoleDefaultPolicy71144764","roles":[{"Ref":"CreateProductFunctionServiceRole54C12217"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateProductFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateProductFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateProductFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateProductFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create a product listing","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-product-dev","handler":"dist/handlers/product/createProduct.handler","loggingConfig":{"logGroup":{"Ref":"CreateProductFunctionLogGroup5F5A057E"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateProductFunctionServiceRole54C12217","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetProductFunctionLogGroup":{"id":"GetProductFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetProductFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-product-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetProductFunction":{"id":"GetProductFunction","path":"PieceApp-Lambda-Dev/GetProductFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetProductFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetProductFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetProductFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetProductFunctionServiceRoleDefaultPolicy128C2561","roles":[{"Ref":"GetProductFunctionServiceRole29A2DC57"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetProductFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetProductFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetProductFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get product details","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-product-dev","handler":"dist/handlers/product/getProduct.handler","loggingConfig":{"logGroup":{"Ref":"GetProductFunctionLogGroup47FB7E18"}},"memorySize":512,"role":{"Fn::GetAtt":["GetProductFunctionServiceRole29A2DC57","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UpdateProductFunctionLogGroup":{"id":"UpdateProductFunctionLogGroup","path":"PieceApp-Lambda-Dev/UpdateProductFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProductFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-update-product-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UpdateProductFunction":{"id":"UpdateProductFunction","path":"PieceApp-Lambda-Dev/UpdateProductFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UpdateProductFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UpdateProductFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProductFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UpdateProductFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProductFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UpdateProductFunctionServiceRoleDefaultPolicy546113F7","roles":[{"Ref":"UpdateProductFunctionServiceRoleFDE93061"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UpdateProductFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UpdateProductFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UpdateProductFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProductFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Update product information","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-update-product-dev","handler":"dist/handlers/product/updateProduct.handler","loggingConfig":{"logGroup":{"Ref":"UpdateProductFunctionLogGroup8923637B"}},"memorySize":512,"role":{"Fn::GetAtt":["UpdateProductFunctionServiceRoleFDE93061","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"DeleteProductFunctionLogGroup":{"id":"DeleteProductFunctionLogGroup","path":"PieceApp-Lambda-Dev/DeleteProductFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteProductFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-delete-product-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"DeleteProductFunction":{"id":"DeleteProductFunction","path":"PieceApp-Lambda-Dev/DeleteProductFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/DeleteProductFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/DeleteProductFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteProductFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/DeleteProductFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteProductFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DeleteProductFunctionServiceRoleDefaultPolicy3A4E8B57","roles":[{"Ref":"DeleteProductFunctionServiceRole522EE7CE"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/DeleteProductFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/DeleteProductFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/DeleteProductFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteProductFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Delete a product","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-delete-product-dev","handler":"dist/handlers/product/deleteProduct.handler","loggingConfig":{"logGroup":{"Ref":"DeleteProductFunctionLogGroup381D3C58"}},"memorySize":512,"role":{"Fn::GetAtt":["DeleteProductFunctionServiceRole522EE7CE","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetProductsFunctionLogGroup":{"id":"GetProductsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetProductsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-products-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetProductsFunction":{"id":"GetProductsFunction","path":"PieceApp-Lambda-Dev/GetProductsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetProductsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetProductsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetProductsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetProductsFunctionServiceRoleDefaultPolicyA81485BC","roles":[{"Ref":"GetProductsFunctionServiceRole75956CC7"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetProductsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetProductsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetProductsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProductsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get product list with filters","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-products-dev","handler":"dist/handlers/product/getProducts.handler","loggingConfig":{"logGroup":{"Ref":"GetProductsFunctionLogGroup54707031"}},"memorySize":512,"role":{"Fn::GetAtt":["GetProductsFunctionServiceRole75956CC7","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"TagProductOnPostFunctionLogGroup":{"id":"TagProductOnPostFunctionLogGroup","path":"PieceApp-Lambda-Dev/TagProductOnPostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TagProductOnPostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-tag-product-on-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"TagProductOnPostFunction":{"id":"TagProductOnPostFunction","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"TagProductOnPostFunctionServiceRoleDefaultPolicy7FC4CEBC","roles":[{"Ref":"TagProductOnPostFunctionServiceRole91E2D209"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/TagProductOnPostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Tag products on a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-tag-product-on-post-dev","handler":"dist/handlers/product/tagProductOnPost.handler","loggingConfig":{"logGroup":{"Ref":"TagProductOnPostFunctionLogGroup6CFC6EFF"}},"memorySize":512,"role":{"Fn::GetAtt":["TagProductOnPostFunctionServiceRole91E2D209","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetPostProductsFunctionLogGroup":{"id":"GetPostProductsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetPostProductsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostProductsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-post-products-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetPostProductsFunction":{"id":"GetPostProductsFunction","path":"PieceApp-Lambda-Dev/GetPostProductsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetPostProductsFunctionServiceRoleDefaultPolicy75F762A5","roles":[{"Ref":"GetPostProductsFunctionServiceRole90C0E4A5"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostProductsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get products tagged on a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-post-products-dev","handler":"dist/handlers/product/getPostProducts.handler","loggingConfig":{"logGroup":{"Ref":"GetPostProductsFunctionLogGroupE1C8B080"}},"memorySize":512,"role":{"Fn::GetAtt":["GetPostProductsFunctionServiceRole90C0E4A5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"ClickProductFunctionLogGroup":{"id":"ClickProductFunctionLogGroup","path":"PieceApp-Lambda-Dev/ClickProductFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/ClickProductFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-click-product-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"ClickProductFunction":{"id":"ClickProductFunction","path":"PieceApp-Lambda-Dev/ClickProductFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/ClickProductFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/ClickProductFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/ClickProductFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/ClickProductFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/ClickProductFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ClickProductFunctionServiceRoleDefaultPolicy4DBE9FAD","roles":[{"Ref":"ClickProductFunctionServiceRole75D5AB10"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/ClickProductFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/ClickProductFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/ClickProductFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/ClickProductFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Track product link clicks","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-click-product-dev","handler":"dist/handlers/product/clickProduct.handler","loggingConfig":{"logGroup":{"Ref":"ClickProductFunctionLogGroup12100617"}},"memorySize":512,"role":{"Fn::GetAtt":["ClickProductFunctionServiceRole75D5AB10","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateLiveStreamFunctionLogGroup":{"id":"CreateLiveStreamFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-live-stream-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateLiveStreamFunction":{"id":"CreateLiveStreamFunction","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:ap-northeast-1:620666897697:secret:rork/mux-credentials-*"}],"Version":"2012-10-17"},"policyName":"CreateLiveStreamFunctionServiceRoleDefaultPolicyB8851E78","roles":[{"Ref":"CreateLiveStreamFunctionServiceRoleE319A8D9"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateLiveStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Create a live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-live-stream-dev","handler":"dist/handlers/live/createLiveStream.handler","loggingConfig":{"logGroup":{"Ref":"CreateLiveStreamFunctionLogGroup1BD1504A"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateLiveStreamFunctionServiceRoleE319A8D9","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"DeleteLiveStreamFunctionLogGroup":{"id":"DeleteLiveStreamFunctionLogGroup","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-delete-live-stream-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"DeleteLiveStreamFunction":{"id":"DeleteLiveStreamFunction","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:ap-northeast-1:620666897697:secret:rork/mux-credentials-*"}],"Version":"2012-10-17"},"policyName":"DeleteLiveStreamFunctionServiceRoleDefaultPolicy105ADA5E","roles":[{"Ref":"DeleteLiveStreamFunctionServiceRole3A8CACF0"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteLiveStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Delete a live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-delete-live-stream-dev","handler":"dist/handlers/live/deleteLiveStream.handler","loggingConfig":{"logGroup":{"Ref":"DeleteLiveStreamFunctionLogGroup5DEFBA45"}},"memorySize":512,"role":{"Fn::GetAtt":["DeleteLiveStreamFunctionServiceRole3A8CACF0","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetLiveStreamFunctionLogGroup":{"id":"GetLiveStreamFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetLiveStreamFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-live-stream-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetLiveStreamFunction":{"id":"GetLiveStreamFunction","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetLiveStreamFunctionServiceRoleDefaultPolicyDB1F98C0","roles":[{"Ref":"GetLiveStreamFunctionServiceRoleDCFD2A96"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get live stream details","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-live-stream-dev","handler":"dist/handlers/live/getLiveStream.handler","loggingConfig":{"logGroup":{"Ref":"GetLiveStreamFunctionLogGroupAC4F0CBB"}},"memorySize":512,"role":{"Fn::GetAtt":["GetLiveStreamFunctionServiceRoleDCFD2A96","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetLiveStreamsFunctionLogGroup":{"id":"GetLiveStreamsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-live-streams-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetLiveStreamsFunction":{"id":"GetLiveStreamsFunction","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetLiveStreamsFunctionServiceRoleDefaultPolicy2071D36D","roles":[{"Ref":"GetLiveStreamsFunctionServiceRoleE255A33E"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveStreamsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get list of live streams","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-live-streams-dev","handler":"dist/handlers/live/getLiveStreams.handler","loggingConfig":{"logGroup":{"Ref":"GetLiveStreamsFunctionLogGroup46FC3AB9"}},"memorySize":512,"role":{"Fn::GetAtt":["GetLiveStreamsFunctionServiceRoleE255A33E","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"EndLiveStreamFunctionLogGroup":{"id":"EndLiveStreamFunctionLogGroup","path":"PieceApp-Lambda-Dev/EndLiveStreamFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/EndLiveStreamFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-end-live-stream-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"EndLiveStreamFunction":{"id":"EndLiveStreamFunction","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"EndLiveStreamFunctionServiceRoleDefaultPolicy92CA6CB8","roles":[{"Ref":"EndLiveStreamFunctionServiceRole95F2EA05"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/EndLiveStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"End a live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-end-live-stream-dev","handler":"dist/handlers/live/endLiveStream.handler","loggingConfig":{"logGroup":{"Ref":"EndLiveStreamFunctionLogGroup4102B856"}},"memorySize":512,"role":{"Fn::GetAtt":["EndLiveStreamFunctionServiceRole95F2EA05","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"JoinLiveStreamFunctionLogGroup":{"id":"JoinLiveStreamFunctionLogGroup","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-join-live-stream-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"JoinLiveStreamFunction":{"id":"JoinLiveStreamFunction","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"JoinLiveStreamFunctionServiceRoleDefaultPolicy25594A47","roles":[{"Ref":"JoinLiveStreamFunctionServiceRole99C9A792"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinLiveStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Join a live stream as viewer","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-join-live-stream-dev","handler":"dist/handlers/live/joinLiveStream.handler","loggingConfig":{"logGroup":{"Ref":"JoinLiveStreamFunctionLogGroup4D06B662"}},"memorySize":512,"role":{"Fn::GetAtt":["JoinLiveStreamFunctionServiceRole99C9A792","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"LeaveLiveStreamFunctionLogGroup":{"id":"LeaveLiveStreamFunctionLogGroup","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-leave-live-stream-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"LeaveLiveStreamFunction":{"id":"LeaveLiveStreamFunction","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LeaveLiveStreamFunctionServiceRoleDefaultPolicy1D24F2A6","roles":[{"Ref":"LeaveLiveStreamFunctionServiceRole505BFA4A"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LeaveLiveStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Leave a live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-leave-live-stream-dev","handler":"dist/handlers/live/leaveLiveStream.handler","loggingConfig":{"logGroup":{"Ref":"LeaveLiveStreamFunctionLogGroup3B825F3D"}},"memorySize":512,"role":{"Fn::GetAtt":["LeaveLiveStreamFunctionServiceRole505BFA4A","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"SendLiveChatFunctionLogGroup":{"id":"SendLiveChatFunctionLogGroup","path":"PieceApp-Lambda-Dev/SendLiveChatFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendLiveChatFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-send-live-chat-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"SendLiveChatFunction":{"id":"SendLiveChatFunction","path":"PieceApp-Lambda-Dev/SendLiveChatFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SendLiveChatFunctionServiceRoleDefaultPolicyB0EAE1EF","roles":[{"Ref":"SendLiveChatFunctionServiceRole9045B4EA"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendLiveChatFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Send a chat message during live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-send-live-chat-dev","handler":"dist/handlers/live/sendLiveChat.handler","loggingConfig":{"logGroup":{"Ref":"SendLiveChatFunctionLogGroup76A0ABBD"}},"memorySize":512,"role":{"Fn::GetAtt":["SendLiveChatFunctionServiceRole9045B4EA","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetLiveChatsFunctionLogGroup":{"id":"GetLiveChatsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetLiveChatsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveChatsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-live-chats-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetLiveChatsFunction":{"id":"GetLiveChatsFunction","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetLiveChatsFunctionServiceRoleDefaultPolicy9F6BDAE1","roles":[{"Ref":"GetLiveChatsFunctionServiceRole27658A03"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetLiveChatsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Get chat messages from live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-live-chats-dev","handler":"dist/handlers/live/getLiveChats.handler","loggingConfig":{"logGroup":{"Ref":"GetLiveChatsFunctionLogGroup12605AFD"}},"memorySize":512,"role":{"Fn::GetAtt":["GetLiveChatsFunctionServiceRole27658A03","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"SendGiftFunctionLogGroup":{"id":"SendGiftFunctionLogGroup","path":"PieceApp-Lambda-Dev/SendGiftFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendGiftFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-send-gift-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"SendGiftFunction":{"id":"SendGiftFunction","path":"PieceApp-Lambda-Dev/SendGiftFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/SendGiftFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/SendGiftFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendGiftFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/SendGiftFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendGiftFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SendGiftFunctionServiceRoleDefaultPolicyD6E85997","roles":[{"Ref":"SendGiftFunctionServiceRole2DCAA4BE"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/SendGiftFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/SendGiftFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/SendGiftFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/SendGiftFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Send a gift during live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-send-gift-dev","handler":"dist/handlers/live/sendGift.handler","loggingConfig":{"logGroup":{"Ref":"SendGiftFunctionLogGroupFEEC88E8"}},"memorySize":512,"role":{"Fn::GetAtt":["SendGiftFunctionServiceRole2DCAA4BE","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"AddModeratorFunctionLogGroup":{"id":"AddModeratorFunctionLogGroup","path":"PieceApp-Lambda-Dev/AddModeratorFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/AddModeratorFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-add-moderator-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"AddModeratorFunction":{"id":"AddModeratorFunction","path":"PieceApp-Lambda-Dev/AddModeratorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/AddModeratorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/AddModeratorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/AddModeratorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/AddModeratorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/AddModeratorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AddModeratorFunctionServiceRoleDefaultPolicy0F184753","roles":[{"Ref":"AddModeratorFunctionServiceRoleF0454A3D"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/AddModeratorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/AddModeratorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/AddModeratorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/AddModeratorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Add a moderator to live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-add-moderator-dev","handler":"dist/handlers/live/addModerator.handler","loggingConfig":{"logGroup":{"Ref":"AddModeratorFunctionLogGroup73F843A9"}},"memorySize":512,"role":{"Fn::GetAtt":["AddModeratorFunctionServiceRoleF0454A3D","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"BanUserFromLiveFunctionLogGroup":{"id":"BanUserFromLiveFunctionLogGroup","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-ban-user-from-live-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"BanUserFromLiveFunction":{"id":"BanUserFromLiveFunction","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"BanUserFromLiveFunctionServiceRoleDefaultPolicyBCDA0D57","roles":[{"Ref":"BanUserFromLiveFunctionServiceRole83A095A2"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/BanUserFromLiveFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Ban a user from live stream","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-ban-user-from-live-dev","handler":"dist/handlers/live/banUserFromLive.handler","loggingConfig":{"logGroup":{"Ref":"BanUserFromLiveFunctionLogGroupF98390D0"}},"memorySize":512,"role":{"Fn::GetAtt":["BanUserFromLiveFunctionServiceRole83A095A2","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"MuxWebhookFunctionLogGroup":{"id":"MuxWebhookFunctionLogGroup","path":"PieceApp-Lambda-Dev/MuxWebhookFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuxWebhookFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-mux-webhook-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"MuxWebhookFunction":{"id":"MuxWebhookFunction","path":"PieceApp-Lambda-Dev/MuxWebhookFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":"arn:aws:secretsmanager:ap-northeast-1:620666897697:secret:rork/mux-credentials-*"}],"Version":"2012-10-17"},"policyName":"MuxWebhookFunctionServiceRoleDefaultPolicy4FA34EA6","roles":[{"Ref":"MuxWebhookFunctionServiceRole2BF75B46"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/MuxWebhookFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Handle Mux webhook events","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-mux-webhook-dev","handler":"dist/handlers/live/muxWebhook.handler","loggingConfig":{"logGroup":{"Ref":"MuxWebhookFunctionLogGroupF1081B54"}},"memorySize":512,"role":{"Fn::GetAtt":["MuxWebhookFunctionServiceRole2BF75B46","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"WsConnectFunctionLogGroup":{"id":"WsConnectFunctionLogGroup","path":"PieceApp-Lambda-Dev/WsConnectFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsConnectFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-ws-connect-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"WsConnectFunction":{"id":"WsConnectFunction","path":"PieceApp-Lambda-Dev/WsConnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/WsConnectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/WsConnectFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsConnectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/WsConnectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsConnectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["execute-api:Invoke","execute-api:ManageConnections"],"Effect":"Allow","Resource":"arn:aws:execute-api:ap-northeast-1:620666897697:*"}],"Version":"2012-10-17"},"policyName":"WsConnectFunctionServiceRoleDefaultPolicyC923FA46","roles":[{"Ref":"WsConnectFunctionServiceRoleCE3E3163"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/WsConnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/WsConnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/WsConnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsConnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"WebSocket connection handler","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-ws-connect-dev","handler":"dist/handlers/websocket/connect.handler","loggingConfig":{"logGroup":{"Ref":"WsConnectFunctionLogGroup5F978577"}},"memorySize":512,"role":{"Fn::GetAtt":["WsConnectFunctionServiceRoleCE3E3163","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"WsDisconnectFunctionLogGroup":{"id":"WsDisconnectFunctionLogGroup","path":"PieceApp-Lambda-Dev/WsDisconnectFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsDisconnectFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-ws-disconnect-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"WsDisconnectFunction":{"id":"WsDisconnectFunction","path":"PieceApp-Lambda-Dev/WsDisconnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"WsDisconnectFunctionServiceRoleDefaultPolicyC0F5D4B5","roles":[{"Ref":"WsDisconnectFunctionServiceRoleEBDDAD2B"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsDisconnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"WebSocket disconnection handler","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-ws-disconnect-dev","handler":"dist/handlers/websocket/disconnect.handler","loggingConfig":{"logGroup":{"Ref":"WsDisconnectFunctionLogGroup49FFD7A8"}},"memorySize":512,"role":{"Fn::GetAtt":["WsDisconnectFunctionServiceRoleEBDDAD2B","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"WsMessageFunctionLogGroup":{"id":"WsMessageFunctionLogGroup","path":"PieceApp-Lambda-Dev/WsMessageFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsMessageFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-ws-message-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"WsMessageFunction":{"id":"WsMessageFunction","path":"PieceApp-Lambda-Dev/WsMessageFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/WsMessageFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/WsMessageFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsMessageFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/WsMessageFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsMessageFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["execute-api:Invoke","execute-api:ManageConnections"],"Effect":"Allow","Resource":"arn:aws:execute-api:ap-northeast-1:620666897697:*"}],"Version":"2012-10-17"},"policyName":"WsMessageFunctionServiceRoleDefaultPolicyA2E774AC","roles":[{"Ref":"WsMessageFunctionServiceRole042576DF"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/WsMessageFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/WsMessageFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/WsMessageFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/WsMessageFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"WebSocket message handler","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-ws-message-dev","handler":"dist/handlers/websocket/message.handler","loggingConfig":{"logGroup":{"Ref":"WsMessageFunctionLogGroup826AA0A1"}},"memorySize":512,"role":{"Fn::GetAtt":["WsMessageFunctionServiceRole042576DF","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"PostConfirmationFunctionLogGroup":{"id":"PostConfirmationFunctionLogGroup","path":"PieceApp-Lambda-Dev/PostConfirmationFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/PostConfirmationFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-post-confirmation-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"PostConfirmationFunction":{"id":"PostConfirmationFunction","path":"PieceApp-Lambda-Dev/PostConfirmationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["cognito-idp:AdminDeleteUser","cognito-idp:AdminGetUser"],"Effect":"Allow","Resource":"arn:aws:cognito-idp:ap-northeast-1:620666897697:userpool/*"}],"Version":"2012-10-17"},"policyName":"PostConfirmationFunctionServiceRoleDefaultPolicy49917DA4","roles":[{"Ref":"PostConfirmationFunctionServiceRoleE856FC83"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/PostConfirmationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"description":"Cognito Post Confirmation Trigger - Create account in DynamoDB","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-post-confirmation-dev","handler":"dist/handlers/cognito/postConfirmation.handler","loggingConfig":{"logGroup":{"Ref":"PostConfirmationFunctionLogGroupB0C80CCD"}},"memorySize":512,"role":{"Fn::GetAtt":["PostConfirmationFunctionServiceRoleE856FC83","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateAccountFunctionArn":{"id":"CreateAccountFunctionArn","path":"PieceApp-Lambda-Dev/CreateAccountFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CreatePostFunctionArn":{"id":"CreatePostFunctionArn","path":"PieceApp-Lambda-Dev/CreatePostFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-Lambda-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-Lambda-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"Exports":{"id":"Exports","path":"PieceApp-Lambda-Dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"PostConfirmationFunction3DFFAE63\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"PostConfirmationFunction3DFFAE63\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"PostConfirmationFunction3DFFAE63\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateAccountFunctionB1A7B865\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateAccountFunctionB1A7B865\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateAccountFunctionB1A7B865\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetProfileFunction8A105C24\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetProfileFunction8A105C24\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetProfileFunction8A105C24\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UpdateProfileFunction2A160882\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UpdateProfileFunction2A160882\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UpdateProfileFunction2A160882\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetAllAccountSessionsFunctionA9F227E7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetAllAccountSessionsFunctionA9F227E7\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetAllAccountSessionsFunctionA9F227E7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetUserPostsFunction589F0A2C\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetUserPostsFunction589F0A2C\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetUserPostsFunction589F0A2C\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetFollowingFunctionB4F2C775\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetFollowingFunctionB4F2C775\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetFollowingFunctionB4F2C775\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetFollowersFunction2847BB19\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetFollowersFunction2847BB19\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetFollowersFunction2847BB19\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetUserLikesFunctionC865302F\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetUserLikesFunctionC865302F\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetUserLikesFunctionC865302F\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetUserRepostsFunction1A359462\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetUserRepostsFunction1A359462\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetUserRepostsFunction1A359462\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetAccountAnalyticsFunction52C85098\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetAccountAnalyticsFunction52C85098\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetAccountAnalyticsFunction52C85098\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreatePostFunction56510812\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreatePostFunction56510812\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreatePostFunction56510812\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetPostFunction29A17447\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostFunction29A17447\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetPostFunction29A17447\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"DeletePostFunction442EA4DB\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeletePostFunction442EA4DB\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"DeletePostFunction442EA4DB\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"LikePostFunctionEAEFAE85\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LikePostFunctionEAEFAE85\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"LikePostFunctionEAEFAE85\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UnlikePostFunctionF2D5BDFE\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UnlikePostFunctionF2D5BDFE\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UnlikePostFunctionF2D5BDFE\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateCommentFunction2CCB21BA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateCommentFunction2CCB21BA\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateCommentFunction2CCB21BA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetCommentsFunction51A1C6FC\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetCommentsFunction51A1C6FC\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetCommentsFunction51A1C6FC\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateRepostFunction771753A5\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateRepostFunction771753A5\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateRepostFunction771753A5\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UpdatePostFunction419034E4\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UpdatePostFunction419034E4\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UpdatePostFunction419034E4\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetPostLikesFunctionC8607EF7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostLikesFunctionC8607EF7\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetPostLikesFunctionC8607EF7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetPostRepostsFunction49DCEB0C\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostRepostsFunction49DCEB0C\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetPostRepostsFunction49DCEB0C\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetPostAnalyticsFunctionA226BB08\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostAnalyticsFunctionA226BB08\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetPostAnalyticsFunctionA226BB08\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"TagProductOnPostFunction4C593890\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"TagProductOnPostFunction4C593890\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"TagProductOnPostFunction4C593890\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetPostProductsFunction5584A4DA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostProductsFunction5584A4DA\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetPostProductsFunction5584A4DA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"DeleteCommentFunctionFC7A50A9\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeleteCommentFunctionFC7A50A9\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"DeleteCommentFunctionFC7A50A9\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetTimelineFunctionA617EDF2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetTimelineFunctionA617EDF2\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetTimelineFunctionA617EDF2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"FollowUserFunctionD86228D7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"FollowUserFunctionD86228D7\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"FollowUserFunctionD86228D7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UnfollowUserFunction2E9DAACA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UnfollowUserFunction2E9DAACA\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UnfollowUserFunction2E9DAACA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateRoomFunctionA8220676\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateRoomFunctionA8220676\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateRoomFunctionA8220676\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetRoomPostsFunctionC9340753\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetRoomPostsFunctionC9340753\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetRoomPostsFunctionC9340753\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetRoomFunction7DB144C3\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetRoomFunction7DB144C3\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetRoomFunction7DB144C3\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UpdateRoomFunction381F58D4\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UpdateRoomFunction381F58D4\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UpdateRoomFunction381F58D4\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"JoinRoomFunction0DBFFBBF\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"JoinRoomFunction0DBFFBBF\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"JoinRoomFunction0DBFFBBF\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetRoomMembersFunctionBE2FB049\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetRoomMembersFunctionBE2FB049\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetRoomMembersFunctionBE2FB049\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"LeaveRoomFunction4063A5FE\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LeaveRoomFunction4063A5FE\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"LeaveRoomFunction4063A5FE\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateConversationFunction2861D492\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateConversationFunction2861D492\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateConversationFunction2861D492\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetConversationsFunction69BE1A07\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetConversationsFunction69BE1A07\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetConversationsFunction69BE1A07\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"SendMessageFunctionA37DCB9D\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"SendMessageFunctionA37DCB9D\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"SendMessageFunctionA37DCB9D\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetMessagesFunctionF32AD2AD\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetMessagesFunctionF32AD2AD\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetMessagesFunctionF32AD2AD\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"BlockUserFunction84159900\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"BlockUserFunction84159900\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"BlockUserFunction84159900\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetBlockListFunctionFD6239B9\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetBlockListFunctionFD6239B9\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetBlockListFunctionFD6239B9\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UnblockUserFunction943440B8\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UnblockUserFunction943440B8\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UnblockUserFunction943440B8\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"DeleteRepostFunctionC0F8D37B\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeleteRepostFunctionC0F8D37B\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"DeleteRepostFunctionC0F8D37B\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateReportFunctionD24426C8\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateReportFunctionD24426C8\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateReportFunctionD24426C8\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetReportsFunctionC7A3A071\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetReportsFunctionC7A3A071\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetReportsFunctionC7A3A071\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetNotificationsFunctionE02AD7C7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetNotificationsFunctionE02AD7C7\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetNotificationsFunctionE02AD7C7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"MarkAsReadFunction890C1BBE\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"MarkAsReadFunction890C1BBE\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"MarkAsReadFunction890C1BBE\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"MarkAllAsReadFunction19B49E7A\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"MarkAllAsReadFunction19B49E7A\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"MarkAllAsReadFunction19B49E7A\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetNotificationSettingsFunction43122347\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetNotificationSettingsFunction43122347\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetNotificationSettingsFunction43122347\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UpdateNotificationSettingsFunctionC8FE465E\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UpdateNotificationSettingsFunctionC8FE465E\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UpdateNotificationSettingsFunctionC8FE465E\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateSessionFunction9E798546\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateSessionFunction9E798546\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateSessionFunction9E798546\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"LogoutSessionFunctionBF1F97C2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LogoutSessionFunctionBF1F97C2\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"LogoutSessionFunctionBF1F97C2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetTrendingHashtagsFunction6CD3A92C\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetTrendingHashtagsFunction6CD3A92C\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetTrendingHashtagsFunction6CD3A92C\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"SearchByHashtagFunction2547DB13\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"SearchByHashtagFunction2547DB13\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"SearchByHashtagFunction2547DB13\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"MuteUserFunctionB60C9170\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"MuteUserFunctionB60C9170\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"MuteUserFunctionB60C9170\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetMutedUsersFunction06DDC88E\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetMutedUsersFunction06DDC88E\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetMutedUsersFunction06DDC88E\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UnmuteUserFunctionE93301B0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UnmuteUserFunctionE93301B0\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UnmuteUserFunctionE93301B0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetDiscoveryFeedFunction945D2768\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetDiscoveryFeedFunction945D2768\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetDiscoveryFeedFunction945D2768\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"TrackEventFunctionC086064E\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"TrackEventFunctionC086064E\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"TrackEventFunctionC086064E\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetDashboardFunction9CFB13B5\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetDashboardFunction9CFB13B5\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetDashboardFunction9CFB13B5\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateProductFunctionD4A3469E\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateProductFunctionD4A3469E\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateProductFunctionD4A3469E\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetProductsFunction60F0D6E5\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetProductsFunction60F0D6E5\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetProductsFunction60F0D6E5\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetProductFunction879D9990\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetProductFunction879D9990\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetProductFunction879D9990\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UpdateProductFunctionCBECB4B0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UpdateProductFunctionCBECB4B0\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UpdateProductFunctionCBECB4B0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"DeleteProductFunctionDCB5D2F5\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeleteProductFunctionDCB5D2F5\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"DeleteProductFunctionDCB5D2F5\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"ClickProductFunctionE7EEA26A\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ClickProductFunctionE7EEA26A\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"ClickProductFunctionE7EEA26A\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateLiveStreamFunction4ED79E9C\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateLiveStreamFunction4ED79E9C\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateLiveStreamFunction4ED79E9C\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetLiveStreamsFunctionADD314C3\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetLiveStreamsFunctionADD314C3\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetLiveStreamsFunctionADD314C3\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetLiveStreamFunctionA5FDDEF7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetLiveStreamFunctionA5FDDEF7\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetLiveStreamFunctionA5FDDEF7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"DeleteLiveStreamFunctionCF2CF7B1\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeleteLiveStreamFunctionCF2CF7B1\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"DeleteLiveStreamFunctionCF2CF7B1\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"EndLiveStreamFunction1F6E6B17\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"EndLiveStreamFunction1F6E6B17\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"EndLiveStreamFunction1F6E6B17\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"JoinLiveStreamFunction50960BBD\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"JoinLiveStreamFunction50960BBD\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"JoinLiveStreamFunction50960BBD\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"LeaveLiveStreamFunction0AF4504A\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LeaveLiveStreamFunction0AF4504A\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"LeaveLiveStreamFunction0AF4504A\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetLiveChatsFunctionDDBB7CC0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetLiveChatsFunctionDDBB7CC0\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetLiveChatsFunctionDDBB7CC0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"SendLiveChatFunctionD5C4F9B4\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"SendLiveChatFunctionD5C4F9B4\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"SendLiveChatFunctionD5C4F9B4\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"SendGiftFunction038670A0\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"SendGiftFunction038670A0\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"SendGiftFunction038670A0\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"AddModeratorFunction0E0269EF\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AddModeratorFunction0E0269EF\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"AddModeratorFunction0E0269EF\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"BanUserFromLiveFunction158255FB\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"BanUserFromLiveFunction158255FB\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"BanUserFromLiveFunction158255FB\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"MuxWebhookFunction75A76C06\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"MuxWebhookFunction75A76C06\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"MuxWebhookFunction75A76C06\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-Lambda-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-Lambda-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-WebSocket-Dev":{"id":"PieceApp-WebSocket-Dev","path":"PieceApp-WebSocket-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"WebSocketLambdaRole":{"id":"WebSocketLambdaRole","path":"PieceApp-WebSocket-Dev/WebSocketLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportWebSocketLambdaRole":{"id":"ImportWebSocketLambdaRole","path":"PieceApp-WebSocket-Dev/WebSocketLambdaRole/ImportWebSocketLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-WebSocket-Dev/WebSocketLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"PieceApp-DynamoDB-Dev:ExportsOutputFnGetAttConnectionsTable8000B8A1Arn6FD6777C"},{"Fn::Join":["",[{"Fn::ImportValue":"PieceApp-DynamoDB-Dev:ExportsOutputFnGetAttConnectionsTable8000B8A1Arn6FD6777C"},"/index/*"]]}]},{"Action":"execute-api:ManageConnections","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"WebSocketApi34BCF99B"},"/*"]]}}],"Version":"2012-10-17"},"policyName":"WebSocketLambdaRoleDefaultPolicyF19D90C5","roles":[{"Ref":"WebSocketLambdaRole0DF09B59"}]}}}}}}},"WsConnectHandler":{"id":"WsConnectHandler","path":"PieceApp-WebSocket-Dev/WsConnectHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"Code":{"id":"Code","path":"PieceApp-WebSocket-Dev/WsConnectHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-WebSocket-Dev/WsConnectHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-WebSocket-Dev/WsConnectHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WsConnectHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE_NAME":{"Fn::ImportValue":"PieceApp-DynamoDB-Dev:ExportsOutputRefConnectionsTable8000B8A13717867F"},"WEBSOCKET_API_ENDPOINT":{"Fn::Join":["",["wss://",{"Ref":"WebSocketApi34BCF99B"},".execute-api.ap-northeast-1.",{"Ref":"AWS::URLSuffix"},"/prod"]]}}},"handler":"dist/handlers/websocket/connect.handler","role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":10}}},"LogRetention":{"id":"LogRetention","path":"PieceApp-WebSocket-Dev/WsConnectHandler/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.221.0"},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WsConnectHandler/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"LogGroup":{"id":"LogGroup","path":"PieceApp-WebSocket-Dev/WsConnectHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Code":{"id":"Code","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:DeleteRetentionPolicy","logs:PutRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"WsDisconnectHandler":{"id":"WsDisconnectHandler","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"Code":{"id":"Code","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE_NAME":{"Fn::ImportValue":"PieceApp-DynamoDB-Dev:ExportsOutputRefConnectionsTable8000B8A13717867F"},"WEBSOCKET_API_ENDPOINT":{"Fn::Join":["",["wss://",{"Ref":"WebSocketApi34BCF99B"},".execute-api.ap-northeast-1.",{"Ref":"AWS::URLSuffix"},"/prod"]]}}},"handler":"dist/handlers/websocket/disconnect.handler","role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":10}}},"LogRetention":{"id":"LogRetention","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.221.0"},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"LogGroup":{"id":"LogGroup","path":"PieceApp-WebSocket-Dev/WsDisconnectHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}}}},"WsMessageHandler":{"id":"WsMessageHandler","path":"PieceApp-WebSocket-Dev/WsMessageHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"Code":{"id":"Code","path":"PieceApp-WebSocket-Dev/WsMessageHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-WebSocket-Dev/WsMessageHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-WebSocket-Dev/WsMessageHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WsMessageHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"0bdef5a2cc2d57e707ea7073217ee64c7352ff5dafd182474b36fd78b219df0c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE_NAME":{"Fn::ImportValue":"PieceApp-DynamoDB-Dev:ExportsOutputRefConnectionsTable8000B8A13717867F"},"WEBSOCKET_API_ENDPOINT":{"Fn::Join":["",["wss://",{"Ref":"WebSocketApi34BCF99B"},".execute-api.ap-northeast-1.",{"Ref":"AWS::URLSuffix"},"/prod"]]}}},"handler":"dist/handlers/websocket/message.handler","role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":10}}},"LogRetention":{"id":"LogRetention","path":"PieceApp-WebSocket-Dev/WsMessageHandler/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.221.0"},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WsMessageHandler/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"LogGroup":{"id":"LogGroup","path":"PieceApp-WebSocket-Dev/WsMessageHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}}}},"WebSocketApi":{"id":"WebSocketApi","path":"PieceApp-WebSocket-Dev/WebSocketApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketApi","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"description":"WebSocket API for live streaming chat","name":"rork-websocket-api","protocolType":"WEBSOCKET","routeSelectionExpression":"$request.body.action","tags":{"Environment":"Development","ManagedBy":"CDK","Project":"PieceApp"}}}},"$connect-Route":{"id":"$connect-Route","path":"PieceApp-WebSocket-Dev/WebSocketApi/$connect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.221.0","metadata":[]},"children":{"ConnectIntegration-Permission":{"id":"ConnectIntegration-Permission","path":"PieceApp-WebSocket-Dev/WebSocketApi/$connect-Route/ConnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WsConnectHandler224A8AE8","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"WebSocketApi34BCF99B"},"/*$connect"]]}}}},"ConnectIntegration":{"id":"ConnectIntegration","path":"PieceApp-WebSocket-Dev/WebSocketApi/$connect-Route/ConnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketApi/$connect-Route/ConnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WsConnectHandler224A8AE8","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketApi/$connect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$connect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApiconnectRouteConnectIntegration7F1E0FDE"}]]}}}}}},"$disconnect-Route":{"id":"$disconnect-Route","path":"PieceApp-WebSocket-Dev/WebSocketApi/$disconnect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.221.0","metadata":[]},"children":{"DisconnectIntegration-Permission":{"id":"DisconnectIntegration-Permission","path":"PieceApp-WebSocket-Dev/WebSocketApi/$disconnect-Route/DisconnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WsDisconnectHandler2953FE4B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"WebSocketApi34BCF99B"},"/*$disconnect"]]}}}},"DisconnectIntegration":{"id":"DisconnectIntegration","path":"PieceApp-WebSocket-Dev/WebSocketApi/$disconnect-Route/DisconnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketApi/$disconnect-Route/DisconnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WsDisconnectHandler2953FE4B","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketApi/$disconnect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$disconnect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidisconnectRouteDisconnectIntegration94C91381"}]]}}}}}},"$default-Route":{"id":"$default-Route","path":"PieceApp-WebSocket-Dev/WebSocketApi/$default-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.221.0","metadata":[]},"children":{"MessageIntegration-Permission":{"id":"MessageIntegration-Permission","path":"PieceApp-WebSocket-Dev/WebSocketApi/$default-Route/MessageIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WsMessageHandler4BC58F9C","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"WebSocketApi34BCF99B"},"/*$default"]]}}}},"MessageIntegration":{"id":"MessageIntegration","path":"PieceApp-WebSocket-Dev/WebSocketApi/$default-Route/MessageIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketApi/$default-Route/MessageIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WsMessageHandler4BC58F9C","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketApi/$default-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$default","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidefaultRouteMessageIntegration95009078"}]]}}}}}}}},"WebSocketStage":{"id":"WebSocketStage","path":"PieceApp-WebSocket-Dev/WebSocketStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketStage","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-WebSocket-Dev/WebSocketStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"autoDeploy":true,"stageName":"prod","tags":{"Environment":"Development","ManagedBy":"CDK","Project":"PieceApp"}}}}}},"WebSocketApiId":{"id":"WebSocketApiId","path":"PieceApp-WebSocket-Dev/WebSocketApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"WebSocketApiEndpoint":{"id":"WebSocketApiEndpoint","path":"PieceApp-WebSocket-Dev/WebSocketApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-WebSocket-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-WebSocket-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-WebSocket-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-WebSocket-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-Cognito-Dev":{"id":"PieceApp-Cognito-Dev","path":"PieceApp-Cognito-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"PieceAppUserPool":{"id":"PieceAppUserPool","path":"PieceApp-Cognito-Dev/PieceAppUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.221.0","metadata":[]},"children":{"PostConfirmationCognito":{"id":"PostConfirmationCognito","path":"PieceApp-Cognito-Dev/PieceAppUserPool/PostConfirmationCognito","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttPostConfirmationFunction3DFFAE63Arn0778469E"},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::GetAtt":["PieceAppUserPoolA10A98B5","Arn"]}}}},"Resource":{"id":"Resource","path":"PieceApp-Cognito-Dev/PieceAppUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false,"inviteMessageTemplate":{"emailMessage":"\n          <h2>Piece App</h2>\n          <p></p>\n          <p>: {username}</p>\n          <p>: {####}</p>\n          <p></p>\n        ","emailSubject":"Piece App"}},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"deviceConfiguration":{"challengeRequiredOnNewDevice":true,"deviceOnlyRememberedOnUserPrompt":true},"emailConfiguration":{"emailSendingAccount":"COGNITO_DEFAULT"},"emailVerificationMessage":"\n          <h2></h2>\n          <p>:</p>\n          <h3>{####}</h3>\n        ","emailVerificationSubject":"Piece App - ","enabledMfas":["SOFTWARE_TOKEN_MFA"],"lambdaConfig":{"postConfirmation":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttPostConfirmationFunction3DFFAE63Arn0778469E"}},"mfaConfiguration":"OPTIONAL","policies":{"passwordPolicy":{"temporaryPasswordValidityDays":3,"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"schema":[{"name":"email","mutable":true,"required":true},{"name":"phone_number","mutable":true,"required":false},{"name":"given_name","mutable":true,"required":false},{"name":"family_name","mutable":true,"required":false},{"name":"birthdate","mutable":true,"required":false},{"name":"accountId","attributeDataType":"String","stringAttributeConstraints":{"minLength":"26","maxLength":"26"},"mutable":false},{"name":"handle","attributeDataType":"String","stringAttributeConstraints":{"minLength":"3","maxLength":"30"},"mutable":true},{"name":"accountType","attributeDataType":"String","stringAttributeConstraints":{"minLength":"1","maxLength":"20"},"mutable":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"Environment":"Development","ManagedBy":"CDK","Project":"PieceApp"},"userPoolAddOns":{"advancedSecurityMode":"OFF"},"userPoolName":"piece-app-users-dev","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"\n          <h2></h2>\n          <p>:</p>\n          <h3>{####}</h3>\n        ","emailSubject":"Piece App - ","smsMessage":"The verification code to your new account is {####}"}}}}}},"PieceAppClient":{"id":"PieceAppClient","path":"PieceApp-Cognito-Dev/PieceAppClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Cognito-Dev/PieceAppClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["email","openid","profile"],"callbackUrLs":["http://localhost:19006/callback","pieceapp://callback"],"clientName":"piece-app-client-dev","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"idTokenValidity":60,"logoutUrLs":["http://localhost:19006/logout","pieceapp://logout"],"preventUserExistenceErrors":"ENABLED","readAttributes":["birthdate","custom:accountId","custom:accountType","custom:handle","email","email_verified","family_name","given_name","phone_number","phone_number_verified"],"refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"PieceAppUserPoolA10A98B5"},"writeAttributes":["birthdate","custom:accountType","custom:handle","email","family_name","given_name","phone_number"]}}}}},"UserPoolId":{"id":"UserPoolId","path":"PieceApp-Cognito-Dev/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"UserPoolArn":{"id":"UserPoolArn","path":"PieceApp-Cognito-Dev/UserPoolArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"PieceApp-Cognito-Dev/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"UserPoolDomain":{"id":"UserPoolDomain","path":"PieceApp-Cognito-Dev/UserPoolDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-Cognito-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-Cognito-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"Exports":{"id":"Exports","path":"PieceApp-Cognito-Dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"PieceAppUserPoolA10A98B5\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"PieceAppUserPoolA10A98B5\",\"Arn\"]}","path":"PieceApp-Cognito-Dev/Exports/Output{\"Fn::GetAtt\":[\"PieceAppUserPoolA10A98B5\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-Cognito-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-Cognito-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-ApiGateway-Dev":{"id":"PieceApp-ApiGateway-Dev","path":"PieceApp-ApiGateway-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"ApiGatewayAccessLogs":{"id":"ApiGatewayAccessLogs","path":"PieceApp-ApiGateway-Dev/ApiGatewayAccessLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/ApiGatewayAccessLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/apigateway/piece-app-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"PieceAppRestApi":{"id":"PieceAppRestApi","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Piece App REST API (dev)","endpointConfiguration":{"types":["REGIONAL"]},"name":"piece-app-api-dev","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"Account":{"id":"Account","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["PieceAppRestApiCloudWatchRoleAAEC5CCC","Arn"]}}}},"Deployment":{"id":"Deployment","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Piece App REST API (dev)","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"accessLogSetting":{"destinationArn":{"Fn::GetAtt":["ApiGatewayAccessLogsFB871B4C","Arn"]},"format":"{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"},"deploymentId":{"Ref":"PieceAppRestApiDeploymentC3167A897e24111d9f35b9a069773a07d712aa00"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":100,"throttlingRateLimit":50}],"restApiId":{"Ref":"PieceAppRestApi962CCD29"},"stageName":"dev","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"Endpoint":{"id":"Endpoint","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Default":{"id":"Default","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.221.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"accounts":{"id":"accounts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"accounts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsDED9EEFD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateAccountFunctionB1A7B865ArnA1CC1551"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/accounts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateAccountFunctionB1A7B865ArnA1CC1551"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/accounts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateAccountFunctionB1A7B865ArnA1CC1551"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsDED9EEFD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{account_id}":{"id":"{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsDED9EEFD"},"pathPart":"{account_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProfileFunction8A105C24ArnF907E196"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProfileFunction8A105C24ArnF907E196"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProfileFunction8A105C24ArnF907E196"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProfileFunction2A160882Arn1B8D4808"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/accounts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProfileFunction2A160882Arn1B8D4808"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/accounts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProfileFunction2A160882Arn1B8D4808"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"sessions":{"id":"sessions","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"pathPart":"sessions","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidsessionsB156EC0C"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.sessions":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.sessions","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetAllAccountSessionsFunctionA9F227E7ArnDB1E3344"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*/sessions"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.sessions":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.sessions","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetAllAccountSessionsFunctionA9F227E7ArnDB1E3344"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*/sessions"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/sessions/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetAllAccountSessionsFunctionA9F227E7ArnDB1E3344"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidsessionsB156EC0C"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"posts":{"id":"posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"pathPart":"posts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidpostsB2D365F4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.posts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserPostsFunction589F0A2CArn0AB624BD"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*/posts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.posts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserPostsFunction589F0A2CArn0AB624BD"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*/posts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/posts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserPostsFunction589F0A2CArn0AB624BD"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidpostsB2D365F4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"following":{"id":"following","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"pathPart":"following","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidfollowing91DDECC5"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.following":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.following","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.following","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetFollowingFunctionB4F2C775Arn87427911"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*/following"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.following":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.following","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.following","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetFollowingFunctionB4F2C775Arn87427911"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*/following"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/following/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetFollowingFunctionB4F2C775Arn87427911"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidfollowing91DDECC5"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"followers":{"id":"followers","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"pathPart":"followers","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidfollowers07790773"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.followers":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.followers","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.followers","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetFollowersFunction2847BB19Arn26F0BEB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*/followers"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.followers":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.followers","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.followers","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetFollowersFunction2847BB19Arn26F0BEB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*/followers"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/followers/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetFollowersFunction2847BB19Arn26F0BEB6"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidfollowers07790773"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"likes":{"id":"likes","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"pathPart":"likes","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidlikesDFA339AF"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.likes":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.likes","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.likes","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserLikesFunctionC865302FArn4432C7E7"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*/likes"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.likes":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.likes","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.likes","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserLikesFunctionC865302FArn4432C7E7"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*/likes"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/likes/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserLikesFunctionC865302FArn4432C7E7"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidlikesDFA339AF"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"reposts":{"id":"reposts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"pathPart":"reposts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidreposts2D66C887"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.reposts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.reposts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.reposts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserRepostsFunction1A359462Arn3DC21C7C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*/reposts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.reposts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.reposts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.reposts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserRepostsFunction1A359462Arn3DC21C7C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*/reposts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/reposts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetUserRepostsFunction1A359462Arn3DC21C7C"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidreposts2D66C887"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"analytics":{"id":"analytics","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"pathPart":"analytics","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidanalytics6E0F5976"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.analytics":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.analytics","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.analytics","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetAccountAnalyticsFunction52C85098Arn9082FD84"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*/analytics"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.analytics":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.analytics","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}.analytics","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetAccountAnalyticsFunction52C85098Arn9082FD84"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*/analytics"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/analytics/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetAccountAnalyticsFunction52C85098Arn9082FD84"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidanalytics6E0F5976"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"posts":{"id":"posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"posts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostsE92C4307"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreatePostFunction56510812Arn8877FC58"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreatePostFunction56510812Arn8877FC58"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreatePostFunction56510812Arn8877FC58"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostsE92C4307"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{post_id}":{"id":"{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostsE92C4307"},"pathPart":"{post_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostFunction29A17447Arn6F384FC2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostFunction29A17447Arn6F384FC2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostFunction29A17447Arn6F384FC2"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeletePostFunction442EA4DBArn6D6F02C1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/posts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeletePostFunction442EA4DBArn6D6F02C1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/posts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeletePostFunction442EA4DBArn6D6F02C1"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"like":{"id":"like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"like","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidlike04E41FC2"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLikePostFunctionEAEFAE85ArnF5EBACCC"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts/*/like"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLikePostFunctionEAEFAE85ArnF5EBACCC"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts/*/like"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLikePostFunctionEAEFAE85ArnF5EBACCC"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostidlike04E41FC2"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnlikePostFunctionF2D5BDFEArnA95859B6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/posts/*/like"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnlikePostFunctionF2D5BDFEArnA95859B6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/posts/*/like"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnlikePostFunctionF2D5BDFEArnA95859B6"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostidlike04E41FC2"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"comments":{"id":"comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"comments","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidcommentsA075A50D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateCommentFunction2CCB21BAArnC1A7822B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts/*/comments"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateCommentFunction2CCB21BAArnC1A7822B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts/*/comments"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateCommentFunction2CCB21BAArnC1A7822B"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidcommentsA075A50D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetCommentsFunction51A1C6FCArn7EF9B4B5"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*/comments"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetCommentsFunction51A1C6FCArn7EF9B4B5"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*/comments"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetCommentsFunction51A1C6FCArn7EF9B4B5"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostidcommentsA075A50D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"repost":{"id":"repost","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"repost","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidrepostF3D8A901"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.repost":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.repost","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.repost","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRepostFunction771753A5ArnAF6F0559"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts/*/repost"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.repost":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.repost","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.repost","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRepostFunction771753A5ArnAF6F0559"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts/*/repost"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/repost/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRepostFunction771753A5ArnAF6F0559"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidrepostF3D8A901"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..posts.{post_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdatePostFunction419034E4ArnFD1E62F2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/posts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..posts.{post_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdatePostFunction419034E4ArnFD1E62F2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/posts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdatePostFunction419034E4ArnFD1E62F2"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"likes":{"id":"likes","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"likes","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidlikes4D374373"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.likes":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.likes","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.likes","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostLikesFunctionC8607EF7Arn739C32A6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*/likes"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.likes":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.likes","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.likes","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostLikesFunctionC8607EF7Arn739C32A6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*/likes"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/likes/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostLikesFunctionC8607EF7Arn739C32A6"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidlikes4D374373"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"reposts":{"id":"reposts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"reposts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidrepostsC75572A6"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.reposts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.reposts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.reposts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostRepostsFunction49DCEB0CArn4716BB59"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*/reposts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.reposts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.reposts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.reposts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostRepostsFunction49DCEB0CArn4716BB59"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*/reposts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/reposts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostRepostsFunction49DCEB0CArn4716BB59"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidrepostsC75572A6"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"analytics":{"id":"analytics","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"analytics","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidanalyticsDE0781B6"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.analytics":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.analytics","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.analytics","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostAnalyticsFunctionA226BB08Arn79429CAA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*/analytics"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.analytics":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.analytics","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.analytics","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostAnalyticsFunctionA226BB08Arn79429CAA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*/analytics"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/analytics/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostAnalyticsFunctionA226BB08Arn79429CAA"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidanalyticsDE0781B6"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"products":{"id":"products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"products","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidproducts34CB8E88"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.products":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttTagProductOnPostFunction4C593890ArnFF6144B7"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts/*/products"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.products":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttTagProductOnPostFunction4C593890ArnFF6144B7"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts/*/products"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttTagProductOnPostFunction4C593890ArnFF6144B7"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidproducts34CB8E88"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.products":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostProductsFunction5584A4DAArn80DF56BA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*/products"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.products":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostProductsFunction5584A4DAArn80DF56BA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*/products"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/products/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostProductsFunction5584A4DAArn80DF56BA"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidproducts34CB8E88"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"comments":{"id":"comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"comments","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApicommentsC52427E5"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{comment_id}":{"id":"{comment_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApicommentsC52427E5"},"pathPart":"{comment_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApicommentscommentidF6331499"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteCommentFunctionFC7A50A9Arn55BD8A5E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/comments/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteCommentFunctionFC7A50A9Arn55BD8A5E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/comments/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteCommentFunctionFC7A50A9Arn55BD8A5E"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApicommentscommentidF6331499"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"timeline":{"id":"timeline","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"timeline","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApitimelineD42F2520"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTimelineFunctionA617EDF2ArnF2206057"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/timeline"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTimelineFunctionA617EDF2ArnF2206057"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/timeline"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTimelineFunctionA617EDF2ArnF2206057"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApitimelineD42F2520"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"follow":{"id":"follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"follow","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApifollow6168CF42"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttFollowUserFunctionD86228D7Arn42B90F2C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/follow"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttFollowUserFunctionD86228D7Arn42B90F2C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/follow"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttFollowUserFunctionD86228D7Arn42B90F2C"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApifollow6168CF42"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnfollowUserFunction2E9DAACAArn7D39CCC6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/follow"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnfollowUserFunction2E9DAACAArn7D39CCC6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/follow"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnfollowUserFunction2E9DAACAArn7D39CCC6"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApifollow6168CF42"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"rooms":{"id":"rooms","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"rooms","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApirooms64EE51AD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRoomFunctionA8220676Arn3FEDC66C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/rooms"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRoomFunctionA8220676Arn3FEDC66C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/rooms"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRoomFunctionA8220676Arn3FEDC66C"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApirooms64EE51AD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{room_id}":{"id":"{room_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApirooms64EE51AD"},"pathPart":"{room_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"posts":{"id":"posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"pathPart":"posts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiroomsroomidposts068DFB6E"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.posts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomPostsFunctionC9340753Arn088BC891"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/rooms/*/posts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.posts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomPostsFunctionC9340753Arn088BC891"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/rooms/*/posts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/posts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomPostsFunctionC9340753Arn088BC891"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiroomsroomidposts068DFB6E"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomFunction7DB144C3ArnBF358E93"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/rooms/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomFunction7DB144C3ArnBF358E93"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/rooms/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomFunction7DB144C3ArnBF358E93"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..rooms.{room_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..rooms.{room_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..rooms.{room_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateRoomFunction381F58D4ArnD3B2F2EE"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/rooms/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..rooms.{room_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..rooms.{room_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..rooms.{room_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateRoomFunction381F58D4ArnD3B2F2EE"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/rooms/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateRoomFunction381F58D4ArnD3B2F2EE"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"join":{"id":"join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"pathPart":"join","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiroomsroomidjoin5C96307F"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinRoomFunction0DBFFBBFArn870C3BF1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/rooms/*/join"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinRoomFunction0DBFFBBFArn870C3BF1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/rooms/*/join"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinRoomFunction0DBFFBBFArn870C3BF1"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiroomsroomidjoin5C96307F"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"members":{"id":"members","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"pathPart":"members","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiroomsroomidmembersF04CDC37"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.members":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.members","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.members","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomMembersFunctionBE2FB049Arn616B0C01"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/rooms/*/members"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.members":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.members","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..rooms.{room_id}.members","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomMembersFunctionBE2FB049Arn616B0C01"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/rooms/*/members"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetRoomMembersFunctionBE2FB049Arn616B0C01"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiroomsroomidmembersF04CDC37"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"me":{"id":"me","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiroomsroomidmembersF04CDC37"},"pathPart":"me","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiroomsroomidmembersme1B86053D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..rooms.{room_id}.members.me":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..rooms.{room_id}.members.me","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..rooms.{room_id}.members.me","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLeaveRoomFunction4063A5FEArn4CD916DF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/rooms/*/members/me"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..rooms.{room_id}.members.me":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..rooms.{room_id}.members.me","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..rooms.{room_id}.members.me","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLeaveRoomFunction4063A5FEArn4CD916DF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/rooms/*/members/me"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/members/me/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLeaveRoomFunction4063A5FEArn4CD916DF"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiroomsroomidmembersme1B86053D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}}}},"conversations":{"id":"conversations","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"conversations","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiconversations09892220"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateConversationFunction2861D492Arn9C61742B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/conversations"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateConversationFunction2861D492Arn9C61742B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/conversations"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateConversationFunction2861D492Arn9C61742B"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiconversations09892220"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetConversationsFunction69BE1A07Arn24AFCF1E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/conversations"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetConversationsFunction69BE1A07Arn24AFCF1E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/conversations"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetConversationsFunction69BE1A07Arn24AFCF1E"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiconversations09892220"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{conversation_id}":{"id":"{conversation_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiconversations09892220"},"pathPart":"{conversation_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiconversationsconversationid588FA9C4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"messages":{"id":"messages","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiconversationsconversationid588FA9C4"},"pathPart":"messages","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiconversationsconversationidmessagesF8490C45"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations.{conversation_id}.messages":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations.{conversation_id}.messages","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations.{conversation_id}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendMessageFunctionA37DCB9DArn7A55071F"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/conversations/*/messages"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations.{conversation_id}.messages":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations.{conversation_id}.messages","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..conversations.{conversation_id}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendMessageFunctionA37DCB9DArn7A55071F"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/conversations/*/messages"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendMessageFunctionA37DCB9DArn7A55071F"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiconversationsconversationidmessagesF8490C45"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations.{conversation_id}.messages":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations.{conversation_id}.messages","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations.{conversation_id}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetMessagesFunctionF32AD2ADArn83B5BCBF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/conversations/*/messages"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations.{conversation_id}.messages":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations.{conversation_id}.messages","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..conversations.{conversation_id}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetMessagesFunctionF32AD2ADArn83B5BCBF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/conversations/*/messages"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/conversations/{conversation_id}/messages/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetMessagesFunctionF32AD2ADArn83B5BCBF"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiconversationsconversationidmessagesF8490C45"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"block":{"id":"block","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"block","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiblockCA37F256"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..block":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..block","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..block","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttBlockUserFunction84159900Arn39B1522F"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/block"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..block":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..block","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..block","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttBlockUserFunction84159900Arn39B1522F"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/block"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttBlockUserFunction84159900Arn39B1522F"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiblockCA37F256"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..block":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..block","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..block","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetBlockListFunctionFD6239B9ArnD9F88CE0"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/block"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..block":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..block","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..block","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetBlockListFunctionFD6239B9ArnD9F88CE0"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/block"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetBlockListFunctionFD6239B9ArnD9F88CE0"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiblockCA37F256"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{account_id}":{"id":"{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiblockCA37F256"},"pathPart":"{account_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiblockaccountidCCDDE343"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..block.{account_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..block.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..block.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnblockUserFunction943440B8Arn2B767599"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/block/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..block.{account_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..block.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..block.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnblockUserFunction943440B8Arn2B767599"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/block/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/block/{account_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnblockUserFunction943440B8Arn2B767599"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiblockaccountidCCDDE343"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"reposts":{"id":"reposts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"reposts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApireposts03B5E366"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{repost_id}":{"id":"{repost_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApireposts03B5E366"},"pathPart":"{repost_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApirepostsrepostid220CEE76"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..reposts.{repost_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..reposts.{repost_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..reposts.{repost_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteRepostFunctionC0F8D37BArn50964964"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/reposts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..reposts.{repost_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..reposts.{repost_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..reposts.{repost_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteRepostFunctionC0F8D37BArn50964964"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/reposts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reposts/{repost_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteRepostFunctionC0F8D37BArn50964964"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApirepostsrepostid220CEE76"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"reports":{"id":"reports","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"reports","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApireports66CB4156"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..reports":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..reports","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..reports","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateReportFunctionD24426C8Arn4608EA00"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/reports"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..reports":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..reports","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..reports","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateReportFunctionD24426C8Arn4608EA00"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/reports"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateReportFunctionD24426C8Arn4608EA00"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApireports66CB4156"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..reports":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..reports","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..reports","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetReportsFunctionC7A3A071ArnAB35DA3D"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/reports"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..reports":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..reports","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..reports","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetReportsFunctionC7A3A071ArnAB35DA3D"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/reports"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/reports/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetReportsFunctionC7A3A071ArnAB35DA3D"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApireports66CB4156"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"notifications":{"id":"notifications","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"notifications","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApinotifications4496D6C4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetNotificationsFunctionE02AD7C7ArnE23E3AE6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/notifications"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetNotificationsFunctionE02AD7C7ArnE23E3AE6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/notifications"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetNotificationsFunctionE02AD7C7ArnE23E3AE6"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApinotifications4496D6C4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{id}":{"id":"{id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApinotifications4496D6C4"},"pathPart":"{id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApinotificationsidAFA030D2"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"read":{"id":"read","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApinotificationsidAFA030D2"},"pathPart":"read","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApinotificationsidreadD07B3C91"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.{id}.read":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.{id}.read","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.{id}.read","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMarkAsReadFunction890C1BBEArnA43DA6A3"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/notifications/*/read"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.{id}.read":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.{id}.read","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.{id}.read","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMarkAsReadFunction890C1BBEArnA43DA6A3"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/notifications/*/read"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/{id}/read/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMarkAsReadFunction890C1BBEArnA43DA6A3"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApinotificationsidreadD07B3C91"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"read":{"id":"read","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApinotifications4496D6C4"},"pathPart":"read","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApinotificationsreadFA81224D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.read":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.read","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.read","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMarkAllAsReadFunction19B49E7AArn6E52064C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/notifications/read"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.read":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.read","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.read","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMarkAllAsReadFunction19B49E7AArn6E52064C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/notifications/read"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/read/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMarkAllAsReadFunction19B49E7AArn6E52064C"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApinotificationsreadFA81224D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"settings":{"id":"settings","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApinotifications4496D6C4"},"pathPart":"settings","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApinotificationssettings94C0C146"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications.settings":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications.settings","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications.settings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetNotificationSettingsFunction43122347ArnDAE64CB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/notifications/settings"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications.settings":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications.settings","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..notifications.settings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetNotificationSettingsFunction43122347ArnDAE64CB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/notifications/settings"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetNotificationSettingsFunction43122347ArnDAE64CB6"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApinotificationssettings94C0C146"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.settings":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.settings","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.settings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateNotificationSettingsFunctionC8FE465EArnCCD65A21"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/notifications/settings"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.settings":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.settings","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..notifications.settings","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateNotificationSettingsFunctionC8FE465EArnCCD65A21"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/notifications/settings"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/notifications/settings/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateNotificationSettingsFunctionC8FE465EArnCCD65A21"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApinotificationssettings94C0C146"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"sessions":{"id":"sessions","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"sessions","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApisessions36373898"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..sessions":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..sessions","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateSessionFunction9E798546Arn2D9FD249"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/sessions"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..sessions":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..sessions","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..sessions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateSessionFunction9E798546Arn2D9FD249"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/sessions"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateSessionFunction9E798546Arn2D9FD249"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApisessions36373898"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{device_id}":{"id":"{device_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApisessions36373898"},"pathPart":"{device_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApisessionsdeviceid68CFB363"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..sessions.{device_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..sessions.{device_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..sessions.{device_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLogoutSessionFunctionBF1F97C2Arn33BE5812"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/sessions/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..sessions.{device_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..sessions.{device_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..sessions.{device_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLogoutSessionFunctionBF1F97C2Arn33BE5812"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/sessions/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/sessions/{device_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLogoutSessionFunctionBF1F97C2Arn33BE5812"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApisessionsdeviceid68CFB363"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"hashtags":{"id":"hashtags","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"hashtags","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApihashtags88B788C9"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"trending":{"id":"trending","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApihashtags88B788C9"},"pathPart":"trending","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApihashtagstrending285F417D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.trending":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.trending","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.trending","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTrendingHashtagsFunction6CD3A92CArn35BC58CE"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/hashtags/trending"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.trending":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.trending","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.trending","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTrendingHashtagsFunction6CD3A92CArn35BC58CE"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/hashtags/trending"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/trending/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTrendingHashtagsFunction6CD3A92CArn35BC58CE"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApihashtagstrending285F417D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"{hashtag}":{"id":"{hashtag}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApihashtags88B788C9"},"pathPart":"{hashtag}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApihashtagshashtagD9449B15"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"posts":{"id":"posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApihashtagshashtagD9449B15"},"pathPart":"posts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApihashtagshashtagposts76F0A378"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.{hashtag}.posts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.{hashtag}.posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.{hashtag}.posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSearchByHashtagFunction2547DB13ArnB1D252EB"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/hashtags/*/posts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.{hashtag}.posts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.{hashtag}.posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..hashtags.{hashtag}.posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSearchByHashtagFunction2547DB13ArnB1D252EB"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/hashtags/*/posts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/hashtags/{hashtag}/posts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSearchByHashtagFunction2547DB13ArnB1D252EB"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApihashtagshashtagposts76F0A378"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"mute":{"id":"mute","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"mute","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApimute466CB898"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..mute":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..mute","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..mute","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMuteUserFunctionB60C9170ArnC957DF56"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/mute"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..mute":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..mute","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..mute","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMuteUserFunctionB60C9170ArnC957DF56"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/mute"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMuteUserFunctionB60C9170ArnC957DF56"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApimute466CB898"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..mute":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..mute","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..mute","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetMutedUsersFunction06DDC88EArn18C66A3A"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/mute"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..mute":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..mute","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..mute","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetMutedUsersFunction06DDC88EArn18C66A3A"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/mute"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetMutedUsersFunction06DDC88EArn18C66A3A"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApimute466CB898"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{account_id}":{"id":"{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApimute466CB898"},"pathPart":"{account_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApimuteaccountidB156E6BE"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..mute.{account_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..mute.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..mute.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnmuteUserFunctionE93301B0Arn290EE5AA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/mute/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..mute.{account_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..mute.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..mute.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnmuteUserFunctionE93301B0Arn290EE5AA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/mute/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/mute/{account_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnmuteUserFunctionE93301B0Arn290EE5AA"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApimuteaccountidB156E6BE"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"feed":{"id":"feed","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"feed","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApifeedD3C7FC7C"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"discovery":{"id":"discovery","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApifeedD3C7FC7C"},"pathPart":"discovery","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApifeeddiscovery2B01D580"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..feed.discovery":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..feed.discovery","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..feed.discovery","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetDiscoveryFeedFunction945D2768Arn532F4AEA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/feed/discovery"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..feed.discovery":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..feed.discovery","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..feed.discovery","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetDiscoveryFeedFunction945D2768Arn532F4AEA"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/feed/discovery"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/feed/discovery/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetDiscoveryFeedFunction945D2768Arn532F4AEA"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApifeeddiscovery2B01D580"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"analytics":{"id":"analytics","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"analytics","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApianalytics520205BA"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"events":{"id":"events","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApianalytics520205BA"},"pathPart":"events","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApianalyticsevents86ADD472"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..analytics.events":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..analytics.events","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..analytics.events","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttTrackEventFunctionC086064EArnB5269626"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/analytics/events"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..analytics.events":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..analytics.events","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..analytics.events","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttTrackEventFunctionC086064EArnB5269626"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/analytics/events"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/analytics/events/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttTrackEventFunctionC086064EArnB5269626"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApianalyticsevents86ADD472"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"dashboard":{"id":"dashboard","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"dashboard","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApidashboard1544E38C"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..dashboard":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..dashboard","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..dashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetDashboardFunction9CFB13B5Arn957B34FC"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/dashboard"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..dashboard":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..dashboard","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..dashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetDashboardFunction9CFB13B5Arn957B34FC"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/dashboard"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/dashboard/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetDashboardFunction9CFB13B5Arn957B34FC"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApidashboard1544E38C"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"products":{"id":"products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"products","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiproducts94085FBA"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateProductFunctionD4A3469EArn10EC278B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/products"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateProductFunctionD4A3469EArn10EC278B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/products"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateProductFunctionD4A3469EArn10EC278B"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiproducts94085FBA"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProductsFunction60F0D6E5ArnFF5B1B27"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/products"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProductsFunction60F0D6E5ArnFF5B1B27"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/products"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProductsFunction60F0D6E5ArnFF5B1B27"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiproducts94085FBA"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{product_id}":{"id":"{product_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiproducts94085FBA"},"pathPart":"{product_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiproductsproductidCA2CB99B"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products.{product_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products.{product_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products.{product_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProductFunction879D9990Arn5FD324BB"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/products/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products.{product_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products.{product_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..products.{product_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProductFunction879D9990Arn5FD324BB"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/products/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProductFunction879D9990Arn5FD324BB"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiproductsproductidCA2CB99B"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..products.{product_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..products.{product_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..products.{product_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProductFunctionCBECB4B0Arn4FCADE60"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/products/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..products.{product_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..products.{product_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..products.{product_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProductFunctionCBECB4B0Arn4FCADE60"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/products/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProductFunctionCBECB4B0Arn4FCADE60"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiproductsproductidCA2CB99B"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..products.{product_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..products.{product_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..products.{product_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteProductFunctionDCB5D2F5Arn921EF70E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/products/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..products.{product_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..products.{product_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..products.{product_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteProductFunctionDCB5D2F5Arn921EF70E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/products/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteProductFunctionDCB5D2F5Arn921EF70E"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiproductsproductidCA2CB99B"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"click":{"id":"click","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiproductsproductidCA2CB99B"},"pathPart":"click","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiproductsproductidclickD027FEA0"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products.{product_id}.click":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products.{product_id}.click","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products.{product_id}.click","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttClickProductFunctionE7EEA26AArn746418C2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/products/*/click"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products.{product_id}.click":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products.{product_id}.click","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..products.{product_id}.click","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttClickProductFunctionE7EEA26AArn746418C2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/products/*/click"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/products/{product_id}/click/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttClickProductFunctionE7EEA26AArn746418C2"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiproductsproductidclickD027FEA0"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"live-streams":{"id":"live-streams","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"live-streams","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreams00911566"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateLiveStreamFunction4ED79E9CArnF9822E68"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateLiveStreamFunction4ED79E9CArnF9822E68"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateLiveStreamFunction4ED79E9CArnF9822E68"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreams00911566"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveStreamsFunctionADD314C3Arn6C0EAA28"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/live-streams"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveStreamsFunctionADD314C3Arn6C0EAA28"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/live-streams"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveStreamsFunctionADD314C3Arn6C0EAA28"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreams00911566"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{stream_id}":{"id":"{stream_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreams00911566"},"pathPart":"{stream_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveStreamFunctionA5FDDEF7Arn9732011D"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/live-streams/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveStreamFunctionA5FDDEF7Arn9732011D"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/live-streams/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveStreamFunctionA5FDDEF7Arn9732011D"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..live-streams.{stream_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..live-streams.{stream_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..live-streams.{stream_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteLiveStreamFunctionCF2CF7B1ArnEAC32FB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/live-streams/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..live-streams.{stream_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..live-streams.{stream_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..live-streams.{stream_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteLiveStreamFunctionCF2CF7B1ArnEAC32FB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/live-streams/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteLiveStreamFunctionCF2CF7B1ArnEAC32FB6"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"end":{"id":"end","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"pathPart":"end","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidend291E9500"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.end":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.end","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.end","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttEndLiveStreamFunction1F6E6B17ArnE382BDF0"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams/*/end"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.end":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.end","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.end","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttEndLiveStreamFunction1F6E6B17ArnE382BDF0"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams/*/end"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/end/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttEndLiveStreamFunction1F6E6B17ArnE382BDF0"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidend291E9500"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"join":{"id":"join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"pathPart":"join","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidjoin4B176755"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.join":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.join","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinLiveStreamFunction50960BBDArnF0836AB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams/*/join"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.join":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.join","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinLiveStreamFunction50960BBDArnF0836AB6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams/*/join"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/join/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinLiveStreamFunction50960BBDArnF0836AB6"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidjoin4B176755"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"leave":{"id":"leave","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"pathPart":"leave","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidleaveC66E60C5"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.leave":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.leave","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.leave","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLeaveLiveStreamFunction0AF4504AArn4A31DABF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams/*/leave"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.leave":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.leave","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.leave","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLeaveLiveStreamFunction0AF4504AArn4A31DABF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams/*/leave"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/leave/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLeaveLiveStreamFunction0AF4504AArn4A31DABF"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidleaveC66E60C5"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"chat":{"id":"chat","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"pathPart":"chat","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidchat8423A9D4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}.chat":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}.chat","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}.chat","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveChatsFunctionDDBB7CC0Arn01218AFF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/live-streams/*/chat"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}.chat":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}.chat","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..live-streams.{stream_id}.chat","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveChatsFunctionDDBB7CC0Arn01218AFF"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/live-streams/*/chat"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetLiveChatsFunctionDDBB7CC0Arn01218AFF"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidchat8423A9D4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.chat":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.chat","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.chat","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendLiveChatFunctionD5C4F9B4ArnA2AF4BFD"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams/*/chat"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.chat":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.chat","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.chat","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendLiveChatFunctionD5C4F9B4ArnA2AF4BFD"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams/*/chat"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/chat/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendLiveChatFunctionD5C4F9B4ArnA2AF4BFD"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidchat8423A9D4"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"gifts":{"id":"gifts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"pathPart":"gifts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidgifts14EB6A49"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.gifts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.gifts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.gifts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendGiftFunction038670A0ArnFDF12E5F"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams/*/gifts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.gifts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.gifts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.gifts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendGiftFunction038670A0ArnFDF12E5F"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams/*/gifts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/gifts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttSendGiftFunction038670A0ArnFDF12E5F"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidgifts14EB6A49"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"moderators":{"id":"moderators","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"pathPart":"moderators","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidmoderatorsD2DB6197"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.moderators":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.moderators","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.moderators","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttAddModeratorFunction0E0269EFArnD26037A1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams/*/moderators"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.moderators":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.moderators","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.moderators","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttAddModeratorFunction0E0269EFArnD26037A1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams/*/moderators"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/moderators/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttAddModeratorFunction0E0269EFArnD26037A1"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidmoderatorsD2DB6197"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"ban":{"id":"ban","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApilivestreamsstreamidBEA11356"},"pathPart":"ban","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidbanA3F56AB9"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.ban":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.ban","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.ban","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttBanUserFromLiveFunction158255FBArn1440DC5D"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/live-streams/*/ban"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.ban":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.ban","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..live-streams.{stream_id}.ban","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttBanUserFromLiveFunction158255FBArn1440DC5D"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/live-streams/*/ban"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/live-streams/{stream_id}/ban/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttBanUserFromLiveFunction158255FBArn1440DC5D"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApilivestreamsstreamidbanA3F56AB9"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"webhooks":{"id":"webhooks","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"webhooks","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiwebhooks5C60851E"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"mux":{"id":"mux","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiwebhooks5C60851E"},"pathPart":"mux","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiwebhooksmuxBC67A903"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..webhooks.mux":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..webhooks.mux","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..webhooks.mux","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMuxWebhookFunction75A76C06ArnC3F23C8E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/webhooks/mux"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..webhooks.mux":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..webhooks.mux","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..webhooks.mux","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMuxWebhookFunction75A76C06ArnC3F23C8E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/webhooks/mux"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/webhooks/mux/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttMuxWebhookFunction75A76C06ArnC3F23C8E"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiwebhooksmuxBC67A903"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"ErrorResponseModel":{"id":"ErrorResponseModel","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/ErrorResponseModel","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Model","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/ErrorResponseModel/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnModel","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Model","aws:cdk:cloudformation:props":{"contentType":"application/json","name":"ErrorResponse","restApiId":{"Ref":"PieceAppRestApi962CCD29"},"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}}},"$schema":"http://json-schema.org/draft-04/schema#"}}}}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"PieceApp-ApiGateway-Dev/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"authorizerResultTtlInSeconds":300,"identitySource":"method.request.header.Authorization","name":"piece-app-authorizer-dev","providerArns":[{"Fn::ImportValue":"PieceApp-Cognito-Dev:ExportsOutputFnGetAttPieceAppUserPoolA10A98B5ArnCEEBE3C5"}],"restApiId":{"Ref":"PieceAppRestApi962CCD29"},"type":"COGNITO_USER_POOLS"}}}}},"RequestValidator":{"id":"RequestValidator","path":"PieceApp-ApiGateway-Dev/RequestValidator","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/RequestValidator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"name":"request-body-validator","restApiId":{"Ref":"PieceAppRestApi962CCD29"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"ApiUrl":{"id":"ApiUrl","path":"PieceApp-ApiGateway-Dev/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"ApiId":{"id":"ApiId","path":"PieceApp-ApiGateway-Dev/ApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-ApiGateway-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-ApiGateway-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-ApiGateway-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-ApiGateway-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}