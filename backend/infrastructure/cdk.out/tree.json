{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.221.0"},"children":{"PieceApp-DynamoDB-Dev":{"id":"PieceApp-DynamoDB-Dev","path":"PieceApp-DynamoDB-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"AccountTable":{"id":"AccountTable","path":"PieceApp-DynamoDB-Dev/AccountTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/AccountTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"PK","attributeType":"S"},{"attributeName":"SK","attributeType":"S"},{"attributeName":"GSI1PK","attributeType":"S"},{"attributeName":"GSI1SK","attributeType":"S"},{"attributeName":"GSI2PK","attributeType":"S"},{"attributeName":"GSI2SK","attributeType":"S"},{"attributeName":"GSI3PK","attributeType":"S"},{"attributeName":"GSI3SK","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1_EmailLogin","keySchema":[{"attributeName":"GSI1PK","keyType":"HASH"},{"attributeName":"GSI1SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2_HandleSearch","keySchema":[{"attributeName":"GSI2PK","keyType":"HASH"},{"attributeName":"GSI2SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI3_PhoneManagement","keySchema":[{"attributeName":"GSI3PK","keyType":"HASH"},{"attributeName":"GSI3SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"PK","keyType":"HASH"},{"attributeName":"SK","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1_EmailLogin"},{"indexName":"GSI2_HandleSearch"},{"indexName":"GSI3_PhoneManagement"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ACCOUNT-dev"}}}}},"SessionTable":{"id":"SessionTable","path":"PieceApp-DynamoDB-Dev/SessionTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/SessionTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"PK","attributeType":"S"},{"attributeName":"SK","attributeType":"S"},{"attributeName":"GSI1PK","attributeType":"S"},{"attributeName":"GSI1SK","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1_AccountSessions","keySchema":[{"attributeName":"GSI1PK","keyType":"HASH"},{"attributeName":"GSI1SK","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"PK","keyType":"HASH"},{"attributeName":"SK","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1_AccountSessions"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"SESSION-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"PostTable":{"id":"PostTable","path":"PieceApp-DynamoDB-Dev/PostTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/PostTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"postId","attributeType":"S"},{"attributeName":"accountId","attributeType":"S"},{"attributeName":"createdAt","attributeType":"N"},{"attributeName":"visibility","attributeType":"S"},{"attributeName":"room_id","attributeType":"S"},{"attributeName":"post_type","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"accountId","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"visibility","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI3","keySchema":[{"attributeName":"room_id","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_PostType_CreatedAt","keySchema":[{"attributeName":"post_type","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"postId","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"},{"indexName":"GSI3"},{"indexName":"GSI_PostType_CreatedAt"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"POST-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"HashtagIndexTable":{"id":"HashtagIndexTable","path":"PieceApp-DynamoDB-Dev/HashtagIndexTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/HashtagIndexTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashtag","attributeType":"S"},{"attributeName":"postId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"hashtag","keyType":"HASH"},{"attributeName":"postId","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"HASHTAG_INDEX-dev"}}}}},"HashtagCountTable":{"id":"HashtagCountTable","path":"PieceApp-DynamoDB-Dev/HashtagCountTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/HashtagCountTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashtag","attributeType":"S"},{"attributeName":"period","attributeType":"S"},{"attributeName":"count","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"period","keyType":"HASH"},{"attributeName":"count","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"hashtag","keyType":"HASH"},{"attributeName":"period","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"HASHTAG_COUNT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"FollowTable":{"id":"FollowTable","path":"PieceApp-DynamoDB-Dev/FollowTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/FollowTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"follower_id","attributeType":"S"},{"attributeName":"following_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"follower_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"following_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"follower_id","keyType":"HASH"},{"attributeName":"following_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"FOLLOW-dev"}}}}},"LikeTable":{"id":"LikeTable","path":"PieceApp-DynamoDB-Dev/LikeTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LikeTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"post_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"post_id","keyType":"HASH"},{"attributeName":"account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIKE-dev"}}}}},"CommentTable":{"id":"CommentTable","path":"PieceApp-DynamoDB-Dev/CommentTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/CommentTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"comment_id","attributeType":"S"},{"attributeName":"post_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"post_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"comment_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"COMMENT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"RoomTable":{"id":"RoomTable","path":"PieceApp-DynamoDB-Dev/RoomTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/RoomTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"room_id","attributeType":"S"},{"attributeName":"category","attributeType":"S"},{"attributeName":"member_count","attributeType":"N"},{"attributeName":"room_handle","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"category","keyType":"HASH"},{"attributeName":"member_count","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"room_handle","keyType":"HASH"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"room_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ROOM-dev"}}}}},"RoomMemberTable":{"id":"RoomMemberTable","path":"PieceApp-DynamoDB-Dev/RoomMemberTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/RoomMemberTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"room_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"joined_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"joined_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"room_id","keyType":"HASH"},{"attributeName":"account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ROOM_MEMBER-dev"}}}}},"NotificationTable":{"id":"NotificationTable","path":"PieceApp-DynamoDB-Dev/NotificationTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/NotificationTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"notification_id","attributeType":"S"},{"attributeName":"recipient_account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"is_read","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"recipient_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"recipient_account_id","keyType":"HASH"},{"attributeName":"is_read","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"notification_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"NOTIFICATION-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"NotificationSettingsTable":{"id":"NotificationSettingsTable","path":"PieceApp-DynamoDB-Dev/NotificationSettingsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/NotificationSettingsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"account_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"NOTIFICATION_SETTINGS-dev"}}}}},"MutedAccountsTable":{"id":"MutedAccountsTable","path":"PieceApp-DynamoDB-Dev/MutedAccountsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/MutedAccountsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"account_id","attributeType":"S"},{"attributeName":"muted_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"muted_account_id","keyType":"HASH"},{"attributeName":"account_id","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"muted_account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"MUTED_ACCOUNTS-dev"}}}}},"RepostTable":{"id":"RepostTable","path":"PieceApp-DynamoDB-Dev/RepostTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/RepostTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"repost_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"original_post_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI1","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI2","keySchema":[{"attributeName":"original_post_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"repost_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI1"},{"indexName":"GSI2"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"REPOST-dev"}}}}},"BlockTable":{"id":"BlockTable","path":"PieceApp-DynamoDB-Dev/BlockTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/BlockTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"blocker_account_id","attributeType":"S"},{"attributeName":"blocked_account_id","attributeType":"S"},{"attributeName":"blocked_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_blocked_by","keySchema":[{"attributeName":"blocked_account_id","keyType":"HASH"},{"attributeName":"blocked_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"blocker_account_id","keyType":"HASH"},{"attributeName":"blocked_account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_blocked_by"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"BLOCK-dev"}}}}},"ReportTable":{"id":"ReportTable","path":"PieceApp-DynamoDB-Dev/ReportTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ReportTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"report_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"status","attributeType":"S"},{"attributeName":"target_type","attributeType":"S"},{"attributeName":"reporter_account_id","attributeType":"S"},{"attributeName":"target_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_status_reports","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_target_reports","keySchema":[{"attributeName":"target_type","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_reporter_history","keySchema":[{"attributeName":"reporter_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_reported_user","keySchema":[{"attributeName":"target_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"report_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_status_reports"},{"indexName":"GSI_target_reports"},{"indexName":"GSI_reporter_history"},{"indexName":"GSI_reported_user"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"REPORT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveStreamTable":{"id":"LiveStreamTable","path":"PieceApp-DynamoDB-Dev/LiveStreamTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveStreamTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"room_id","attributeType":"S"},{"attributeName":"started_at","attributeType":"N"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_room_lives","keySchema":[{"attributeName":"room_id","keyType":"HASH"},{"attributeName":"started_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_account_lives","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"started_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_active_lives","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"started_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_room_lives"},{"indexName":"GSI_account_lives"},{"indexName":"GSI_active_lives"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_STREAM-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveViewerTable":{"id":"LiveViewerTable","path":"PieceApp-DynamoDB-Dev/LiveViewerTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveViewerTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"viewer_key","attributeType":"S"},{"attributeName":"joined_at","attributeType":"N"},{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"last_ping_at","attributeType":"N"},{"attributeName":"account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_stream_viewers","keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"last_ping_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_user_watch_history","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"joined_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"viewer_key","keyType":"HASH"},{"attributeName":"joined_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_stream_viewers"},{"indexName":"GSI_user_watch_history"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_VIEWER-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveModeratorTable":{"id":"LiveModeratorTable","path":"PieceApp-DynamoDB-Dev/LiveModeratorTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveModeratorTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"moderator_account_id","attributeType":"S"},{"attributeName":"assigned_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_moderator_streams","keySchema":[{"attributeName":"moderator_account_id","keyType":"HASH"},{"attributeName":"assigned_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"moderator_account_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_moderator_streams"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_MODERATOR-dev"}}}}},"ModeratorActionLogTable":{"id":"ModeratorActionLogTable","path":"PieceApp-DynamoDB-Dev/ModeratorActionLogTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ModeratorActionLogTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"log_id","attributeType":"S"},{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"moderator_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_stream_actions","keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_moderator_actions","keySchema":[{"attributeName":"moderator_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"log_id","keyType":"HASH"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_stream_actions"},{"indexName":"GSI_moderator_actions"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"MODERATOR_ACTION_LOG-dev"}}}}},"LiveChatTable":{"id":"LiveChatTable","path":"PieceApp-DynamoDB-Dev/LiveChatTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveChatTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"chat_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_user_chat_history","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"chat_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_user_chat_history"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_CHAT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"LiveGiftTable":{"id":"LiveGiftTable","path":"PieceApp-DynamoDB-Dev/LiveGiftTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/LiveGiftTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"gift_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"stream_id","attributeType":"S"},{"attributeName":"from_account_id","attributeType":"S"},{"attributeName":"to_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_stream_gifts","keySchema":[{"attributeName":"stream_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_sender_gifts","keySchema":[{"attributeName":"from_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_receiver_gifts","keySchema":[{"attributeName":"to_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"gift_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_stream_gifts"},{"indexName":"GSI_sender_gifts"},{"indexName":"GSI_receiver_gifts"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"LIVE_GIFT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"ProductTable":{"id":"ProductTable","path":"PieceApp-DynamoDB-Dev/ProductTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ProductTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"product_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"seller_account_id","attributeType":"S"},{"attributeName":"category","attributeType":"S"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_seller_products","keySchema":[{"attributeName":"seller_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_category_products","keySchema":[{"attributeName":"category","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_status_products","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"product_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_seller_products"},{"indexName":"GSI_category_products"},{"indexName":"GSI_status_products"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"PRODUCT-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"ProductTagTable":{"id":"ProductTagTable","path":"PieceApp-DynamoDB-Dev/ProductTagTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ProductTagTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"post_id","attributeType":"S"},{"attributeName":"product_id","attributeType":"S"},{"attributeName":"tagged_at","attributeType":"N"},{"attributeName":"tagged_by_account_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_product_posts","keySchema":[{"attributeName":"product_id","keyType":"HASH"},{"attributeName":"tagged_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_user_tags","keySchema":[{"attributeName":"tagged_by_account_id","keyType":"HASH"},{"attributeName":"tagged_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"post_id","keyType":"HASH"},{"attributeName":"product_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_product_posts"},{"indexName":"GSI_user_tags"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"PRODUCT_TAG-dev"}}}}},"ConversationTable":{"id":"ConversationTable","path":"PieceApp-DynamoDB-Dev/ConversationTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/ConversationTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"},{"attributeName":"participant_1_id","attributeType":"S"},{"attributeName":"last_message_at","attributeType":"N"},{"attributeName":"participant_2_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_participant1_conversations","keySchema":[{"attributeName":"participant_1_id","keyType":"HASH"},{"attributeName":"last_message_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_participant2_conversations","keySchema":[{"attributeName":"participant_2_id","keyType":"HASH"},{"attributeName":"last_message_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"conversation_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_participant1_conversations"},{"indexName":"GSI_participant2_conversations"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"CONVERSATION-dev"}}}}},"MessageTable":{"id":"MessageTable","path":"PieceApp-DynamoDB-Dev/MessageTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/MessageTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"message_id","attributeType":"S"},{"attributeName":"sender_account_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"N"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_sender_messages","keySchema":[{"attributeName":"sender_account_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"conversation_id","keyType":"HASH"},{"attributeName":"message_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_sender_messages"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"MESSAGE-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"AnalyticsTable":{"id":"AnalyticsTable","path":"PieceApp-DynamoDB-Dev/AnalyticsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-DynamoDB-Dev/AnalyticsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"date","attributeType":"S"},{"attributeName":"event_id","attributeType":"S"},{"attributeName":"account_id","attributeType":"S"},{"attributeName":"timestamp","attributeType":"N"},{"attributeName":"event_type","attributeType":"S"},{"attributeName":"target_type","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"GSI_user_events","keySchema":[{"attributeName":"account_id","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_event_type","keySchema":[{"attributeName":"event_type","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"GSI_target_events","keySchema":[{"attributeName":"target_type","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"date","keyType":"HASH"},{"attributeName":"event_id","keyType":"RANGE"}],"replicas":[{"region":"ap-northeast-1","globalSecondaryIndexes":[{"indexName":"GSI_user_events"},{"indexName":"GSI_event_type"},{"indexName":"GSI_target_events"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}],"sseSpecification":{"sseEnabled":true,"sseType":"KMS"},"tableName":"ANALYTICS-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}}}},"accountTableName":{"id":"accountTableName","path":"PieceApp-DynamoDB-Dev/accountTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"sessionTableName":{"id":"sessionTableName","path":"PieceApp-DynamoDB-Dev/sessionTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"postTableName":{"id":"postTableName","path":"PieceApp-DynamoDB-Dev/postTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"hashtagIndexTableName":{"id":"hashtagIndexTableName","path":"PieceApp-DynamoDB-Dev/hashtagIndexTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"hashtagCountTableName":{"id":"hashtagCountTableName","path":"PieceApp-DynamoDB-Dev/hashtagCountTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"followTableName":{"id":"followTableName","path":"PieceApp-DynamoDB-Dev/followTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"likeTableName":{"id":"likeTableName","path":"PieceApp-DynamoDB-Dev/likeTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"commentTableName":{"id":"commentTableName","path":"PieceApp-DynamoDB-Dev/commentTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"roomTableName":{"id":"roomTableName","path":"PieceApp-DynamoDB-Dev/roomTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"roomMemberTableName":{"id":"roomMemberTableName","path":"PieceApp-DynamoDB-Dev/roomMemberTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"notificationTableName":{"id":"notificationTableName","path":"PieceApp-DynamoDB-Dev/notificationTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"notificationSettingsTableName":{"id":"notificationSettingsTableName","path":"PieceApp-DynamoDB-Dev/notificationSettingsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"mutedAccountsTableName":{"id":"mutedAccountsTableName","path":"PieceApp-DynamoDB-Dev/mutedAccountsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"repostTableName":{"id":"repostTableName","path":"PieceApp-DynamoDB-Dev/repostTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"blockTableName":{"id":"blockTableName","path":"PieceApp-DynamoDB-Dev/blockTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"reportTableName":{"id":"reportTableName","path":"PieceApp-DynamoDB-Dev/reportTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveStreamTableName":{"id":"liveStreamTableName","path":"PieceApp-DynamoDB-Dev/liveStreamTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveViewerTableName":{"id":"liveViewerTableName","path":"PieceApp-DynamoDB-Dev/liveViewerTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveModeratorTableName":{"id":"liveModeratorTableName","path":"PieceApp-DynamoDB-Dev/liveModeratorTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"moderatorActionLogTableName":{"id":"moderatorActionLogTableName","path":"PieceApp-DynamoDB-Dev/moderatorActionLogTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveChatTableName":{"id":"liveChatTableName","path":"PieceApp-DynamoDB-Dev/liveChatTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"liveGiftTableName":{"id":"liveGiftTableName","path":"PieceApp-DynamoDB-Dev/liveGiftTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"productTableName":{"id":"productTableName","path":"PieceApp-DynamoDB-Dev/productTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"productTagTableName":{"id":"productTagTableName","path":"PieceApp-DynamoDB-Dev/productTagTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"conversationTableName":{"id":"conversationTableName","path":"PieceApp-DynamoDB-Dev/conversationTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"messageTableName":{"id":"messageTableName","path":"PieceApp-DynamoDB-Dev/messageTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"analyticsTableName":{"id":"analyticsTableName","path":"PieceApp-DynamoDB-Dev/analyticsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-DynamoDB-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-DynamoDB-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-DynamoDB-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-DynamoDB-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-S3-Dev":{"id":"PieceApp-S3-Dev","path":"PieceApp-S3-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"PieceAppMediaBucket":{"id":"PieceAppMediaBucket","path":"PieceApp-S3-Dev/PieceAppMediaBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-S3-Dev/PieceAppMediaBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"piece-app-1983-dev","corsConfiguration":{"corsRules":[{"maxAge":3000,"allowedHeaders":["*"],"allowedMethods":["GET","POST","PUT","DELETE"],"allowedOrigins":["*"],"exposedHeaders":["ETag","x-amz-server-side-encryption","x-amz-request-id","x-amz-id-2"]}]},"lifecycleConfiguration":{"rules":[{"abortIncompleteMultipartUpload":{"daysAfterInitiation":7},"expirationInDays":30,"id":"DeleteOldObjects","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"Policy":{"id":"Policy","path":"PieceApp-S3-Dev/PieceAppMediaBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-S3-Dev/PieceAppMediaBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"PieceAppMediaBucket57D35C9E"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["PieceAppMediaBucket57D35C9E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PieceAppMediaBucket57D35C9E","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"PieceApp-S3-Dev/PieceAppMediaBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.221.0","metadata":[]},"children":{"Default":{"id":"Default","path":"PieceApp-S3-Dev/PieceAppMediaBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.221.0"},"children":{"Staging":{"id":"Staging","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"Role":{"id":"Role","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}},"Handler":{"id":"Handler","path":"PieceApp-S3-Dev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"MediaBucketName":{"id":"MediaBucketName","path":"PieceApp-S3-Dev/MediaBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"MediaBucketArn":{"id":"MediaBucketArn","path":"PieceApp-S3-Dev/MediaBucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-S3-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-S3-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-S3-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-S3-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-Lambda-Dev":{"id":"PieceApp-Lambda-Dev","path":"PieceApp-Lambda-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"CreateAccountFunctionLogGroup":{"id":"CreateAccountFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateAccountFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-account-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateAccountFunction":{"id":"CreateAccountFunction","path":"PieceApp-Lambda-Dev/CreateAccountFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateAccountFunctionServiceRoleDefaultPolicy54EA7564","roles":[{"Ref":"CreateAccountFunctionServiceRole7A83FD08"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateAccountFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Create new account","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-account-dev","handler":"handlers/account/createAccount.handler","loggingConfig":{"logGroup":{"Ref":"CreateAccountFunctionLogGroup1A713697"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateAccountFunctionServiceRole7A83FD08","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetProfileFunctionLogGroup":{"id":"GetProfileFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetProfileFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-profile-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetProfileFunction":{"id":"GetProfileFunction","path":"PieceApp-Lambda-Dev/GetProfileFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetProfileFunctionServiceRoleDefaultPolicyE093D831","roles":[{"Ref":"GetProfileFunctionServiceRole6BDF10E2"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetProfileFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetProfileFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetProfileFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetProfileFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Get user profile","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-profile-dev","handler":"handlers/account/getProfile.handler","loggingConfig":{"logGroup":{"Ref":"GetProfileFunctionLogGroupC8C0D4EE"}},"memorySize":512,"role":{"Fn::GetAtt":["GetProfileFunctionServiceRole6BDF10E2","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UpdateProfileFunctionLogGroup":{"id":"UpdateProfileFunctionLogGroup","path":"PieceApp-Lambda-Dev/UpdateProfileFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-update-profile-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UpdateProfileFunction":{"id":"UpdateProfileFunction","path":"PieceApp-Lambda-Dev/UpdateProfileFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UpdateProfileFunctionServiceRoleDefaultPolicy7EA15D9A","roles":[{"Ref":"UpdateProfileFunctionServiceRole8B8F925E"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UpdateProfileFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Update user profile","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-update-profile-dev","handler":"handlers/account/updateProfile.handler","loggingConfig":{"logGroup":{"Ref":"UpdateProfileFunctionLogGroup05D59A0D"}},"memorySize":512,"role":{"Fn::GetAtt":["UpdateProfileFunctionServiceRole8B8F925E","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreatePostFunctionLogGroup":{"id":"CreatePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreatePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreatePostFunction":{"id":"CreatePostFunction","path":"PieceApp-Lambda-Dev/CreatePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreatePostFunctionServiceRoleDefaultPolicyD597A210","roles":[{"Ref":"CreatePostFunctionServiceRoleCAC21E42"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreatePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreatePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreatePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreatePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Create new post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-post-dev","handler":"handlers/post/createPost.handler","loggingConfig":{"logGroup":{"Ref":"CreatePostFunctionLogGroup4818EB19"}},"memorySize":512,"role":{"Fn::GetAtt":["CreatePostFunctionServiceRoleCAC21E42","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetPostFunctionLogGroup":{"id":"GetPostFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetPostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetPostFunction":{"id":"GetPostFunction","path":"PieceApp-Lambda-Dev/GetPostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetPostFunctionServiceRoleDefaultPolicyFA724DF7","roles":[{"Ref":"GetPostFunctionServiceRole8B816CAB"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetPostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetPostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetPostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetPostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Get post details","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-post-dev","handler":"handlers/post/getPost.handler","loggingConfig":{"logGroup":{"Ref":"GetPostFunctionLogGroup7518B25C"}},"memorySize":512,"role":{"Fn::GetAtt":["GetPostFunctionServiceRole8B816CAB","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"DeletePostFunctionLogGroup":{"id":"DeletePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/DeletePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-delete-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"DeletePostFunction":{"id":"DeletePostFunction","path":"PieceApp-Lambda-Dev/DeletePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DeletePostFunctionServiceRoleDefaultPolicy10BC29FC","roles":[{"Ref":"DeletePostFunctionServiceRole270036C0"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/DeletePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/DeletePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/DeletePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeletePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Delete post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-delete-post-dev","handler":"handlers/post/deletePost.handler","loggingConfig":{"logGroup":{"Ref":"DeletePostFunctionLogGroupF51EA510"}},"memorySize":512,"role":{"Fn::GetAtt":["DeletePostFunctionServiceRole270036C0","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetTimelineFunctionLogGroup":{"id":"GetTimelineFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetTimelineFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-timeline-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetTimelineFunction":{"id":"GetTimelineFunction","path":"PieceApp-Lambda-Dev/GetTimelineFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetTimelineFunctionServiceRoleDefaultPolicy49A6E7E5","roles":[{"Ref":"GetTimelineFunctionServiceRole24E2B995"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetTimelineFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Get user timeline","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-timeline-dev","handler":"handlers/post/getTimeline.handler","loggingConfig":{"logGroup":{"Ref":"GetTimelineFunctionLogGroup027BD8B2"}},"memorySize":512,"role":{"Fn::GetAtt":["GetTimelineFunctionServiceRole24E2B995","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"LikePostFunctionLogGroup":{"id":"LikePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/LikePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-like-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"LikePostFunction":{"id":"LikePostFunction","path":"PieceApp-Lambda-Dev/LikePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LikePostFunctionServiceRoleDefaultPolicyA045F05E","roles":[{"Ref":"LikePostFunctionServiceRole7F80FB55"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/LikePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/LikePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/LikePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/LikePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Like a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-like-post-dev","handler":"handlers/like/likePost.handler","loggingConfig":{"logGroup":{"Ref":"LikePostFunctionLogGroupAAB6AFEE"}},"memorySize":512,"role":{"Fn::GetAtt":["LikePostFunctionServiceRole7F80FB55","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UnlikePostFunctionLogGroup":{"id":"UnlikePostFunctionLogGroup","path":"PieceApp-Lambda-Dev/UnlikePostFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-unlike-post-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UnlikePostFunction":{"id":"UnlikePostFunction","path":"PieceApp-Lambda-Dev/UnlikePostFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UnlikePostFunctionServiceRoleDefaultPolicyC93B172F","roles":[{"Ref":"UnlikePostFunctionServiceRoleFADA4A7A"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnlikePostFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Unlike a post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-unlike-post-dev","handler":"handlers/like/unlikePost.handler","loggingConfig":{"logGroup":{"Ref":"UnlikePostFunctionLogGroup752A066D"}},"memorySize":512,"role":{"Fn::GetAtt":["UnlikePostFunctionServiceRoleFADA4A7A","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateCommentFunctionLogGroup":{"id":"CreateCommentFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateCommentFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-comment-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateCommentFunction":{"id":"CreateCommentFunction","path":"PieceApp-Lambda-Dev/CreateCommentFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateCommentFunctionServiceRoleDefaultPolicyABFC176C","roles":[{"Ref":"CreateCommentFunctionServiceRoleFF3E614F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateCommentFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Create comment on post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-comment-dev","handler":"handlers/comment/createComment.handler","loggingConfig":{"logGroup":{"Ref":"CreateCommentFunctionLogGroup878D3346"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateCommentFunctionServiceRoleFF3E614F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"DeleteCommentFunctionLogGroup":{"id":"DeleteCommentFunctionLogGroup","path":"PieceApp-Lambda-Dev/DeleteCommentFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-delete-comment-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"DeleteCommentFunction":{"id":"DeleteCommentFunction","path":"PieceApp-Lambda-Dev/DeleteCommentFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DeleteCommentFunctionServiceRoleDefaultPolicy7CEF2603","roles":[{"Ref":"DeleteCommentFunctionServiceRole00ED93D1"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/DeleteCommentFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Delete comment","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-delete-comment-dev","handler":"handlers/comment/deleteComment.handler","loggingConfig":{"logGroup":{"Ref":"DeleteCommentFunctionLogGroup13353F57"}},"memorySize":512,"role":{"Fn::GetAtt":["DeleteCommentFunctionServiceRole00ED93D1","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetCommentsFunctionLogGroup":{"id":"GetCommentsFunctionLogGroup","path":"PieceApp-Lambda-Dev/GetCommentsFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-get-comments-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"GetCommentsFunction":{"id":"GetCommentsFunction","path":"PieceApp-Lambda-Dev/GetCommentsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"GetCommentsFunctionServiceRoleDefaultPolicy86823EBD","roles":[{"Ref":"GetCommentsFunctionServiceRole3B8AD617"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/GetCommentsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Get comments for post","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-get-comments-dev","handler":"handlers/comment/getComments.handler","loggingConfig":{"logGroup":{"Ref":"GetCommentsFunctionLogGroup4DE5B8E6"}},"memorySize":512,"role":{"Fn::GetAtt":["GetCommentsFunctionServiceRole3B8AD617","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"FollowUserFunctionLogGroup":{"id":"FollowUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/FollowUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-follow-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"FollowUserFunction":{"id":"FollowUserFunction","path":"PieceApp-Lambda-Dev/FollowUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"FollowUserFunctionServiceRoleDefaultPolicy4860485C","roles":[{"Ref":"FollowUserFunctionServiceRole01DFDF62"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/FollowUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/FollowUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/FollowUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/FollowUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Follow a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-follow-user-dev","handler":"handlers/follow/followUser.handler","loggingConfig":{"logGroup":{"Ref":"FollowUserFunctionLogGroup612FE9A3"}},"memorySize":512,"role":{"Fn::GetAtt":["FollowUserFunctionServiceRole01DFDF62","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UnfollowUserFunctionLogGroup":{"id":"UnfollowUserFunctionLogGroup","path":"PieceApp-Lambda-Dev/UnfollowUserFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-unfollow-user-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"UnfollowUserFunction":{"id":"UnfollowUserFunction","path":"PieceApp-Lambda-Dev/UnfollowUserFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"UnfollowUserFunctionServiceRoleDefaultPolicy15962B9C","roles":[{"Ref":"UnfollowUserFunctionServiceRole11B22463"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/UnfollowUserFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Unfollow a user","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-unfollow-user-dev","handler":"handlers/follow/unfollowUser.handler","loggingConfig":{"logGroup":{"Ref":"UnfollowUserFunctionLogGroup97908F95"}},"memorySize":512,"role":{"Fn::GetAtt":["UnfollowUserFunctionServiceRole11B22463","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateRoomFunctionLogGroup":{"id":"CreateRoomFunctionLogGroup","path":"PieceApp-Lambda-Dev/CreateRoomFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-create-room-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"CreateRoomFunction":{"id":"CreateRoomFunction","path":"PieceApp-Lambda-Dev/CreateRoomFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CreateRoomFunctionServiceRoleDefaultPolicyFD4FFC2F","roles":[{"Ref":"CreateRoomFunctionServiceRoleB72470D3"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/CreateRoomFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Create new room","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-create-room-dev","handler":"handlers/room/createRoom.handler","loggingConfig":{"logGroup":{"Ref":"CreateRoomFunctionLogGroupD5B4A4C9"}},"memorySize":512,"role":{"Fn::GetAtt":["CreateRoomFunctionServiceRoleB72470D3","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"JoinRoomFunctionLogGroup":{"id":"JoinRoomFunctionLogGroup","path":"PieceApp-Lambda-Dev/JoinRoomFunctionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunctionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/lambda/piece-app-join-room-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"JoinRoomFunction":{"id":"JoinRoomFunction","path":"PieceApp-Lambda-Dev/JoinRoomFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.221.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":"arn:aws:dynamodb:ap-northeast-1:620666897697:table/*"},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"JoinRoomFunctionServiceRoleDefaultPolicyF589DD31","roles":[{"Ref":"JoinRoomFunctionServiceRole7C6EF31F"}]}}}}}}},"Code":{"id":"Code","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.221.0"},"children":{"Stage":{"id":"Stage","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.221.0"}},"AssetBucket":{"id":"AssetBucket","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.221.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PieceApp-Lambda-Dev/JoinRoomFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-620666897697-ap-northeast-1","s3Key":"1762a12e3ba26a42a68633e7d52a2d312fbafd071435324019f0bdcfab7f25f9.zip"},"description":"Join a room","environment":{"variables":{"ENVIRONMENT":"dev","NODE_ENV":"development"}},"functionName":"piece-app-join-room-dev","handler":"handlers/room/joinRoom.handler","loggingConfig":{"logGroup":{"Ref":"JoinRoomFunctionLogGroupAC7F8B16"}},"memorySize":512,"role":{"Fn::GetAtt":["JoinRoomFunctionServiceRole7C6EF31F","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"CreateAccountFunctionArn":{"id":"CreateAccountFunctionArn","path":"PieceApp-Lambda-Dev/CreateAccountFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CreatePostFunctionArn":{"id":"CreatePostFunctionArn","path":"PieceApp-Lambda-Dev/CreatePostFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-Lambda-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-Lambda-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"Exports":{"id":"Exports","path":"PieceApp-Lambda-Dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"CreateAccountFunctionB1A7B865\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateAccountFunctionB1A7B865\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateAccountFunctionB1A7B865\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetProfileFunction8A105C24\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetProfileFunction8A105C24\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetProfileFunction8A105C24\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UpdateProfileFunction2A160882\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UpdateProfileFunction2A160882\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UpdateProfileFunction2A160882\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreatePostFunction56510812\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreatePostFunction56510812\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreatePostFunction56510812\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetPostFunction29A17447\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetPostFunction29A17447\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetPostFunction29A17447\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"DeletePostFunction442EA4DB\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeletePostFunction442EA4DB\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"DeletePostFunction442EA4DB\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"LikePostFunctionEAEFAE85\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"LikePostFunctionEAEFAE85\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"LikePostFunctionEAEFAE85\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UnlikePostFunctionF2D5BDFE\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UnlikePostFunctionF2D5BDFE\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UnlikePostFunctionF2D5BDFE\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateCommentFunction2CCB21BA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateCommentFunction2CCB21BA\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateCommentFunction2CCB21BA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetCommentsFunction51A1C6FC\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetCommentsFunction51A1C6FC\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetCommentsFunction51A1C6FC\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"DeleteCommentFunctionFC7A50A9\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"DeleteCommentFunctionFC7A50A9\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"DeleteCommentFunctionFC7A50A9\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"GetTimelineFunctionA617EDF2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"GetTimelineFunctionA617EDF2\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"GetTimelineFunctionA617EDF2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"FollowUserFunctionD86228D7\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"FollowUserFunctionD86228D7\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"FollowUserFunctionD86228D7\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"UnfollowUserFunction2E9DAACA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UnfollowUserFunction2E9DAACA\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"UnfollowUserFunction2E9DAACA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"CreateRoomFunctionA8220676\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CreateRoomFunctionA8220676\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"CreateRoomFunctionA8220676\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Output{\"Fn::GetAtt\":[\"JoinRoomFunction0DBFFBBF\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"JoinRoomFunction0DBFFBBF\",\"Arn\"]}","path":"PieceApp-Lambda-Dev/Exports/Output{\"Fn::GetAtt\":[\"JoinRoomFunction0DBFFBBF\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-Lambda-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-Lambda-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-Cognito-Dev":{"id":"PieceApp-Cognito-Dev","path":"PieceApp-Cognito-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"PieceAppUserPool":{"id":"PieceAppUserPool","path":"PieceApp-Cognito-Dev/PieceAppUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Cognito-Dev/PieceAppUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true,"inviteMessageTemplate":{"emailMessage":"\n          <h2>Piece Appへようこそ</h2>\n          <p>アカウントが作成されました。</p>\n          <p>ユーザー名: {username}</p>\n          <p>仮パスワード: {####}</p>\n          <p>初回ログイン時にパスワードの変更が必要です。</p>\n        ","emailSubject":"Piece Appへようこそ！"}},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"deviceConfiguration":{"challengeRequiredOnNewDevice":true,"deviceOnlyRememberedOnUserPrompt":true},"emailConfiguration":{"emailSendingAccount":"COGNITO_DEFAULT"},"emailVerificationMessage":"\n          <h2>メールアドレスの確認</h2>\n          <p>以下の確認コードを入力してください:</p>\n          <h3>{####}</h3>\n        ","emailVerificationSubject":"Piece App - メールアドレス確認","enabledMfas":["SOFTWARE_TOKEN_MFA"],"mfaConfiguration":"OPTIONAL","policies":{"passwordPolicy":{"temporaryPasswordValidityDays":3,"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"schema":[{"name":"email","mutable":true,"required":true},{"name":"given_name","mutable":true,"required":false},{"name":"family_name","mutable":true,"required":false},{"name":"birthdate","mutable":true,"required":false},{"name":"accountId","attributeDataType":"String","stringAttributeConstraints":{"minLength":"26","maxLength":"26"},"mutable":false},{"name":"accountType","attributeDataType":"String","stringAttributeConstraints":{"minLength":"1","maxLength":"20"},"mutable":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"Environment":"Development","ManagedBy":"CDK","Project":"PieceApp"},"userPoolAddOns":{"advancedSecurityMode":"OFF"},"userPoolName":"piece-app-users-dev","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"\n          <h2>メールアドレスの確認</h2>\n          <p>以下の確認コードを入力してください:</p>\n          <h3>{####}</h3>\n        ","emailSubject":"Piece App - メールアドレス確認","smsMessage":"The verification code to your new account is {####}"}}}}}},"PieceAppClient":{"id":"PieceAppClient","path":"PieceApp-Cognito-Dev/PieceAppClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-Cognito-Dev/PieceAppClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["email","openid","profile"],"callbackUrLs":["http://localhost:19006/callback","pieceapp://callback"],"clientName":"piece-app-client-dev","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"idTokenValidity":60,"logoutUrLs":["http://localhost:19006/logout","pieceapp://logout"],"preventUserExistenceErrors":"ENABLED","readAttributes":["birthdate","custom:accountId","custom:accountType","email","email_verified","family_name","given_name"],"refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"PieceAppUserPoolA10A98B5"},"writeAttributes":["birthdate","custom:accountType","email","family_name","given_name"]}}}}},"UserPoolId":{"id":"UserPoolId","path":"PieceApp-Cognito-Dev/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"UserPoolArn":{"id":"UserPoolArn","path":"PieceApp-Cognito-Dev/UserPoolArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"PieceApp-Cognito-Dev/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"UserPoolDomain":{"id":"UserPoolDomain","path":"PieceApp-Cognito-Dev/UserPoolDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-Cognito-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-Cognito-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"Exports":{"id":"Exports","path":"PieceApp-Cognito-Dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"PieceAppUserPoolA10A98B5\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"PieceAppUserPoolA10A98B5\",\"Arn\"]}","path":"PieceApp-Cognito-Dev/Exports/Output{\"Fn::GetAtt\":[\"PieceAppUserPoolA10A98B5\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-Cognito-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-Cognito-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"PieceApp-ApiGateway-Dev":{"id":"PieceApp-ApiGateway-Dev","path":"PieceApp-ApiGateway-Dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"ApiGatewayAccessLogs":{"id":"ApiGatewayAccessLogs","path":"PieceApp-ApiGateway-Dev/ApiGatewayAccessLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/ApiGatewayAccessLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/apigateway/piece-app-dev","retentionInDays":7,"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"PieceAppRestApi":{"id":"PieceAppRestApi","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Piece App REST API (dev)","endpointConfiguration":{"types":["REGIONAL"]},"name":"piece-app-api-dev","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.221.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"Account":{"id":"Account","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["PieceAppRestApiCloudWatchRoleAAEC5CCC","Arn"]}}}},"Deployment":{"id":"Deployment","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Piece App REST API (dev)","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"accessLogSetting":{"destinationArn":{"Fn::GetAtt":["ApiGatewayAccessLogsFB871B4C","Arn"]},"format":"{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"},"deploymentId":{"Ref":"PieceAppRestApiDeploymentC3167A89503c5848a2d96951f6707dcde546811c"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":100,"throttlingRateLimit":50}],"restApiId":{"Ref":"PieceAppRestApi962CCD29"},"stageName":"dev","tags":[{"key":"Environment","value":"Development"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"PieceApp"}]}}}}},"Endpoint":{"id":"Endpoint","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"Default":{"id":"Default","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.221.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"accounts":{"id":"accounts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"accounts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsDED9EEFD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateAccountFunctionB1A7B865ArnA1CC1551"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/accounts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..accounts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateAccountFunctionB1A7B865ArnA1CC1551"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/accounts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateAccountFunctionB1A7B865ArnA1CC1551"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsDED9EEFD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{account_id}":{"id":"{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiaccountsDED9EEFD"},"pathPart":"{account_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProfileFunction8A105C24ArnF907E196"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/accounts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProfileFunction8A105C24ArnF907E196"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/accounts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetProfileFunction8A105C24ArnF907E196"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"PUT":{"id":"PUT","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProfileFunction2A160882Arn1B8D4808"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/PUT/accounts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.PUT..accounts.{account_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProfileFunction2A160882Arn1B8D4808"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/PUT/accounts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/accounts/{account_id}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUpdateProfileFunction2A160882Arn1B8D4808"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApiaccountsaccountidE6782E53"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"posts":{"id":"posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"posts","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostsE92C4307"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreatePostFunction56510812Arn8877FC58"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreatePostFunction56510812Arn8877FC58"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreatePostFunction56510812Arn8877FC58"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostsE92C4307"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{post_id}":{"id":"{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostsE92C4307"},"pathPart":"{post_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostFunction29A17447Arn6F384FC2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostFunction29A17447Arn6F384FC2"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetPostFunction29A17447Arn6F384FC2"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeletePostFunction442EA4DBArn6D6F02C1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/posts/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeletePostFunction442EA4DBArn6D6F02C1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/posts/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeletePostFunction442EA4DBArn6D6F02C1"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"like":{"id":"like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"like","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidlike04E41FC2"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLikePostFunctionEAEFAE85ArnF5EBACCC"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts/*/like"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLikePostFunctionEAEFAE85ArnF5EBACCC"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts/*/like"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttLikePostFunctionEAEFAE85ArnF5EBACCC"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostidlike04E41FC2"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnlikePostFunctionF2D5BDFEArnA95859B6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/posts/*/like"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..posts.{post_id}.like","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnlikePostFunctionF2D5BDFEArnA95859B6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/posts/*/like"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/like/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnlikePostFunctionF2D5BDFEArnA95859B6"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostidlike04E41FC2"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"comments":{"id":"comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApipostspostid0A8D0192"},"pathPart":"comments","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApipostspostidcommentsA075A50D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateCommentFunction2CCB21BAArnC1A7822B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/posts/*/comments"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateCommentFunction2CCB21BAArnC1A7822B"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/posts/*/comments"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateCommentFunction2CCB21BAArnC1A7822B"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApipostspostidcommentsA075A50D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetCommentsFunction51A1C6FCArn7EF9B4B5"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/posts/*/comments"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..posts.{post_id}.comments","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetCommentsFunction51A1C6FCArn7EF9B4B5"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/posts/*/comments"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/posts/{post_id}/comments/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetCommentsFunction51A1C6FCArn7EF9B4B5"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApipostspostidcommentsA075A50D"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}},"comments":{"id":"comments","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"comments","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApicommentsC52427E5"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{comment_id}":{"id":"{comment_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApicommentsC52427E5"},"pathPart":"{comment_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApicommentscommentidF6331499"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteCommentFunctionFC7A50A9Arn55BD8A5E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/comments/*"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..comments.{comment_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteCommentFunctionFC7A50A9Arn55BD8A5E"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/comments/*"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/comments/{comment_id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttDeleteCommentFunctionFC7A50A9Arn55BD8A5E"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApicommentscommentidF6331499"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}},"timeline":{"id":"timeline","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"timeline","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApitimelineD42F2520"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"GET":{"id":"GET","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTimelineFunctionA617EDF2ArnF2206057"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/GET/timeline"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.GET..timeline","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTimelineFunctionA617EDF2ArnF2206057"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/GET/timeline"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/timeline/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttGetTimelineFunctionA617EDF2ArnF2206057"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApitimelineD42F2520"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"follow":{"id":"follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"follow","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApifollow6168CF42"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttFollowUserFunctionD86228D7Arn42B90F2C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/follow"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttFollowUserFunctionD86228D7Arn42B90F2C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/follow"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttFollowUserFunctionD86228D7Arn42B90F2C"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApifollow6168CF42"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"DELETE":{"id":"DELETE","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnfollowUserFunction2E9DAACAArn7D39CCC6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/DELETE/follow"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.DELETE..follow","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnfollowUserFunction2E9DAACAArn7D39CCC6"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/DELETE/follow"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/follow/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttUnfollowUserFunction2E9DAACAArn7D39CCC6"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApifollow6168CF42"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}},"rooms":{"id":"rooms","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["PieceAppRestApi962CCD29","RootResourceId"]},"pathPart":"rooms","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApirooms64EE51AD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRoomFunctionA8220676Arn3FEDC66C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/rooms"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRoomFunctionA8220676Arn3FEDC66C"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/rooms"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttCreateRoomFunctionA8220676Arn3FEDC66C"},"/invocations"]]},"integrationHttpMethod":"POST"},"requestValidatorId":{"Ref":"RequestValidatorB6FDBF18"},"resourceId":{"Ref":"PieceAppRestApirooms64EE51AD"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"{room_id}":{"id":"{room_id}","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApirooms64EE51AD"},"pathPart":"{room_id}","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"join":{"id":"join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"PieceAppRestApiroomsroomidF93FF609"},"pathPart":"join","restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}},"OPTIONS":{"id":"OPTIONS","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent,X-Account-Id,X-Account-Type'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'","method.response.header.Access-Control-Allow-Credentials":"'true'","method.response.header.Access-Control-Max-Age":"'3600'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Credentials":true,"method.response.header.Access-Control-Max-Age":true}}],"resourceId":{"Ref":"PieceAppRestApiroomsroomidjoin5C96307F"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}},"POST":{"id":"POST","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.221.0","metadata":[]},"children":{"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join":{"id":"ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST/ApiPermission.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinRoomFunction0DBFFBBFArn870C3BF1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/",{"Ref":"PieceAppRestApiDeploymentStagedev6B113438"},"/POST/rooms/*/join"]]}}}},"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join":{"id":"ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST/ApiPermission.Test.PieceAppApiGatewayDevPieceAppRestApi881D5EDC.POST..rooms.{room_id}.join","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinRoomFunction0DBFFBBFArn870C3BF1"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-northeast-1:620666897697:",{"Ref":"PieceAppRestApi962CCD29"},"/test-invoke-stage/POST/rooms/*/join"]]}}}},"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/Default/rooms/{room_id}/join/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-northeast-1:lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"PieceApp-Lambda-Dev:ExportsOutputFnGetAttJoinRoomFunction0DBFFBBFArn870C3BF1"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"PieceAppRestApiroomsroomidjoin5C96307F"},"restApiId":{"Ref":"PieceAppRestApi962CCD29"}}}}}}}}}}}}}},"ErrorResponseModel":{"id":"ErrorResponseModel","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/ErrorResponseModel","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Model","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/PieceAppRestApi/ErrorResponseModel/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnModel","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Model","aws:cdk:cloudformation:props":{"contentType":"application/json","name":"ErrorResponse","restApiId":{"Ref":"PieceAppRestApi962CCD29"},"schema":{"type":"object","properties":{"success":{"type":"boolean"},"error":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}}}},"$schema":"http://json-schema.org/draft-04/schema#"}}}}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"PieceApp-ApiGateway-Dev/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"authorizerResultTtlInSeconds":300,"identitySource":"method.request.header.Authorization","name":"piece-app-authorizer-dev","providerArns":[{"Fn::ImportValue":"PieceApp-Cognito-Dev:ExportsOutputFnGetAttPieceAppUserPoolA10A98B5ArnCEEBE3C5"}],"restApiId":{"Ref":"PieceAppRestApi962CCD29"},"type":"COGNITO_USER_POOLS"}}}}},"RequestValidator":{"id":"RequestValidator","path":"PieceApp-ApiGateway-Dev/RequestValidator","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestValidator","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PieceApp-ApiGateway-Dev/RequestValidator/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRequestValidator","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RequestValidator","aws:cdk:cloudformation:props":{"name":"request-body-validator","restApiId":{"Ref":"PieceAppRestApi962CCD29"},"validateRequestBody":true,"validateRequestParameters":true}}}}},"ApiUrl":{"id":"ApiUrl","path":"PieceApp-ApiGateway-Dev/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"ApiId":{"id":"ApiId","path":"PieceApp-ApiGateway-Dev/ApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PieceApp-ApiGateway-Dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PieceApp-ApiGateway-Dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PieceApp-ApiGateway-Dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PieceApp-ApiGateway-Dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}