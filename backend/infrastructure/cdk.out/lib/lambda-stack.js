"use strict";
/**
 * Lambda Functions Stack
 * 全Lambda関数の定義と設定（シンプルバージョン）
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
exports.LambdaStack = void 0;
const cdk = __importStar(require("aws-cdk-lib"));
const lambda = __importStar(require("aws-cdk-lib/aws-lambda"));
const iam = __importStar(require("aws-cdk-lib/aws-iam"));
const logs = __importStar(require("aws-cdk-lib/aws-logs"));
const path = __importStar(require("path"));
class LambdaStack extends cdk.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        const { environment } = props;
        // =====================================================
        // Lambda共通設定
        // =====================================================
        const srcDir = path.join(__dirname, '../../src');
        // 共通環境変数
        // ⚠️ AWS_REGIONは Lambdaランタイムで自動設定されるため除外
        const commonEnvironment = {
            ENVIRONMENT: environment,
            NODE_ENV: environment === 'prod' ? 'production' : 'development',
        };
        // DynamoDB権限ポリシー
        const dynamoDbPolicy = new iam.PolicyStatement({
            actions: [
                'dynamodb:GetItem',
                'dynamodb:PutItem',
                'dynamodb:UpdateItem',
                'dynamodb:DeleteItem',
                'dynamodb:Query',
                'dynamodb:Scan',
                'dynamodb:BatchGetItem',
                'dynamodb:BatchWriteItem',
            ],
            resources: [
                `arn:aws:dynamodb:${cdk.Stack.of(this).region}:${cdk.Stack.of(this).account}:table/*`,
            ],
        });
        // Lambda関数作成ヘルパー
        const createLambdaFunction = (id, functionName, handler, description) => {
            // ログ グループを作成
            const logGroup = new logs.LogGroup(this, `${id}LogGroup`, {
                logGroupName: `/aws/lambda/piece-app-${functionName}-${environment}`,
                retention: environment === 'prod'
                    ? logs.RetentionDays.ONE_MONTH
                    : logs.RetentionDays.ONE_WEEK,
                removalPolicy: cdk.RemovalPolicy.DESTROY,
            });
            return new lambda.Function(this, id, {
                runtime: lambda.Runtime.NODEJS_20_X,
                handler,
                code: lambda.Code.fromAsset(srcDir),
                functionName: `piece-app-${functionName}-${environment}`,
                description,
                timeout: cdk.Duration.seconds(30),
                memorySize: environment === 'prod' ? 1024 : 512,
                environment: commonEnvironment,
                tracing: lambda.Tracing.ACTIVE,
                logGroup: logGroup,
                initialPolicy: [dynamoDbPolicy],
            });
        };
        // =====================================================
        // Lambda関数作成
        // =====================================================
        // Account
        this.createAccount = createLambdaFunction('CreateAccountFunction', 'create-account', 'dist/handlers/account/createAccount.handler', 'Create new account');
        this.getProfile = createLambdaFunction('GetProfileFunction', 'get-profile', 'dist/handlers/account/getProfile.handler', 'Get user profile');
        this.updateProfile = createLambdaFunction('UpdateProfileFunction', 'update-profile', 'dist/handlers/account/updateProfile.handler', 'Update user profile');
        // Post
        this.createPost = createLambdaFunction('CreatePostFunction', 'create-post', 'dist/handlers/post/createPost.handler', 'Create new post');
        this.getPost = createLambdaFunction('GetPostFunction', 'get-post', 'dist/handlers/post/getPost.handler', 'Get post details');
        this.deletePost = createLambdaFunction('DeletePostFunction', 'delete-post', 'dist/handlers/post/deletePost.handler', 'Delete post');
        this.getTimeline = createLambdaFunction('GetTimelineFunction', 'get-timeline', 'dist/handlers/post/getTimeline.handler', 'Get user timeline');
        // Like
        this.likePost = createLambdaFunction('LikePostFunction', 'like-post', 'dist/handlers/like/likePost.handler', 'Like a post');
        this.unlikePost = createLambdaFunction('UnlikePostFunction', 'unlike-post', 'dist/handlers/like/unlikePost.handler', 'Unlike a post');
        // Comment
        this.createComment = createLambdaFunction('CreateCommentFunction', 'create-comment', 'dist/handlers/comment/createComment.handler', 'Create comment on post');
        this.deleteComment = createLambdaFunction('DeleteCommentFunction', 'delete-comment', 'dist/handlers/comment/deleteComment.handler', 'Delete comment');
        this.getComments = createLambdaFunction('GetCommentsFunction', 'get-comments', 'dist/handlers/comment/getComments.handler', 'Get comments for post');
        // Follow
        this.followUser = createLambdaFunction('FollowUserFunction', 'follow-user', 'dist/handlers/follow/followUser.handler', 'Follow a user');
        this.unfollowUser = createLambdaFunction('UnfollowUserFunction', 'unfollow-user', 'dist/handlers/follow/unfollowUser.handler', 'Unfollow a user');
        // Room
        this.createRoom = createLambdaFunction('CreateRoomFunction', 'create-room', 'dist/handlers/room/createRoom.handler', 'Create new room');
        this.joinRoom = createLambdaFunction('JoinRoomFunction', 'join-room', 'dist/handlers/room/joinRoom.handler', 'Join a room');
        // DM (Conversation & Message)
        this.createConversation = createLambdaFunction('CreateConversationFunction', 'create-conversation', 'dist/handlers/conversation/createConversation.handler', 'Create or get existing conversation');
        this.getConversations = createLambdaFunction('GetConversationsFunction', 'get-conversations', 'dist/handlers/conversation/getConversations.handler', 'Get user conversations list');
        this.sendMessage = createLambdaFunction('SendMessageFunction', 'send-message', 'dist/handlers/message/sendMessage.handler', 'Send message in conversation');
        this.getMessages = createLambdaFunction('GetMessagesFunction', 'get-messages', 'dist/handlers/message/getMessages.handler', 'Get messages for conversation');
        // Block
        this.blockUser = createLambdaFunction('BlockUserFunction', 'block-user', 'dist/handlers/block/blockUser.handler', 'Block a user');
        this.unblockUser = createLambdaFunction('UnblockUserFunction', 'unblock-user', 'dist/handlers/block/unblockUser.handler', 'Unblock a user');
        this.getBlockList = createLambdaFunction('GetBlockListFunction', 'get-block-list', 'dist/handlers/block/getBlockList.handler', 'Get blocked users list');
        // Repost
        this.createRepost = createLambdaFunction('CreateRepostFunction', 'create-repost', 'dist/handlers/repost/createRepost.handler', 'Create a repost (share post)');
        this.deleteRepost = createLambdaFunction('DeleteRepostFunction', 'delete-repost', 'dist/handlers/repost/deleteRepost.handler', 'Delete a repost');
        // Report
        this.createReport = createLambdaFunction('CreateReportFunction', 'create-report', 'dist/handlers/report/createReport.handler', 'Create a report');
        this.getReports = createLambdaFunction('GetReportsFunction', 'get-reports', 'dist/handlers/report/getReports.handler', 'Get reports');
        // Notification
        this.getNotifications = createLambdaFunction('GetNotificationsFunction', 'get-notifications', 'dist/handlers/notification/getNotifications.handler', 'Get user notifications');
        this.markAsRead = createLambdaFunction('MarkAsReadFunction', 'mark-as-read', 'dist/handlers/notification/markAsRead.handler', 'Mark notification as read');
        this.markAllAsRead = createLambdaFunction('MarkAllAsReadFunction', 'mark-all-as-read', 'dist/handlers/notification/markAllAsRead.handler', 'Mark all notifications as read');
        this.getNotificationSettings = createLambdaFunction('GetNotificationSettingsFunction', 'get-notification-settings', 'dist/handlers/notification/getNotificationSettings.handler', 'Get notification settings');
        this.updateNotificationSettings = createLambdaFunction('UpdateNotificationSettingsFunction', 'update-notification-settings', 'dist/handlers/notification/updateNotificationSettings.handler', 'Update notification settings');
        // Session
        this.createSession = createLambdaFunction('CreateSessionFunction', 'create-session', 'dist/handlers/session/createSession.handler', 'Create a session');
        this.getAllAccountSessions = createLambdaFunction('GetAllAccountSessionsFunction', 'get-all-account-sessions', 'dist/handlers/session/getAllAccountSessions.handler', 'Get all account sessions');
        this.logoutSession = createLambdaFunction('LogoutSessionFunction', 'logout-session', 'dist/handlers/session/logoutSession.handler', 'Logout a session');
        // Hashtag
        this.searchByHashtag = createLambdaFunction('SearchByHashtagFunction', 'search-by-hashtag', 'dist/handlers/hashtag/searchByHashtag.handler', 'Search posts by hashtag');
        this.getTrendingHashtags = createLambdaFunction('GetTrendingHashtagsFunction', 'get-trending-hashtags', 'dist/handlers/hashtag/getTrendingHashtags.handler', 'Get trending hashtags');
        // Mute
        this.muteUser = createLambdaFunction('MuteUserFunction', 'mute-user', 'dist/handlers/mute/muteUser.handler', 'Mute a user');
        this.unmuteUser = createLambdaFunction('UnmuteUserFunction', 'unmute-user', 'dist/handlers/mute/unmuteUser.handler', 'Unmute a user');
        this.getMutedUsers = createLambdaFunction('GetMutedUsersFunction', 'get-muted-users', 'dist/handlers/mute/getMutedUsers.handler', 'Get muted users list');
        // =====================================================
        // Stage 2A: Existing Feature Extensions (14 functions)
        // =====================================================
        // Post拡張
        this.updatePost = createLambdaFunction('UpdatePostFunction', 'update-post', 'dist/handlers/post/updatePost.handler', 'Update an existing post');
        this.getUserPosts = createLambdaFunction('GetUserPostsFunction', 'get-user-posts', 'dist/handlers/post/getUserPosts.handler', 'Get posts by a specific user');
        this.getDiscoveryFeed = createLambdaFunction('GetDiscoveryFeedFunction', 'get-discovery-feed', 'dist/handlers/post/getDiscoveryFeed.handler', 'Get discovery feed with public posts');
        this.getRoomPosts = createLambdaFunction('GetRoomPostsFunction', 'get-room-posts', 'dist/handlers/post/getRoomPosts.handler', 'Get posts in a specific room');
        // Follow拡張
        this.getFollowing = createLambdaFunction('GetFollowingFunction', 'get-following', 'dist/handlers/follow/getFollowing.handler', 'Get list of accounts a user is following');
        this.getFollowers = createLambdaFunction('GetFollowersFunction', 'get-followers', 'dist/handlers/follow/getFollowers.handler', 'Get list of accounts following a user');
        // Like拡張
        this.getPostLikes = createLambdaFunction('GetPostLikesFunction', 'get-post-likes', 'dist/handlers/like/getPostLikes.handler', 'Get list of accounts that liked a post');
        this.getUserLikes = createLambdaFunction('GetUserLikesFunction', 'get-user-likes', 'dist/handlers/like/getUserLikes.handler', 'Get list of posts a user has liked');
        // Repost拡張
        this.getUserReposts = createLambdaFunction('GetUserRepostsFunction', 'get-user-reposts', 'dist/handlers/repost/getUserReposts.handler', 'Get list of posts a user has reposted');
        this.getPostReposts = createLambdaFunction('GetPostRepostsFunction', 'get-post-reposts', 'dist/handlers/repost/getPostReposts.handler', 'Get list of accounts that reposted a post');
        // Room拡張
        this.getRoom = createLambdaFunction('GetRoomFunction', 'get-room', 'dist/handlers/room/getRoom.handler', 'Get room details');
        this.updateRoom = createLambdaFunction('UpdateRoomFunction', 'update-room', 'dist/handlers/room/updateRoom.handler', 'Update room details');
        this.getRoomMembers = createLambdaFunction('GetRoomMembersFunction', 'get-room-members', 'dist/handlers/room/getRoomMembers.handler', 'Get list of room members');
        this.leaveRoom = createLambdaFunction('LeaveRoomFunction', 'leave-room', 'dist/handlers/room/leaveRoom.handler', 'Leave a room');
        // =====================================================
        // Stage 2B: Analytics (4 functions)
        // =====================================================
        this.trackEvent = createLambdaFunction('TrackEventFunction', 'track-event', 'dist/handlers/analytics/trackEvent.handler', 'Track user events and analytics');
        this.getPostAnalytics = createLambdaFunction('GetPostAnalyticsFunction', 'get-post-analytics', 'dist/handlers/analytics/getPostAnalytics.handler', 'Get analytics for a specific post');
        this.getAccountAnalytics = createLambdaFunction('GetAccountAnalyticsFunction', 'get-account-analytics', 'dist/handlers/analytics/getAccountAnalytics.handler', 'Get analytics for an account');
        this.getDashboard = createLambdaFunction('GetDashboardFunction', 'get-dashboard', 'dist/handlers/analytics/getDashboard.handler', 'Get dashboard summary data');
        // =====================================================
        // Stage 2C: Product/Shop (8 functions)
        // =====================================================
        this.createProduct = createLambdaFunction('CreateProductFunction', 'create-product', 'dist/handlers/product/createProduct.handler', 'Create a product listing');
        this.getProduct = createLambdaFunction('GetProductFunction', 'get-product', 'dist/handlers/product/getProduct.handler', 'Get product details');
        this.updateProduct = createLambdaFunction('UpdateProductFunction', 'update-product', 'dist/handlers/product/updateProduct.handler', 'Update product information');
        this.deleteProduct = createLambdaFunction('DeleteProductFunction', 'delete-product', 'dist/handlers/product/deleteProduct.handler', 'Delete a product');
        this.getProducts = createLambdaFunction('GetProductsFunction', 'get-products', 'dist/handlers/product/getProducts.handler', 'Get product list with filters');
        this.tagProductOnPost = createLambdaFunction('TagProductOnPostFunction', 'tag-product-on-post', 'dist/handlers/product/tagProductOnPost.handler', 'Tag products on a post');
        this.getPostProducts = createLambdaFunction('GetPostProductsFunction', 'get-post-products', 'dist/handlers/product/getPostProducts.handler', 'Get products tagged on a post');
        this.clickProduct = createLambdaFunction('ClickProductFunction', 'click-product', 'dist/handlers/product/clickProduct.handler', 'Track product link clicks');
        // =====================================================
        // Stage 2E: Live Streaming (17 functions)
        // =====================================================
        // REST API Functions (14)
        this.createLiveStream = createLambdaFunction('CreateLiveStreamFunction', 'create-live-stream', 'dist/handlers/live/createLiveStream.handler', 'Create a live stream');
        this.deleteLiveStream = createLambdaFunction('DeleteLiveStreamFunction', 'delete-live-stream', 'dist/handlers/live/deleteLiveStream.handler', 'Delete a live stream');
        this.getLiveStream = createLambdaFunction('GetLiveStreamFunction', 'get-live-stream', 'dist/handlers/live/getLiveStream.handler', 'Get live stream details');
        this.getLiveStreams = createLambdaFunction('GetLiveStreamsFunction', 'get-live-streams', 'dist/handlers/live/getLiveStreams.handler', 'Get list of live streams');
        this.endLiveStream = createLambdaFunction('EndLiveStreamFunction', 'end-live-stream', 'dist/handlers/live/endLiveStream.handler', 'End a live stream');
        this.joinLiveStream = createLambdaFunction('JoinLiveStreamFunction', 'join-live-stream', 'dist/handlers/live/joinLiveStream.handler', 'Join a live stream as viewer');
        this.leaveLiveStream = createLambdaFunction('LeaveLiveStreamFunction', 'leave-live-stream', 'dist/handlers/live/leaveLiveStream.handler', 'Leave a live stream');
        this.sendLiveChat = createLambdaFunction('SendLiveChatFunction', 'send-live-chat', 'dist/handlers/live/sendLiveChat.handler', 'Send a chat message during live stream');
        this.getLiveChats = createLambdaFunction('GetLiveChatsFunction', 'get-live-chats', 'dist/handlers/live/getLiveChats.handler', 'Get chat messages from live stream');
        this.sendGift = createLambdaFunction('SendGiftFunction', 'send-gift', 'dist/handlers/live/sendGift.handler', 'Send a gift during live stream');
        this.addModerator = createLambdaFunction('AddModeratorFunction', 'add-moderator', 'dist/handlers/live/addModerator.handler', 'Add a moderator to live stream');
        this.banUserFromLive = createLambdaFunction('BanUserFromLiveFunction', 'ban-user-from-live', 'dist/handlers/live/banUserFromLive.handler', 'Ban a user from live stream');
        this.muxWebhook = createLambdaFunction('MuxWebhookFunction', 'mux-webhook', 'dist/handlers/live/muxWebhook.handler', 'Handle Mux webhook events');
        // WebSocket Functions (3)
        this.wsConnect = createLambdaFunction('WsConnectFunction', 'ws-connect', 'dist/handlers/websocket/connect.handler', 'WebSocket connection handler');
        this.wsDisconnect = createLambdaFunction('WsDisconnectFunction', 'ws-disconnect', 'dist/handlers/websocket/disconnect.handler', 'WebSocket disconnection handler');
        this.wsMessage = createLambdaFunction('WsMessageFunction', 'ws-message', 'dist/handlers/websocket/message.handler', 'WebSocket message handler');
        // Secrets Manager権限を追加（Mux認証情報取得用）
        const secretsManagerPolicy = new iam.PolicyStatement({
            actions: ['secretsmanager:GetSecretValue'],
            resources: [
                `arn:aws:secretsmanager:${cdk.Stack.of(this).region}:${cdk.Stack.of(this).account}:secret:rork/mux-credentials-*`,
            ],
        });
        this.createLiveStream.addToRolePolicy(secretsManagerPolicy);
        this.deleteLiveStream.addToRolePolicy(secretsManagerPolicy);
        this.muxWebhook.addToRolePolicy(secretsManagerPolicy);
        // WebSocket API Gateway Management権限を追加
        const apiGatewayManagementPolicy = new iam.PolicyStatement({
            actions: ['execute-api:ManageConnections', 'execute-api:Invoke'],
            resources: [
                `arn:aws:execute-api:${cdk.Stack.of(this).region}:${cdk.Stack.of(this).account}:*`,
            ],
        });
        this.wsConnect.addToRolePolicy(apiGatewayManagementPolicy);
        this.wsMessage.addToRolePolicy(apiGatewayManagementPolicy);
        // =====================================================
        // Cognito Triggers
        // =====================================================
        // Post Confirmation Trigger
        // メール確認後、DynamoDBにアカウントを作成
        this.postConfirmation = createLambdaFunction('PostConfirmationFunction', 'post-confirmation', 'dist/handlers/cognito/postConfirmation.handler', 'Cognito Post Confirmation Trigger - Create account in DynamoDB');
        // Cognito Admin権限を追加（AdminDeleteUserのため）
        this.postConfirmation.addToRolePolicy(new iam.PolicyStatement({
            actions: [
                'cognito-idp:AdminDeleteUser',
                'cognito-idp:AdminGetUser',
            ],
            resources: [
                `arn:aws:cognito-idp:${cdk.Stack.of(this).region}:${cdk.Stack.of(this).account}:userpool/*`,
            ],
        }));
        // =====================================================
        // Outputs
        // =====================================================
        new cdk.CfnOutput(this, 'CreateAccountFunctionArn', {
            value: this.createAccount.functionArn,
            exportName: `PieceApp-CreateAccountArn-${environment}`,
        });
        new cdk.CfnOutput(this, 'CreatePostFunctionArn', {
            value: this.createPost.functionArn,
            exportName: `PieceApp-CreatePostArn-${environment}`,
        });
    }
}
exports.LambdaStack = LambdaStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGFtYmRhLXN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL2xhbWJkYS1zdGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7OztHQUdHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFSCxpREFBbUM7QUFDbkMsK0RBQWlEO0FBQ2pELHlEQUEyQztBQUMzQywyREFBNkM7QUFFN0MsMkNBQTZCO0FBTTdCLE1BQWEsV0FBWSxTQUFRLEdBQUcsQ0FBQyxLQUFLO0lBa0h4QyxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQXVCO1FBQy9ELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxLQUFLLENBQUM7UUFFOUIsd0RBQXdEO1FBQ3hELGFBQWE7UUFDYix3REFBd0Q7UUFFeEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFFakQsU0FBUztRQUNULHlDQUF5QztRQUN6QyxNQUFNLGlCQUFpQixHQUFHO1lBQ3hCLFdBQVcsRUFBRSxXQUFXO1lBQ3hCLFFBQVEsRUFBRSxXQUFXLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLGFBQWE7U0FDaEUsQ0FBQztRQUVGLGlCQUFpQjtRQUNqQixNQUFNLGNBQWMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxlQUFlLENBQUM7WUFDN0MsT0FBTyxFQUFFO2dCQUNQLGtCQUFrQjtnQkFDbEIsa0JBQWtCO2dCQUNsQixxQkFBcUI7Z0JBQ3JCLHFCQUFxQjtnQkFDckIsZ0JBQWdCO2dCQUNoQixlQUFlO2dCQUNmLHVCQUF1QjtnQkFDdkIseUJBQXlCO2FBQzFCO1lBQ0QsU0FBUyxFQUFFO2dCQUNULG9CQUFvQixHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENB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QUE0QjtRQUM1QiwyQkFBMkI7UUFDM0IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLG9CQUFvQixDQUMxQywwQkFBMEIsRUFDMUIsbUJBQW1CLEVBQ25CLGdEQUFnRCxFQUNoRCxnRUFBZ0UsQ0FDakUsQ0FBQztRQUVGLHlDQUF5QztRQUN6QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUNuQyxJQUFJLEdBQUcsQ0FBQyxlQUFlLENBQUM7WUFDdEIsT0FBTyxFQUFFO2dCQUNQLDZCQUE2QjtnQkFDN0IsMEJBQTBCO2FBQzNCO1lBQ0QsU0FBUyxFQUFFO2dCQUNULHVCQUF1QixHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxhQUFhO2FBQzVGO1NBQ0YsQ0FBQyxDQUNILENBQUM7UUFFRix3REFBd0Q7UUFDeEQsVUFBVTtRQUNWLHdEQUF3RDtRQUV4RCxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLDBCQUEwQixFQUFFO1lBQ2xELEtBQUssRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVc7WUFDckMsVUFBVSxFQUFFLDZCQUE2QixXQUFXLEVBQUU7U0FDdkQsQ0FBQyxDQUFDO1FBRUgsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSx1QkFBdUIsRUFBRTtZQUMvQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXO1lBQ2xDLFVBQVUsRUFBRSwwQkFBMEIsV0FBVyxFQUFFO1NBQ3BELENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQTUxQkQsa0NBNDFCQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMYW1iZGEgRnVuY3Rpb25zIFN0YWNrXHJcbiAqIOWFqExhbWJkYemWouaVsOOBruWumue+qeOBqOioreWumu+8iOOCt+ODs+ODl+ODq+ODkOODvOOCuOODp+ODs++8iVxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XHJcbmltcG9ydCAqIGFzIGxhbWJkYSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtbGFtYmRhJztcclxuaW1wb3J0ICogYXMgaWFtIGZyb20gJ2F3cy1jZGstbGliL2F3cy1pYW0nO1xyXG5pbXBvcnQgKiBhcyBsb2dzIGZyb20gJ2F3cy1jZGstbGliL2F3cy1sb2dzJztcclxuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcblxyXG5pbnRlcmZhY2UgTGFtYmRhU3RhY2tQcm9wcyBleHRlbmRzIGNkay5TdGFja1Byb3BzIHtcclxuICBlbnZpcm9ubWVudDogJ2RldicgfCAncHJvZCc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBMYW1iZGFTdGFjayBleHRlbmRzIGNkay5TdGFjayB7XHJcbiAgLy8gTGFtYmRh6Zai5pWw44Gu44Ko44Kv44K544Od44O844OIXHJcbiAgcHVibGljIHJlYWRvbmx5IGNyZWF0ZUFjY291bnQ6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0UHJvZmlsZTogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSB1cGRhdGVQcm9maWxlOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGNyZWF0ZVBvc3Q6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0UG9zdDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBkZWxldGVQb3N0OiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldFRpbWVsaW5lOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGxpa2VQb3N0OiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IHVubGlrZVBvc3Q6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgY3JlYXRlQ29tbWVudDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBkZWxldGVDb21tZW50OiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldENvbW1lbnRzOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGZvbGxvd1VzZXI6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgdW5mb2xsb3dVc2VyOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGNyZWF0ZVJvb206IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgam9pblJvb206IGxhbWJkYS5GdW5jdGlvbjtcclxuXHJcbiAgLy8gRE0gKENvbnZlcnNhdGlvbiAmIE1lc3NhZ2UpXHJcbiAgcHVibGljIHJlYWRvbmx5IGNyZWF0ZUNvbnZlcnNhdGlvbjogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRDb252ZXJzYXRpb25zOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IHNlbmRNZXNzYWdlOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldE1lc3NhZ2VzOiBsYW1iZGEuRnVuY3Rpb247XHJcblxyXG4gIC8vIEJsb2NrXHJcbiAgcHVibGljIHJlYWRvbmx5IGJsb2NrVXNlcjogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSB1bmJsb2NrVXNlcjogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRCbG9ja0xpc3Q6IGxhbWJkYS5GdW5jdGlvbjtcclxuXHJcbiAgLy8gUmVwb3N0XHJcbiAgcHVibGljIHJlYWRvbmx5IGNyZWF0ZVJlcG9zdDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBkZWxldGVSZXBvc3Q6IGxhbWJkYS5GdW5jdGlvbjtcclxuXHJcbiAgLy8gUmVwb3J0XHJcbiAgcHVibGljIHJlYWRvbmx5IGNyZWF0ZVJlcG9ydDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRSZXBvcnRzOiBsYW1iZGEuRnVuY3Rpb247XHJcblxyXG4gIC8vIE5vdGlmaWNhdGlvblxyXG4gIHB1YmxpYyByZWFkb25seSBnZXROb3RpZmljYXRpb25zOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IG1hcmtBc1JlYWQ6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgbWFya0FsbEFzUmVhZDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXROb3RpZmljYXRpb25TZXR0aW5nczogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSB1cGRhdGVOb3RpZmljYXRpb25TZXR0aW5nczogbGFtYmRhLkZ1bmN0aW9uO1xyXG5cclxuICAvLyBTZXNzaW9uXHJcbiAgcHVibGljIHJlYWRvbmx5IGNyZWF0ZVNlc3Npb246IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0QWxsQWNjb3VudFNlc3Npb25zOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGxvZ291dFNlc3Npb246IGxhbWJkYS5GdW5jdGlvbjtcclxuXHJcbiAgLy8gSGFzaHRhZ1xyXG4gIHB1YmxpYyByZWFkb25seSBzZWFyY2hCeUhhc2h0YWc6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0VHJlbmRpbmdIYXNodGFnczogbGFtYmRhLkZ1bmN0aW9uO1xyXG5cclxuICAvLyBNdXRlXHJcbiAgcHVibGljIHJlYWRvbmx5IG11dGVVc2VyOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IHVubXV0ZVVzZXI6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0TXV0ZWRVc2VyczogbGFtYmRhLkZ1bmN0aW9uO1xyXG5cclxuICAvLyBTdGFnZSAyQTogRXhpc3RpbmcgRmVhdHVyZSBFeHRlbnNpb25zXHJcbiAgcHVibGljIHJlYWRvbmx5IHVwZGF0ZVBvc3Q6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0VXNlclBvc3RzOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldERpc2NvdmVyeUZlZWQ6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0Um9vbVBvc3RzOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldEZvbGxvd2luZzogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRGb2xsb3dlcnM6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0UG9zdExpa2VzOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldFVzZXJMaWtlczogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRVc2VyUmVwb3N0czogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRQb3N0UmVwb3N0czogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRSb29tOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IHVwZGF0ZVJvb206IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0Um9vbU1lbWJlcnM6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgbGVhdmVSb29tOiBsYW1iZGEuRnVuY3Rpb247XHJcblxyXG4gIC8vIFN0YWdlIDJCOiBBbmFseXRpY3NcclxuICBwdWJsaWMgcmVhZG9ubHkgdHJhY2tFdmVudDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRQb3N0QW5hbHl0aWNzOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldEFjY291bnRBbmFseXRpY3M6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0RGFzaGJvYXJkOiBsYW1iZGEuRnVuY3Rpb247XHJcblxyXG4gIC8vIFN0YWdlIDJDOiBQcm9kdWN0L1Nob3BcclxuICBwdWJsaWMgcmVhZG9ubHkgY3JlYXRlUHJvZHVjdDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRQcm9kdWN0OiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IHVwZGF0ZVByb2R1Y3Q6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZGVsZXRlUHJvZHVjdDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBnZXRQcm9kdWN0czogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSB0YWdQcm9kdWN0T25Qb3N0OiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldFBvc3RQcm9kdWN0czogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBjbGlja1Byb2R1Y3Q6IGxhbWJkYS5GdW5jdGlvbjtcclxuXHJcbiAgLy8gU3RhZ2UgMkU6IExpdmUgU3RyZWFtaW5nIChSRVNUIEFQSSAtIDE0IGZ1bmN0aW9ucylcclxuICBwdWJsaWMgcmVhZG9ubHkgY3JlYXRlTGl2ZVN0cmVhbTogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBkZWxldGVMaXZlU3RyZWFtOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldExpdmVTdHJlYW06IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZ2V0TGl2ZVN0cmVhbXM6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgZW5kTGl2ZVN0cmVhbTogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBqb2luTGl2ZVN0cmVhbTogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBsZWF2ZUxpdmVTdHJlYW06IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgc2VuZExpdmVDaGF0OiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IGdldExpdmVDaGF0czogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBzZW5kR2lmdDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSBhZGRNb2RlcmF0b3I6IGxhbWJkYS5GdW5jdGlvbjtcclxuICBwdWJsaWMgcmVhZG9ubHkgYmFuVXNlckZyb21MaXZlOiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IG11eFdlYmhvb2s6IGxhbWJkYS5GdW5jdGlvbjtcclxuXHJcbiAgLy8gU3RhZ2UgMkU6IExpdmUgU3RyZWFtaW5nIChXZWJTb2NrZXQgLSAzIGZ1bmN0aW9ucylcclxuICBwdWJsaWMgcmVhZG9ubHkgd3NDb25uZWN0OiBsYW1iZGEuRnVuY3Rpb247XHJcbiAgcHVibGljIHJlYWRvbmx5IHdzRGlzY29ubmVjdDogbGFtYmRhLkZ1bmN0aW9uO1xyXG4gIHB1YmxpYyByZWFkb25seSB3c01lc3NhZ2U6IGxhbWJkYS5GdW5jdGlvbjtcclxuXHJcbiAgLy8gQ29nbml0byBUcmlnZ2Vyc1xyXG4gIHB1YmxpYyByZWFkb25seSBwb3N0Q29uZmlybWF0aW9uOiBsYW1iZGEuRnVuY3Rpb247XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBMYW1iZGFTdGFja1Byb3BzKSB7XHJcbiAgICBzdXBlcihzY29wZSwgaWQsIHByb3BzKTtcclxuXHJcbiAgICBjb25zdCB7IGVudmlyb25tZW50IH0gPSBwcm9wcztcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gTGFtYmRh5YWx6YCa6Kit5a6aXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGNvbnN0IHNyY0RpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi9zcmMnKTtcclxuXHJcbiAgICAvLyDlhbHpgJrnkrDlooPlpInmlbBcclxuICAgIC8vIOKaoO+4jyBBV1NfUkVHSU9O44GvIExhbWJkYeODqeODs+OCv+OCpOODoOOBp+iHquWLleioreWumuOBleOCjOOCi+OBn+OCgemZpOWkllxyXG4gICAgY29uc3QgY29tbW9uRW52aXJvbm1lbnQgPSB7XHJcbiAgICAgIEVOVklST05NRU5UOiBlbnZpcm9ubWVudCxcclxuICAgICAgTk9ERV9FTlY6IGVudmlyb25tZW50ID09PSAncHJvZCcgPyAncHJvZHVjdGlvbicgOiAnZGV2ZWxvcG1lbnQnLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEeW5hbW9EQuaoqemZkOODneODquOCt+ODvFxyXG4gICAgY29uc3QgZHluYW1vRGJQb2xpY3kgPSBuZXcgaWFtLlBvbGljeVN0YXRlbWVudCh7XHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICAnZHluYW1vZGI6R2V0SXRlbScsXHJcbiAgICAgICAgJ2R5bmFtb2RiOlB1dEl0ZW0nLFxyXG4gICAgICAgICdkeW5hbW9kYjpVcGRhdGVJdGVtJyxcclxuICAgICAgICAnZHluYW1vZGI6RGVsZXRlSXRlbScsXHJcbiAgICAgICAgJ2R5bmFtb2RiOlF1ZXJ5JyxcclxuICAgICAgICAnZHluYW1vZGI6U2NhbicsXHJcbiAgICAgICAgJ2R5bmFtb2RiOkJhdGNoR2V0SXRlbScsXHJcbiAgICAgICAgJ2R5bmFtb2RiOkJhdGNoV3JpdGVJdGVtJyxcclxuICAgICAgXSxcclxuICAgICAgcmVzb3VyY2VzOiBbXHJcbiAgICAgICAgYGFybjphd3M6ZHluYW1vZGI6JHtjZGsuU3RhY2sub2YodGhpcykucmVnaW9ufToke2Nkay5TdGFjay5vZih0aGlzKS5hY2NvdW50fTp0YWJsZS8qYCxcclxuICAgICAgXSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIExhbWJkYemWouaVsOS9nOaIkOODmOODq+ODkeODvFxyXG4gICAgY29uc3QgY3JlYXRlTGFtYmRhRnVuY3Rpb24gPSAoXHJcbiAgICAgIGlkOiBzdHJpbmcsXHJcbiAgICAgIGZ1bmN0aW9uTmFtZTogc3RyaW5nLFxyXG4gICAgICBoYW5kbGVyOiBzdHJpbmcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICk6IGxhbWJkYS5GdW5jdGlvbiA9PiB7XHJcbiAgICAgIC8vIOODreOCsCDjgrDjg6vjg7zjg5fjgpLkvZzmiJBcclxuICAgICAgY29uc3QgbG9nR3JvdXAgPSBuZXcgbG9ncy5Mb2dHcm91cCh0aGlzLCBgJHtpZH1Mb2dHcm91cGAsIHtcclxuICAgICAgICBsb2dHcm91cE5hbWU6IGAvYXdzL2xhbWJkYS9waWVjZS1hcHAtJHtmdW5jdGlvbk5hbWV9LSR7ZW52aXJvbm1lbnR9YCxcclxuICAgICAgICByZXRlbnRpb246IGVudmlyb25tZW50ID09PSAncHJvZCdcclxuICAgICAgICAgID8gbG9ncy5SZXRlbnRpb25EYXlzLk9ORV9NT05USFxyXG4gICAgICAgICAgOiBsb2dzLlJldGVudGlvbkRheXMuT05FX1dFRUssXHJcbiAgICAgICAgcmVtb3ZhbFBvbGljeTogY2RrLlJlbW92YWxQb2xpY3kuREVTVFJPWSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IGxhbWJkYS5GdW5jdGlvbih0aGlzLCBpZCwge1xyXG4gICAgICAgIHJ1bnRpbWU6IGxhbWJkYS5SdW50aW1lLk5PREVKU18yMF9YLFxyXG4gICAgICAgIGhhbmRsZXIsXHJcbiAgICAgICAgY29kZTogbGFtYmRhLkNvZGUuZnJvbUFzc2V0KHNyY0RpciksXHJcbiAgICAgICAgZnVuY3Rpb25OYW1lOiBgcGllY2UtYXBwLSR7ZnVuY3Rpb25OYW1lfS0ke2Vudmlyb25tZW50fWAsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgdGltZW91dDogY2RrLkR1cmF0aW9uLnNlY29uZHMoMzApLFxyXG4gICAgICAgIG1lbW9yeVNpemU6IGVudmlyb25tZW50ID09PSAncHJvZCcgPyAxMDI0IDogNTEyLFxyXG4gICAgICAgIGVudmlyb25tZW50OiBjb21tb25FbnZpcm9ubWVudCxcclxuICAgICAgICB0cmFjaW5nOiBsYW1iZGEuVHJhY2luZy5BQ1RJVkUsXHJcbiAgICAgICAgbG9nR3JvdXA6IGxvZ0dyb3VwLFxyXG4gICAgICAgIGluaXRpYWxQb2xpY3k6IFtkeW5hbW9EYlBvbGljeV0sXHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gTGFtYmRh6Zai5pWw5L2c5oiQXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIC8vIEFjY291bnRcclxuICAgIHRoaXMuY3JlYXRlQWNjb3VudCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQ3JlYXRlQWNjb3VudEZ1bmN0aW9uJyxcclxuICAgICAgJ2NyZWF0ZS1hY2NvdW50JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvYWNjb3VudC9jcmVhdGVBY2NvdW50LmhhbmRsZXInLFxyXG4gICAgICAnQ3JlYXRlIG5ldyBhY2NvdW50J1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmdldFByb2ZpbGUgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldFByb2ZpbGVGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtcHJvZmlsZScsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2FjY291bnQvZ2V0UHJvZmlsZS5oYW5kbGVyJyxcclxuICAgICAgJ0dldCB1c2VyIHByb2ZpbGUnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMudXBkYXRlUHJvZmlsZSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnVXBkYXRlUHJvZmlsZUZ1bmN0aW9uJyxcclxuICAgICAgJ3VwZGF0ZS1wcm9maWxlJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvYWNjb3VudC91cGRhdGVQcm9maWxlLmhhbmRsZXInLFxyXG4gICAgICAnVXBkYXRlIHVzZXIgcHJvZmlsZSdcclxuICAgICk7XHJcblxyXG4gICAgLy8gUG9zdFxyXG4gICAgdGhpcy5jcmVhdGVQb3N0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdDcmVhdGVQb3N0RnVuY3Rpb24nLFxyXG4gICAgICAnY3JlYXRlLXBvc3QnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9wb3N0L2NyZWF0ZVBvc3QuaGFuZGxlcicsXHJcbiAgICAgICdDcmVhdGUgbmV3IHBvc3QnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0UG9zdCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0UG9zdEZ1bmN0aW9uJyxcclxuICAgICAgJ2dldC1wb3N0JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcG9zdC9nZXRQb3N0LmhhbmRsZXInLFxyXG4gICAgICAnR2V0IHBvc3QgZGV0YWlscydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5kZWxldGVQb3N0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdEZWxldGVQb3N0RnVuY3Rpb24nLFxyXG4gICAgICAnZGVsZXRlLXBvc3QnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9wb3N0L2RlbGV0ZVBvc3QuaGFuZGxlcicsXHJcbiAgICAgICdEZWxldGUgcG9zdCdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRUaW1lbGluZSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0VGltZWxpbmVGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtdGltZWxpbmUnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9wb3N0L2dldFRpbWVsaW5lLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IHVzZXIgdGltZWxpbmUnXHJcbiAgICApO1xyXG5cclxuICAgIC8vIExpa2VcclxuICAgIHRoaXMubGlrZVBvc3QgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0xpa2VQb3N0RnVuY3Rpb24nLFxyXG4gICAgICAnbGlrZS1wb3N0JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGlrZS9saWtlUG9zdC5oYW5kbGVyJyxcclxuICAgICAgJ0xpa2UgYSBwb3N0J1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnVubGlrZVBvc3QgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ1VubGlrZVBvc3RGdW5jdGlvbicsXHJcbiAgICAgICd1bmxpa2UtcG9zdCcsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2xpa2UvdW5saWtlUG9zdC5oYW5kbGVyJyxcclxuICAgICAgJ1VubGlrZSBhIHBvc3QnXHJcbiAgICApO1xyXG5cclxuICAgIC8vIENvbW1lbnRcclxuICAgIHRoaXMuY3JlYXRlQ29tbWVudCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQ3JlYXRlQ29tbWVudEZ1bmN0aW9uJyxcclxuICAgICAgJ2NyZWF0ZS1jb21tZW50JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvY29tbWVudC9jcmVhdGVDb21tZW50LmhhbmRsZXInLFxyXG4gICAgICAnQ3JlYXRlIGNvbW1lbnQgb24gcG9zdCdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5kZWxldGVDb21tZW50ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdEZWxldGVDb21tZW50RnVuY3Rpb24nLFxyXG4gICAgICAnZGVsZXRlLWNvbW1lbnQnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9jb21tZW50L2RlbGV0ZUNvbW1lbnQuaGFuZGxlcicsXHJcbiAgICAgICdEZWxldGUgY29tbWVudCdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRDb21tZW50cyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0Q29tbWVudHNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtY29tbWVudHMnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9jb21tZW50L2dldENvbW1lbnRzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGNvbW1lbnRzIGZvciBwb3N0J1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBGb2xsb3dcclxuICAgIHRoaXMuZm9sbG93VXNlciA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnRm9sbG93VXNlckZ1bmN0aW9uJyxcclxuICAgICAgJ2ZvbGxvdy11c2VyJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvZm9sbG93L2ZvbGxvd1VzZXIuaGFuZGxlcicsXHJcbiAgICAgICdGb2xsb3cgYSB1c2VyJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnVuZm9sbG93VXNlciA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnVW5mb2xsb3dVc2VyRnVuY3Rpb24nLFxyXG4gICAgICAndW5mb2xsb3ctdXNlcicsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2ZvbGxvdy91bmZvbGxvd1VzZXIuaGFuZGxlcicsXHJcbiAgICAgICdVbmZvbGxvdyBhIHVzZXInXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFJvb21cclxuICAgIHRoaXMuY3JlYXRlUm9vbSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQ3JlYXRlUm9vbUZ1bmN0aW9uJyxcclxuICAgICAgJ2NyZWF0ZS1yb29tJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcm9vbS9jcmVhdGVSb29tLmhhbmRsZXInLFxyXG4gICAgICAnQ3JlYXRlIG5ldyByb29tJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmpvaW5Sb29tID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdKb2luUm9vbUZ1bmN0aW9uJyxcclxuICAgICAgJ2pvaW4tcm9vbScsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Jvb20vam9pblJvb20uaGFuZGxlcicsXHJcbiAgICAgICdKb2luIGEgcm9vbSdcclxuICAgICk7XHJcblxyXG4gICAgLy8gRE0gKENvbnZlcnNhdGlvbiAmIE1lc3NhZ2UpXHJcbiAgICB0aGlzLmNyZWF0ZUNvbnZlcnNhdGlvbiA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQ3JlYXRlQ29udmVyc2F0aW9uRnVuY3Rpb24nLFxyXG4gICAgICAnY3JlYXRlLWNvbnZlcnNhdGlvbicsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2NvbnZlcnNhdGlvbi9jcmVhdGVDb252ZXJzYXRpb24uaGFuZGxlcicsXHJcbiAgICAgICdDcmVhdGUgb3IgZ2V0IGV4aXN0aW5nIGNvbnZlcnNhdGlvbidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRDb252ZXJzYXRpb25zID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXRDb252ZXJzYXRpb25zRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LWNvbnZlcnNhdGlvbnMnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9jb252ZXJzYXRpb24vZ2V0Q29udmVyc2F0aW9ucy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCB1c2VyIGNvbnZlcnNhdGlvbnMgbGlzdCdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5zZW5kTWVzc2FnZSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnU2VuZE1lc3NhZ2VGdW5jdGlvbicsXHJcbiAgICAgICdzZW5kLW1lc3NhZ2UnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9tZXNzYWdlL3NlbmRNZXNzYWdlLmhhbmRsZXInLFxyXG4gICAgICAnU2VuZCBtZXNzYWdlIGluIGNvbnZlcnNhdGlvbidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRNZXNzYWdlcyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0TWVzc2FnZXNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtbWVzc2FnZXMnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9tZXNzYWdlL2dldE1lc3NhZ2VzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IG1lc3NhZ2VzIGZvciBjb252ZXJzYXRpb24nXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEJsb2NrXHJcbiAgICB0aGlzLmJsb2NrVXNlciA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQmxvY2tVc2VyRnVuY3Rpb24nLFxyXG4gICAgICAnYmxvY2stdXNlcicsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2Jsb2NrL2Jsb2NrVXNlci5oYW5kbGVyJyxcclxuICAgICAgJ0Jsb2NrIGEgdXNlcidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy51bmJsb2NrVXNlciA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnVW5ibG9ja1VzZXJGdW5jdGlvbicsXHJcbiAgICAgICd1bmJsb2NrLXVzZXInLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9ibG9jay91bmJsb2NrVXNlci5oYW5kbGVyJyxcclxuICAgICAgJ1VuYmxvY2sgYSB1c2VyJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmdldEJsb2NrTGlzdCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0QmxvY2tMaXN0RnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LWJsb2NrLWxpc3QnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9ibG9jay9nZXRCbG9ja0xpc3QuaGFuZGxlcicsXHJcbiAgICAgICdHZXQgYmxvY2tlZCB1c2VycyBsaXN0J1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXBvc3RcclxuICAgIHRoaXMuY3JlYXRlUmVwb3N0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdDcmVhdGVSZXBvc3RGdW5jdGlvbicsXHJcbiAgICAgICdjcmVhdGUtcmVwb3N0JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcmVwb3N0L2NyZWF0ZVJlcG9zdC5oYW5kbGVyJyxcclxuICAgICAgJ0NyZWF0ZSBhIHJlcG9zdCAoc2hhcmUgcG9zdCknXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZGVsZXRlUmVwb3N0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdEZWxldGVSZXBvc3RGdW5jdGlvbicsXHJcbiAgICAgICdkZWxldGUtcmVwb3N0JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcmVwb3N0L2RlbGV0ZVJlcG9zdC5oYW5kbGVyJyxcclxuICAgICAgJ0RlbGV0ZSBhIHJlcG9zdCdcclxuICAgICk7XHJcblxyXG4gICAgLy8gUmVwb3J0XHJcbiAgICB0aGlzLmNyZWF0ZVJlcG9ydCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQ3JlYXRlUmVwb3J0RnVuY3Rpb24nLFxyXG4gICAgICAnY3JlYXRlLXJlcG9ydCcsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3JlcG9ydC9jcmVhdGVSZXBvcnQuaGFuZGxlcicsXHJcbiAgICAgICdDcmVhdGUgYSByZXBvcnQnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0UmVwb3J0cyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0UmVwb3J0c0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC1yZXBvcnRzJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcmVwb3J0L2dldFJlcG9ydHMuaGFuZGxlcicsXHJcbiAgICAgICdHZXQgcmVwb3J0cydcclxuICAgICk7XHJcblxyXG4gICAgLy8gTm90aWZpY2F0aW9uXHJcbiAgICB0aGlzLmdldE5vdGlmaWNhdGlvbnMgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldE5vdGlmaWNhdGlvbnNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtbm90aWZpY2F0aW9ucycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL25vdGlmaWNhdGlvbi9nZXROb3RpZmljYXRpb25zLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IHVzZXIgbm90aWZpY2F0aW9ucydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5tYXJrQXNSZWFkID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdNYXJrQXNSZWFkRnVuY3Rpb24nLFxyXG4gICAgICAnbWFyay1hcy1yZWFkJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbm90aWZpY2F0aW9uL21hcmtBc1JlYWQuaGFuZGxlcicsXHJcbiAgICAgICdNYXJrIG5vdGlmaWNhdGlvbiBhcyByZWFkJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLm1hcmtBbGxBc1JlYWQgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ01hcmtBbGxBc1JlYWRGdW5jdGlvbicsXHJcbiAgICAgICdtYXJrLWFsbC1hcy1yZWFkJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbm90aWZpY2F0aW9uL21hcmtBbGxBc1JlYWQuaGFuZGxlcicsXHJcbiAgICAgICdNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0Tm90aWZpY2F0aW9uU2V0dGluZ3MgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldE5vdGlmaWNhdGlvblNldHRpbmdzRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LW5vdGlmaWNhdGlvbi1zZXR0aW5ncycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL25vdGlmaWNhdGlvbi9nZXROb3RpZmljYXRpb25TZXR0aW5ncy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCBub3RpZmljYXRpb24gc2V0dGluZ3MnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMudXBkYXRlTm90aWZpY2F0aW9uU2V0dGluZ3MgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ1VwZGF0ZU5vdGlmaWNhdGlvblNldHRpbmdzRnVuY3Rpb24nLFxyXG4gICAgICAndXBkYXRlLW5vdGlmaWNhdGlvbi1zZXR0aW5ncycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL25vdGlmaWNhdGlvbi91cGRhdGVOb3RpZmljYXRpb25TZXR0aW5ncy5oYW5kbGVyJyxcclxuICAgICAgJ1VwZGF0ZSBub3RpZmljYXRpb24gc2V0dGluZ3MnXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFNlc3Npb25cclxuICAgIHRoaXMuY3JlYXRlU2Vzc2lvbiA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQ3JlYXRlU2Vzc2lvbkZ1bmN0aW9uJyxcclxuICAgICAgJ2NyZWF0ZS1zZXNzaW9uJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvc2Vzc2lvbi9jcmVhdGVTZXNzaW9uLmhhbmRsZXInLFxyXG4gICAgICAnQ3JlYXRlIGEgc2Vzc2lvbidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRBbGxBY2NvdW50U2Vzc2lvbnMgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldEFsbEFjY291bnRTZXNzaW9uc0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC1hbGwtYWNjb3VudC1zZXNzaW9ucycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Nlc3Npb24vZ2V0QWxsQWNjb3VudFNlc3Npb25zLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGFsbCBhY2NvdW50IHNlc3Npb25zJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmxvZ291dFNlc3Npb24gPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0xvZ291dFNlc3Npb25GdW5jdGlvbicsXHJcbiAgICAgICdsb2dvdXQtc2Vzc2lvbicsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Nlc3Npb24vbG9nb3V0U2Vzc2lvbi5oYW5kbGVyJyxcclxuICAgICAgJ0xvZ291dCBhIHNlc3Npb24nXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEhhc2h0YWdcclxuICAgIHRoaXMuc2VhcmNoQnlIYXNodGFnID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdTZWFyY2hCeUhhc2h0YWdGdW5jdGlvbicsXHJcbiAgICAgICdzZWFyY2gtYnktaGFzaHRhZycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2hhc2h0YWcvc2VhcmNoQnlIYXNodGFnLmhhbmRsZXInLFxyXG4gICAgICAnU2VhcmNoIHBvc3RzIGJ5IGhhc2h0YWcnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0VHJlbmRpbmdIYXNodGFncyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0VHJlbmRpbmdIYXNodGFnc0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC10cmVuZGluZy1oYXNodGFncycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2hhc2h0YWcvZ2V0VHJlbmRpbmdIYXNodGFncy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCB0cmVuZGluZyBoYXNodGFncydcclxuICAgICk7XHJcblxyXG4gICAgLy8gTXV0ZVxyXG4gICAgdGhpcy5tdXRlVXNlciA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnTXV0ZVVzZXJGdW5jdGlvbicsXHJcbiAgICAgICdtdXRlLXVzZXInLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9tdXRlL211dGVVc2VyLmhhbmRsZXInLFxyXG4gICAgICAnTXV0ZSBhIHVzZXInXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMudW5tdXRlVXNlciA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnVW5tdXRlVXNlckZ1bmN0aW9uJyxcclxuICAgICAgJ3VubXV0ZS11c2VyJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbXV0ZS91bm11dGVVc2VyLmhhbmRsZXInLFxyXG4gICAgICAnVW5tdXRlIGEgdXNlcidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRNdXRlZFVzZXJzID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXRNdXRlZFVzZXJzRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LW11dGVkLXVzZXJzJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbXV0ZS9nZXRNdXRlZFVzZXJzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IG11dGVkIHVzZXJzIGxpc3QnXHJcbiAgICApO1xyXG5cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyBTdGFnZSAyQTogRXhpc3RpbmcgRmVhdHVyZSBFeHRlbnNpb25zICgxNCBmdW5jdGlvbnMpXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIC8vIFBvc3Tmi6HlvLVcclxuICAgIHRoaXMudXBkYXRlUG9zdCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnVXBkYXRlUG9zdEZ1bmN0aW9uJyxcclxuICAgICAgJ3VwZGF0ZS1wb3N0JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcG9zdC91cGRhdGVQb3N0LmhhbmRsZXInLFxyXG4gICAgICAnVXBkYXRlIGFuIGV4aXN0aW5nIHBvc3QnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0VXNlclBvc3RzID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXRVc2VyUG9zdHNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtdXNlci1wb3N0cycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Bvc3QvZ2V0VXNlclBvc3RzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IHBvc3RzIGJ5IGEgc3BlY2lmaWMgdXNlcidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXREaXNjb3ZlcnlGZWVkID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXREaXNjb3ZlcnlGZWVkRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LWRpc2NvdmVyeS1mZWVkJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcG9zdC9nZXREaXNjb3ZlcnlGZWVkLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGRpc2NvdmVyeSBmZWVkIHdpdGggcHVibGljIHBvc3RzJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmdldFJvb21Qb3N0cyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0Um9vbVBvc3RzRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LXJvb20tcG9zdHMnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9wb3N0L2dldFJvb21Qb3N0cy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCBwb3N0cyBpbiBhIHNwZWNpZmljIHJvb20nXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEZvbGxvd+aLoeW8tVxyXG4gICAgdGhpcy5nZXRGb2xsb3dpbmcgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldEZvbGxvd2luZ0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC1mb2xsb3dpbmcnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9mb2xsb3cvZ2V0Rm9sbG93aW5nLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGxpc3Qgb2YgYWNjb3VudHMgYSB1c2VyIGlzIGZvbGxvd2luZydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRGb2xsb3dlcnMgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldEZvbGxvd2Vyc0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC1mb2xsb3dlcnMnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9mb2xsb3cvZ2V0Rm9sbG93ZXJzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGxpc3Qgb2YgYWNjb3VudHMgZm9sbG93aW5nIGEgdXNlcidcclxuICAgICk7XHJcblxyXG4gICAgLy8gTGlrZeaLoeW8tVxyXG4gICAgdGhpcy5nZXRQb3N0TGlrZXMgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldFBvc3RMaWtlc0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC1wb3N0LWxpa2VzJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGlrZS9nZXRQb3N0TGlrZXMuaGFuZGxlcicsXHJcbiAgICAgICdHZXQgbGlzdCBvZiBhY2NvdW50cyB0aGF0IGxpa2VkIGEgcG9zdCdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRVc2VyTGlrZXMgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldFVzZXJMaWtlc0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC11c2VyLWxpa2VzJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGlrZS9nZXRVc2VyTGlrZXMuaGFuZGxlcicsXHJcbiAgICAgICdHZXQgbGlzdCBvZiBwb3N0cyBhIHVzZXIgaGFzIGxpa2VkJ1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSZXBvc3Tmi6HlvLVcclxuICAgIHRoaXMuZ2V0VXNlclJlcG9zdHMgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldFVzZXJSZXBvc3RzRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LXVzZXItcmVwb3N0cycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3JlcG9zdC9nZXRVc2VyUmVwb3N0cy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCBsaXN0IG9mIHBvc3RzIGEgdXNlciBoYXMgcmVwb3N0ZWQnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0UG9zdFJlcG9zdHMgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldFBvc3RSZXBvc3RzRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LXBvc3QtcmVwb3N0cycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3JlcG9zdC9nZXRQb3N0UmVwb3N0cy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCBsaXN0IG9mIGFjY291bnRzIHRoYXQgcmVwb3N0ZWQgYSBwb3N0J1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBSb29t5ouh5by1XHJcbiAgICB0aGlzLmdldFJvb20gPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldFJvb21GdW5jdGlvbicsXHJcbiAgICAgICdnZXQtcm9vbScsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Jvb20vZ2V0Um9vbS5oYW5kbGVyJyxcclxuICAgICAgJ0dldCByb29tIGRldGFpbHMnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMudXBkYXRlUm9vbSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnVXBkYXRlUm9vbUZ1bmN0aW9uJyxcclxuICAgICAgJ3VwZGF0ZS1yb29tJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcm9vbS91cGRhdGVSb29tLmhhbmRsZXInLFxyXG4gICAgICAnVXBkYXRlIHJvb20gZGV0YWlscydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRSb29tTWVtYmVycyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0Um9vbU1lbWJlcnNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtcm9vbS1tZW1iZXJzJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcm9vbS9nZXRSb29tTWVtYmVycy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCBsaXN0IG9mIHJvb20gbWVtYmVycydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5sZWF2ZVJvb20gPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0xlYXZlUm9vbUZ1bmN0aW9uJyxcclxuICAgICAgJ2xlYXZlLXJvb20nLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9yb29tL2xlYXZlUm9vbS5oYW5kbGVyJyxcclxuICAgICAgJ0xlYXZlIGEgcm9vbSdcclxuICAgICk7XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgIC8vIFN0YWdlIDJCOiBBbmFseXRpY3MgKDQgZnVuY3Rpb25zKVxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICB0aGlzLnRyYWNrRXZlbnQgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ1RyYWNrRXZlbnRGdW5jdGlvbicsXHJcbiAgICAgICd0cmFjay1ldmVudCcsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2FuYWx5dGljcy90cmFja0V2ZW50LmhhbmRsZXInLFxyXG4gICAgICAnVHJhY2sgdXNlciBldmVudHMgYW5kIGFuYWx5dGljcydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRQb3N0QW5hbHl0aWNzID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXRQb3N0QW5hbHl0aWNzRnVuY3Rpb24nLFxyXG4gICAgICAnZ2V0LXBvc3QtYW5hbHl0aWNzJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvYW5hbHl0aWNzL2dldFBvc3RBbmFseXRpY3MuaGFuZGxlcicsXHJcbiAgICAgICdHZXQgYW5hbHl0aWNzIGZvciBhIHNwZWNpZmljIHBvc3QnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0QWNjb3VudEFuYWx5dGljcyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0QWNjb3VudEFuYWx5dGljc0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC1hY2NvdW50LWFuYWx5dGljcycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2FuYWx5dGljcy9nZXRBY2NvdW50QW5hbHl0aWNzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGFuYWx5dGljcyBmb3IgYW4gYWNjb3VudCdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXREYXNoYm9hcmQgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldERhc2hib2FyZEZ1bmN0aW9uJyxcclxuICAgICAgJ2dldC1kYXNoYm9hcmQnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9hbmFseXRpY3MvZ2V0RGFzaGJvYXJkLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGRhc2hib2FyZCBzdW1tYXJ5IGRhdGEnXHJcbiAgICApO1xyXG5cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyBTdGFnZSAyQzogUHJvZHVjdC9TaG9wICg4IGZ1bmN0aW9ucylcclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgdGhpcy5jcmVhdGVQcm9kdWN0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdDcmVhdGVQcm9kdWN0RnVuY3Rpb24nLFxyXG4gICAgICAnY3JlYXRlLXByb2R1Y3QnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9wcm9kdWN0L2NyZWF0ZVByb2R1Y3QuaGFuZGxlcicsXHJcbiAgICAgICdDcmVhdGUgYSBwcm9kdWN0IGxpc3RpbmcnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0UHJvZHVjdCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0UHJvZHVjdEZ1bmN0aW9uJyxcclxuICAgICAgJ2dldC1wcm9kdWN0JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcHJvZHVjdC9nZXRQcm9kdWN0LmhhbmRsZXInLFxyXG4gICAgICAnR2V0IHByb2R1Y3QgZGV0YWlscydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy51cGRhdGVQcm9kdWN0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdVcGRhdGVQcm9kdWN0RnVuY3Rpb24nLFxyXG4gICAgICAndXBkYXRlLXByb2R1Y3QnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9wcm9kdWN0L3VwZGF0ZVByb2R1Y3QuaGFuZGxlcicsXHJcbiAgICAgICdVcGRhdGUgcHJvZHVjdCBpbmZvcm1hdGlvbidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5kZWxldGVQcm9kdWN0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdEZWxldGVQcm9kdWN0RnVuY3Rpb24nLFxyXG4gICAgICAnZGVsZXRlLXByb2R1Y3QnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9wcm9kdWN0L2RlbGV0ZVByb2R1Y3QuaGFuZGxlcicsXHJcbiAgICAgICdEZWxldGUgYSBwcm9kdWN0J1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmdldFByb2R1Y3RzID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXRQcm9kdWN0c0Z1bmN0aW9uJyxcclxuICAgICAgJ2dldC1wcm9kdWN0cycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Byb2R1Y3QvZ2V0UHJvZHVjdHMuaGFuZGxlcicsXHJcbiAgICAgICdHZXQgcHJvZHVjdCBsaXN0IHdpdGggZmlsdGVycydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy50YWdQcm9kdWN0T25Qb3N0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdUYWdQcm9kdWN0T25Qb3N0RnVuY3Rpb24nLFxyXG4gICAgICAndGFnLXByb2R1Y3Qtb24tcG9zdCcsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Byb2R1Y3QvdGFnUHJvZHVjdE9uUG9zdC5oYW5kbGVyJyxcclxuICAgICAgJ1RhZyBwcm9kdWN0cyBvbiBhIHBvc3QnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0UG9zdFByb2R1Y3RzID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXRQb3N0UHJvZHVjdHNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtcG9zdC1wcm9kdWN0cycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3Byb2R1Y3QvZ2V0UG9zdFByb2R1Y3RzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IHByb2R1Y3RzIHRhZ2dlZCBvbiBhIHBvc3QnXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuY2xpY2tQcm9kdWN0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdDbGlja1Byb2R1Y3RGdW5jdGlvbicsXHJcbiAgICAgICdjbGljay1wcm9kdWN0JyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvcHJvZHVjdC9jbGlja1Byb2R1Y3QuaGFuZGxlcicsXHJcbiAgICAgICdUcmFjayBwcm9kdWN0IGxpbmsgY2xpY2tzJ1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gU3RhZ2UgMkU6IExpdmUgU3RyZWFtaW5nICgxNyBmdW5jdGlvbnMpXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIC8vIFJFU1QgQVBJIEZ1bmN0aW9ucyAoMTQpXHJcblxyXG4gICAgdGhpcy5jcmVhdGVMaXZlU3RyZWFtID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdDcmVhdGVMaXZlU3RyZWFtRnVuY3Rpb24nLFxyXG4gICAgICAnY3JlYXRlLWxpdmUtc3RyZWFtJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGl2ZS9jcmVhdGVMaXZlU3RyZWFtLmhhbmRsZXInLFxyXG4gICAgICAnQ3JlYXRlIGEgbGl2ZSBzdHJlYW0nXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZGVsZXRlTGl2ZVN0cmVhbSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnRGVsZXRlTGl2ZVN0cmVhbUZ1bmN0aW9uJyxcclxuICAgICAgJ2RlbGV0ZS1saXZlLXN0cmVhbScsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2xpdmUvZGVsZXRlTGl2ZVN0cmVhbS5oYW5kbGVyJyxcclxuICAgICAgJ0RlbGV0ZSBhIGxpdmUgc3RyZWFtJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmdldExpdmVTdHJlYW0gPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0dldExpdmVTdHJlYW1GdW5jdGlvbicsXHJcbiAgICAgICdnZXQtbGl2ZS1zdHJlYW0nLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9saXZlL2dldExpdmVTdHJlYW0uaGFuZGxlcicsXHJcbiAgICAgICdHZXQgbGl2ZSBzdHJlYW0gZGV0YWlscydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5nZXRMaXZlU3RyZWFtcyA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnR2V0TGl2ZVN0cmVhbXNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtbGl2ZS1zdHJlYW1zJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGl2ZS9nZXRMaXZlU3RyZWFtcy5oYW5kbGVyJyxcclxuICAgICAgJ0dldCBsaXN0IG9mIGxpdmUgc3RyZWFtcydcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5lbmRMaXZlU3RyZWFtID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdFbmRMaXZlU3RyZWFtRnVuY3Rpb24nLFxyXG4gICAgICAnZW5kLWxpdmUtc3RyZWFtJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGl2ZS9lbmRMaXZlU3RyZWFtLmhhbmRsZXInLFxyXG4gICAgICAnRW5kIGEgbGl2ZSBzdHJlYW0nXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuam9pbkxpdmVTdHJlYW0gPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ0pvaW5MaXZlU3RyZWFtRnVuY3Rpb24nLFxyXG4gICAgICAnam9pbi1saXZlLXN0cmVhbScsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2xpdmUvam9pbkxpdmVTdHJlYW0uaGFuZGxlcicsXHJcbiAgICAgICdKb2luIGEgbGl2ZSBzdHJlYW0gYXMgdmlld2VyJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmxlYXZlTGl2ZVN0cmVhbSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnTGVhdmVMaXZlU3RyZWFtRnVuY3Rpb24nLFxyXG4gICAgICAnbGVhdmUtbGl2ZS1zdHJlYW0nLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9saXZlL2xlYXZlTGl2ZVN0cmVhbS5oYW5kbGVyJyxcclxuICAgICAgJ0xlYXZlIGEgbGl2ZSBzdHJlYW0nXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuc2VuZExpdmVDaGF0ID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdTZW5kTGl2ZUNoYXRGdW5jdGlvbicsXHJcbiAgICAgICdzZW5kLWxpdmUtY2hhdCcsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2xpdmUvc2VuZExpdmVDaGF0LmhhbmRsZXInLFxyXG4gICAgICAnU2VuZCBhIGNoYXQgbWVzc2FnZSBkdXJpbmcgbGl2ZSBzdHJlYW0nXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuZ2V0TGl2ZUNoYXRzID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdHZXRMaXZlQ2hhdHNGdW5jdGlvbicsXHJcbiAgICAgICdnZXQtbGl2ZS1jaGF0cycsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2xpdmUvZ2V0TGl2ZUNoYXRzLmhhbmRsZXInLFxyXG4gICAgICAnR2V0IGNoYXQgbWVzc2FnZXMgZnJvbSBsaXZlIHN0cmVhbSdcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5zZW5kR2lmdCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnU2VuZEdpZnRGdW5jdGlvbicsXHJcbiAgICAgICdzZW5kLWdpZnQnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy9saXZlL3NlbmRHaWZ0LmhhbmRsZXInLFxyXG4gICAgICAnU2VuZCBhIGdpZnQgZHVyaW5nIGxpdmUgc3RyZWFtJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkZE1vZGVyYXRvciA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQWRkTW9kZXJhdG9yRnVuY3Rpb24nLFxyXG4gICAgICAnYWRkLW1vZGVyYXRvcicsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2xpdmUvYWRkTW9kZXJhdG9yLmhhbmRsZXInLFxyXG4gICAgICAnQWRkIGEgbW9kZXJhdG9yIHRvIGxpdmUgc3RyZWFtJ1xyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmJhblVzZXJGcm9tTGl2ZSA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnQmFuVXNlckZyb21MaXZlRnVuY3Rpb24nLFxyXG4gICAgICAnYmFuLXVzZXItZnJvbS1saXZlJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGl2ZS9iYW5Vc2VyRnJvbUxpdmUuaGFuZGxlcicsXHJcbiAgICAgICdCYW4gYSB1c2VyIGZyb20gbGl2ZSBzdHJlYW0nXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMubXV4V2ViaG9vayA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnTXV4V2ViaG9va0Z1bmN0aW9uJyxcclxuICAgICAgJ211eC13ZWJob29rJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvbGl2ZS9tdXhXZWJob29rLmhhbmRsZXInLFxyXG4gICAgICAnSGFuZGxlIE11eCB3ZWJob29rIGV2ZW50cydcclxuICAgICk7XHJcblxyXG4gICAgLy8gV2ViU29ja2V0IEZ1bmN0aW9ucyAoMylcclxuXHJcbiAgICB0aGlzLndzQ29ubmVjdCA9IGNyZWF0ZUxhbWJkYUZ1bmN0aW9uKFxyXG4gICAgICAnV3NDb25uZWN0RnVuY3Rpb24nLFxyXG4gICAgICAnd3MtY29ubmVjdCcsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL3dlYnNvY2tldC9jb25uZWN0LmhhbmRsZXInLFxyXG4gICAgICAnV2ViU29ja2V0IGNvbm5lY3Rpb24gaGFuZGxlcidcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy53c0Rpc2Nvbm5lY3QgPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ1dzRGlzY29ubmVjdEZ1bmN0aW9uJyxcclxuICAgICAgJ3dzLWRpc2Nvbm5lY3QnLFxyXG4gICAgICAnZGlzdC9oYW5kbGVycy93ZWJzb2NrZXQvZGlzY29ubmVjdC5oYW5kbGVyJyxcclxuICAgICAgJ1dlYlNvY2tldCBkaXNjb25uZWN0aW9uIGhhbmRsZXInXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMud3NNZXNzYWdlID0gY3JlYXRlTGFtYmRhRnVuY3Rpb24oXHJcbiAgICAgICdXc01lc3NhZ2VGdW5jdGlvbicsXHJcbiAgICAgICd3cy1tZXNzYWdlJyxcclxuICAgICAgJ2Rpc3QvaGFuZGxlcnMvd2Vic29ja2V0L21lc3NhZ2UuaGFuZGxlcicsXHJcbiAgICAgICdXZWJTb2NrZXQgbWVzc2FnZSBoYW5kbGVyJ1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBTZWNyZXRzIE1hbmFnZXLmqKnpmZDjgpLov73liqDvvIhNdXjoqo3oqLzmg4XloLHlj5blvpfnlKjvvIlcclxuICAgIGNvbnN0IHNlY3JldHNNYW5hZ2VyUG9saWN5ID0gbmV3IGlhbS5Qb2xpY3lTdGF0ZW1lbnQoe1xyXG4gICAgICBhY3Rpb25zOiBbJ3NlY3JldHNtYW5hZ2VyOkdldFNlY3JldFZhbHVlJ10sXHJcbiAgICAgIHJlc291cmNlczogW1xyXG4gICAgICAgIGBhcm46YXdzOnNlY3JldHNtYW5hZ2VyOiR7Y2RrLlN0YWNrLm9mKHRoaXMpLnJlZ2lvbn06JHtjZGsuU3RhY2sub2YodGhpcykuYWNjb3VudH06c2VjcmV0OnJvcmsvbXV4LWNyZWRlbnRpYWxzLSpgLFxyXG4gICAgICBdLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVMaXZlU3RyZWFtLmFkZFRvUm9sZVBvbGljeShzZWNyZXRzTWFuYWdlclBvbGljeSk7XHJcbiAgICB0aGlzLmRlbGV0ZUxpdmVTdHJlYW0uYWRkVG9Sb2xlUG9saWN5KHNlY3JldHNNYW5hZ2VyUG9saWN5KTtcclxuICAgIHRoaXMubXV4V2ViaG9vay5hZGRUb1JvbGVQb2xpY3koc2VjcmV0c01hbmFnZXJQb2xpY3kpO1xyXG5cclxuICAgIC8vIFdlYlNvY2tldCBBUEkgR2F0ZXdheSBNYW5hZ2VtZW505qip6ZmQ44KS6L+95YqgXHJcbiAgICBjb25zdCBhcGlHYXRld2F5TWFuYWdlbWVudFBvbGljeSA9IG5ldyBpYW0uUG9saWN5U3RhdGVtZW50KHtcclxuICAgICAgYWN0aW9uczogWydleGVjdXRlLWFwaTpNYW5hZ2VDb25uZWN0aW9ucycsICdleGVjdXRlLWFwaTpJbnZva2UnXSxcclxuICAgICAgcmVzb3VyY2VzOiBbXHJcbiAgICAgICAgYGFybjphd3M6ZXhlY3V0ZS1hcGk6JHtjZGsuU3RhY2sub2YodGhpcykucmVnaW9ufToke2Nkay5TdGFjay5vZih0aGlzKS5hY2NvdW50fToqYCxcclxuICAgICAgXSxcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMud3NDb25uZWN0LmFkZFRvUm9sZVBvbGljeShhcGlHYXRld2F5TWFuYWdlbWVudFBvbGljeSk7XHJcbiAgICB0aGlzLndzTWVzc2FnZS5hZGRUb1JvbGVQb2xpY3koYXBpR2F0ZXdheU1hbmFnZW1lbnRQb2xpY3kpO1xyXG5cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAvLyBDb2duaXRvIFRyaWdnZXJzXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIC8vIFBvc3QgQ29uZmlybWF0aW9uIFRyaWdnZXJcclxuICAgIC8vIOODoeODvOODq+eiuuiqjeW+jOOAgUR5bmFtb0RC44Gr44Ki44Kr44Km44Oz44OI44KS5L2c5oiQXHJcbiAgICB0aGlzLnBvc3RDb25maXJtYXRpb24gPSBjcmVhdGVMYW1iZGFGdW5jdGlvbihcclxuICAgICAgJ1Bvc3RDb25maXJtYXRpb25GdW5jdGlvbicsXHJcbiAgICAgICdwb3N0LWNvbmZpcm1hdGlvbicsXHJcbiAgICAgICdkaXN0L2hhbmRsZXJzL2NvZ25pdG8vcG9zdENvbmZpcm1hdGlvbi5oYW5kbGVyJyxcclxuICAgICAgJ0NvZ25pdG8gUG9zdCBDb25maXJtYXRpb24gVHJpZ2dlciAtIENyZWF0ZSBhY2NvdW50IGluIER5bmFtb0RCJ1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBDb2duaXRvIEFkbWlu5qip6ZmQ44KS6L+95Yqg77yIQWRtaW5EZWxldGVVc2Vy44Gu44Gf44KB77yJXHJcbiAgICB0aGlzLnBvc3RDb25maXJtYXRpb24uYWRkVG9Sb2xlUG9saWN5KFxyXG4gICAgICBuZXcgaWFtLlBvbGljeVN0YXRlbWVudCh7XHJcbiAgICAgICAgYWN0aW9uczogW1xyXG4gICAgICAgICAgJ2NvZ25pdG8taWRwOkFkbWluRGVsZXRlVXNlcicsXHJcbiAgICAgICAgICAnY29nbml0by1pZHA6QWRtaW5HZXRVc2VyJyxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHJlc291cmNlczogW1xyXG4gICAgICAgICAgYGFybjphd3M6Y29nbml0by1pZHA6JHtjZGsuU3RhY2sub2YodGhpcykucmVnaW9ufToke2Nkay5TdGFjay5vZih0aGlzKS5hY2NvdW50fTp1c2VycG9vbC8qYCxcclxuICAgICAgICBdLFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgLy8gT3V0cHV0c1xyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCAnQ3JlYXRlQWNjb3VudEZ1bmN0aW9uQXJuJywge1xyXG4gICAgICB2YWx1ZTogdGhpcy5jcmVhdGVBY2NvdW50LmZ1bmN0aW9uQXJuLFxyXG4gICAgICBleHBvcnROYW1lOiBgUGllY2VBcHAtQ3JlYXRlQWNjb3VudEFybi0ke2Vudmlyb25tZW50fWAsXHJcbiAgICB9KTtcclxuXHJcbiAgICBuZXcgY2RrLkNmbk91dHB1dCh0aGlzLCAnQ3JlYXRlUG9zdEZ1bmN0aW9uQXJuJywge1xyXG4gICAgICB2YWx1ZTogdGhpcy5jcmVhdGVQb3N0LmZ1bmN0aW9uQXJuLFxyXG4gICAgICBleHBvcnROYW1lOiBgUGllY2VBcHAtQ3JlYXRlUG9zdEFybi0ke2Vudmlyb25tZW50fWAsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl19